function Bk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ST(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},lc={},Kp={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function $k(){if(z_)return We;z_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function R(q,ee,we){this.props=q,this.context=ee,this.refs=S,this.updater=we||T}R.prototype.isReactComponent={},R.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=R.prototype;function M(q,ee,we){this.props=q,this.context=ee,this.refs=S,this.updater=we||T}var F=M.prototype=new k;F.constructor=M,C(F,R.prototype),F.isPureReactComponent=!0;var W=Array.isArray,H=Object.prototype.hasOwnProperty,Z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(q,ee,we){var ye,Pe={},De=null,se=null;if(ee!=null)for(ye in ee.ref!==void 0&&(se=ee.ref),ee.key!==void 0&&(De=""+ee.key),ee)H.call(ee,ye)&&!P.hasOwnProperty(ye)&&(Pe[ye]=ee[ye]);var Ee=arguments.length-2;if(Ee===1)Pe.children=we;else if(1<Ee){for(var Y=Array(Ee),ce=0;ce<Ee;ce++)Y[ce]=arguments[ce+2];Pe.children=Y}if(q&&q.defaultProps)for(ye in Ee=q.defaultProps,Ee)Pe[ye]===void 0&&(Pe[ye]=Ee[ye]);return{$$typeof:t,type:q,key:De,ref:se,props:Pe,_owner:Z.current}}function V(q,ee){return{$$typeof:t,type:q.type,key:ee,ref:q.ref,props:q.props,_owner:q._owner}}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(we){return ee[we]})}var U=/\/+/g;function O(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):ee.toString(36)}function ge(q,ee,we,ye,Pe){var De=typeof q;(De==="undefined"||De==="boolean")&&(q=null);var se=!1;if(q===null)se=!0;else switch(De){case"string":case"number":se=!0;break;case"object":switch(q.$$typeof){case t:case e:se=!0}}if(se)return se=q,Pe=Pe(se),q=ye===""?"."+O(se,0):ye,W(Pe)?(we="",q!=null&&(we=q.replace(U,"$&/")+"/"),ge(Pe,ee,we,"",function(ce){return ce})):Pe!=null&&(j(Pe)&&(Pe=V(Pe,we+(!Pe.key||se&&se.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+q)),ee.push(Pe)),1;if(se=0,ye=ye===""?".":ye+":",W(q))for(var Ee=0;Ee<q.length;Ee++){De=q[Ee];var Y=ye+O(De,Ee);se+=ge(De,ee,we,Y,Pe)}else if(Y=_(q),typeof Y=="function")for(q=Y.call(q),Ee=0;!(De=q.next()).done;)De=De.value,Y=ye+O(De,Ee++),se+=ge(De,ee,we,Y,Pe);else if(De==="object")throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return se}function be(q,ee,we){if(q==null)return q;var ye=[],Pe=0;return ge(q,ye,"","",function(De){return ee.call(we,De,Pe++)}),ye}function fe(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(we){(q._status===0||q._status===-1)&&(q._status=1,q._result=we)},function(we){(q._status===0||q._status===-1)&&(q._status=2,q._result=we)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var de={current:null},$={transition:null},le={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:$,ReactCurrentOwner:Z};function ae(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:be,forEach:function(q,ee,we){be(q,function(){ee.apply(this,arguments)},we)},count:function(q){var ee=0;return be(q,function(){ee++}),ee},toArray:function(q){return be(q,function(ee){return ee})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},We.Component=R,We.Fragment=n,We.Profiler=s,We.PureComponent=M,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,We.act=ae,We.cloneElement=function(q,ee,we){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ye=C({},q.props),Pe=q.key,De=q.ref,se=q._owner;if(ee!=null){if(ee.ref!==void 0&&(De=ee.ref,se=Z.current),ee.key!==void 0&&(Pe=""+ee.key),q.type&&q.type.defaultProps)var Ee=q.type.defaultProps;for(Y in ee)H.call(ee,Y)&&!P.hasOwnProperty(Y)&&(ye[Y]=ee[Y]===void 0&&Ee!==void 0?Ee[Y]:ee[Y])}var Y=arguments.length-2;if(Y===1)ye.children=we;else if(1<Y){Ee=Array(Y);for(var ce=0;ce<Y;ce++)Ee[ce]=arguments[ce+2];ye.children=Ee}return{$$typeof:t,type:q.type,key:Pe,ref:De,props:ye,_owner:se}},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},We.createElement=I,We.createFactory=function(q){var ee=I.bind(null,q);return ee.type=q,ee},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:u,render:q}},We.isValidElement=j,We.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:fe}},We.memo=function(q,ee){return{$$typeof:p,type:q,compare:ee===void 0?null:ee}},We.startTransition=function(q){var ee=$.transition;$.transition={};try{q()}finally{$.transition=ee}},We.unstable_act=ae,We.useCallback=function(q,ee){return de.current.useCallback(q,ee)},We.useContext=function(q){return de.current.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q){return de.current.useDeferredValue(q)},We.useEffect=function(q,ee){return de.current.useEffect(q,ee)},We.useId=function(){return de.current.useId()},We.useImperativeHandle=function(q,ee,we){return de.current.useImperativeHandle(q,ee,we)},We.useInsertionEffect=function(q,ee){return de.current.useInsertionEffect(q,ee)},We.useLayoutEffect=function(q,ee){return de.current.useLayoutEffect(q,ee)},We.useMemo=function(q,ee){return de.current.useMemo(q,ee)},We.useReducer=function(q,ee,we){return de.current.useReducer(q,ee,we)},We.useRef=function(q){return de.current.useRef(q)},We.useState=function(q){return de.current.useState(q)},We.useSyncExternalStore=function(q,ee,we){return de.current.useSyncExternalStore(q,ee,we)},We.useTransition=function(){return de.current.useTransition()},We.version="18.3.1",We}var B_;function Gg(){return B_||(B_=1,Kp.exports=$k()),Kp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function Wk(){if($_)return lc;$_=1;var t=Gg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var m,y={},_=null,T=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:_,ref:T,props:y,_owner:s.current}}return lc.Fragment=n,lc.jsx=l,lc.jsxs=l,lc}var W_;function qk(){return W_||(W_=1,Hp.exports=Wk()),Hp.exports}var E=qk(),bd={},Gp={exports:{}},Tn={},Qp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Hk(){return q_||(q_=1,(function(t){function e($,le){var ae=$.length;$.push(le);e:for(;0<ae;){var q=ae-1>>>1,ee=$[q];if(0<s(ee,le))$[q]=le,$[ae]=ee,ae=q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var le=$[0],ae=$.pop();if(ae!==le){$[0]=ae;e:for(var q=0,ee=$.length,we=ee>>>1;q<we;){var ye=2*(q+1)-1,Pe=$[ye],De=ye+1,se=$[De];if(0>s(Pe,ae))De<ee&&0>s(se,Pe)?($[q]=se,$[De]=ae,q=De):($[q]=Pe,$[ye]=ae,q=ye);else if(De<ee&&0>s(se,ae))$[q]=se,$[De]=ae,q=De;else break e}}return le}function s($,le){var ae=$.sortIndex-le.sortIndex;return ae!==0?ae:$.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,y=null,_=3,T=!1,C=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F($){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=$)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(p)}}function W($){if(S=!1,F($),!C)if(n(h)!==null)C=!0,fe(H);else{var le=n(p);le!==null&&de(W,le.startTime-$)}}function H($,le){C=!1,S&&(S=!1,k(I),I=-1),T=!0;var ae=_;try{for(F(le),y=n(h);y!==null&&(!(y.expirationTime>le)||$&&!D());){var q=y.callback;if(typeof q=="function"){y.callback=null,_=y.priorityLevel;var ee=q(y.expirationTime<=le);le=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===n(h)&&r(h),F(le)}else r(h);y=n(h)}if(y!==null)var we=!0;else{var ye=n(p);ye!==null&&de(W,ye.startTime-le),we=!1}return we}finally{y=null,_=ae,T=!1}}var Z=!1,P=null,I=-1,V=5,j=-1;function D(){return!(t.unstable_now()-j<V)}function U(){if(P!==null){var $=t.unstable_now();j=$;var le=!0;try{le=P(!0,$)}finally{le?O():(Z=!1,P=null)}}else Z=!1}var O;if(typeof M=="function")O=function(){M(U)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,be=ge.port2;ge.port1.onmessage=U,O=function(){be.postMessage(null)}}else O=function(){R(U,0)};function fe($){P=$,Z||(Z=!0,O())}function de($,le){I=R(function(){$(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,fe(H))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ae=_;_=le;try{return $()}finally{_=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=_;_=$;try{return le()}finally{_=ae}},t.unstable_scheduleCallback=function($,le,ae){var q=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,$={id:m++,callback:le,priorityLevel:$,startTime:ae,expirationTime:ee,sortIndex:-1},ae>q?($.sortIndex=ae,e(p,$),n(h)===null&&$===n(p)&&(S?(k(I),I=-1):S=!0,de(W,ae-q))):($.sortIndex=ee,e(h,$),C||T||(C=!0,fe(H))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var le=_;return function(){var ae=_;_=le;try{return $.apply(this,arguments)}finally{_=ae}}}})(Yp)),Yp}var H_;function Kk(){return H_||(H_=1,Qp.exports=Hk()),Qp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function Gk(){if(K_)return Tn;K_=1;var t=Gg(),e=Kk();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(i){return h.call(y,i)?!0:h.call(m,i)?!1:p.test(i)?y[i]=!0:(m[i]=!0,!1)}function T(i,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,c,f){if(o===null||typeof o>"u"||T(i,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,c,f,g,v,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function M(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(k,M);R[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(k,M);R[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(k,M);R[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,f){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,g,f)&&(c=null),f||g===null?_(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):g.mustUseProperty?i[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?i.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?i.setAttributeNS(f,o,c):i.setAttribute(o,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),$=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,q;function ee(i){if(q===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+i}var we=!1;function ye(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),v=f.stack.split(`
`),A=g.length-1,L=v.length-1;1<=A&&0<=L&&g[A]!==v[L];)L--;for(;1<=A&&0<=L;A--,L--)if(g[A]!==v[L]){if(A!==1||L!==1)do if(A--,L--,0>L||g[A]!==v[L]){var z=`
`+g[A].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=A&&0<=L);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?ee(i):""}function Pe(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case Z:return"Portal";case V:return"Profiler";case I:return"StrictMode";case O:return"Suspense";case ge:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case be:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case fe:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function se(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Y(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ce(i){var o=Y(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){f=""+A,v.call(this,A)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ve(i){i._valueTracker||(i._valueTracker=ce(i))}function Fe(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=Y(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function ht(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Nt(i,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function gn(i,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Ee(o.value!=null?o.value:c),i._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function yn(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function un(i,o){yn(i,o);var c=Ee(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?je(i,o.type,c):o.hasOwnProperty("defaultValue")&&je(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function er(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function je(i,o,c){(o!=="number"||ht(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var rt=Array.isArray;function $t(i,o,c,f){if(i=i.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=o.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Ee(c),o=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function gl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function yl(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(rt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Ee(c)}}function pu(i,o){var c=Ee(o.value),f=Ee(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),f!=null&&(i.defaultValue=""+f)}function Ni(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function vl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?vl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Di,mu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,c,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Di.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function zs(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gu=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(i){gu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Vi[o]=Vi[i]})});function Mi(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Vi.hasOwnProperty(i)&&Vi[i]?(""+o).trim():o+"px"}function Lo(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Mi(c,o[c],f);c==="float"&&(c="cssFloat"),f?i.setProperty(c,g):i[c]=g}}var wl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(i,o){if(o){if(wl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function jo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Fo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ei=null,ti=null,wt=null;function _l(i){if(i=Kl(i)){if(typeof ei!="function")throw Error(n(280));var o=i.stateNode;o&&(o=$u(o),ei(i.stateNode,i.type,o))}}function Li(i){ti?wt?wt.push(i):wt=[i]:ti=i}function ji(){if(ti){var i=ti,o=wt;if(wt=ti=null,_l(i),o)for(i=0;i<o.length;i++)_l(o[i])}}function yu(i,o){return i(o)}function vu(){}var _r=!1;function wu(i,o,c){if(_r)return i(o,c);_r=!0;try{return yu(i,o,c)}finally{_r=!1,(ti!==null||wt!==null)&&(vu(),ji())}}function Bs(i,o){var c=i.stateNode;if(c===null)return null;var f=$u(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Fi=!1;if(u)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Fi=!1}function _u(i,o,c,f,g,v,A,L,z){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ie){this.onError(ie)}}var ni=!1,Er=null,Uo=!1,Un=null,Eu={onError:function(i){ni=!0,Er=i}};function xu(i,o,c,f,g,v,A,L,z){ni=!1,Er=null,_u.apply(Eu,arguments)}function El(i,o,c,f,g,v,A,L,z){if(xu.apply(this,arguments),ni){if(ni){var X=Er;ni=!1,Er=null}else throw Error(n(198));Uo||(Uo=!0,Un=X)}}function nr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function xl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Tu(i){if(nr(i)!==i)throw Error(n(188))}function Su(i){var o=i.alternate;if(!o){if(o=nr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,f=o;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return Tu(g),i;if(v===f)return Tu(g),o;v=v.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=v;else{for(var A=!1,L=g.child;L;){if(L===c){A=!0,c=g,f=v;break}if(L===f){A=!0,f=g,c=v;break}L=L.sibling}if(!A){for(L=v.child;L;){if(L===c){A=!0,c=v,f=g;break}if(L===f){A=!0,f=v,c=g;break}L=L.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Iu(i){return i=Su(i),i!==null?$s(i):null}function $s(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$s(i);if(o!==null)return o;i=i.sibling}return null}var Tl=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,Ws=e.unstable_shouldYield,ri=e.unstable_requestPaint,lt=e.unstable_now,Tf=e.unstable_getCurrentPriorityLevel,Bo=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,qs=e.unstable_NormalPriority,Il=e.unstable_LowPriority,$o=e.unstable_IdlePriority,Hs=null,bn=null;function Au(i){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Hs,i,void 0,(i.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:Ks,xr=Math.log,zn=Math.LN2;function Ks(i){return i>>>=0,i===0?32:31-(xr(i)/zn|0)|0}var Tr=64,zi=4194304;function Je(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ii(i,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,g=i.suspendedLanes,v=i.pingedLanes,A=c&268435455;if(A!==0){var L=A&~g;L!==0?f=Je(L):(v&=A,v!==0&&(f=Je(v)))}else A=c&~g,A!==0?f=Je(A):v!==0&&(f=Je(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)c=31-kn(o),g=1<<c,f|=i[c],o&=~g;return f}function Gs(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var A=31-kn(v),L=1<<A,z=g[A];z===-1?((L&c)===0||(L&f)!==0)&&(g[A]=Gs(L,o)):z<=o&&(i.expiredLanes|=L),v&=~L}}function Al(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cl(){var i=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),i}function bl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ys(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-kn(o),i[o]=c}function Sf(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<c;){var g=31-kn(c),v=1<<g;o[g]=0,f[g]=-1,i[g]=-1,c&=~v}}function kl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-kn(c),g=1<<f;g&o|i[f]&o&&(i[f]|=o),c&=~g}}var Ge=0;function Sr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Pl,Wo,Rl,Nl,Dl,Ir=!1,qo=[],Ar=null,Cr=null,Wt=null,Xs=new Map,si=new Map,Pn=[],Cu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bi(i,o){switch(i){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Xs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(o.pointerId)}}function rr(i,o,c,f,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Kl(o),o!==null&&Wo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function bu(i,o,c,f,g){switch(o){case"focusin":return Ar=rr(Ar,i,o,c,f,g),!0;case"dragenter":return Cr=rr(Cr,i,o,c,f,g),!0;case"mouseover":return Wt=rr(Wt,i,o,c,f,g),!0;case"pointerover":var v=g.pointerId;return Xs.set(v,rr(Xs.get(v)||null,i,o,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,si.set(v,rr(si.get(v)||null,i,o,c,f,g)),!0}return!1}function Ho(i){var o=to(i.target);if(o!==null){var c=nr(o);if(c!==null){if(o=c.tag,o===13){if(o=xl(c),o!==null){i.blockedOn=o,Dl(i.priority,function(){Rl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function it(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Oi=f,c.target.dispatchEvent(f),Oi=null}else return o=Kl(c),o!==null&&Wo(o),i.blockedOn=c,!1;o.shift()}return!0}function ku(i,o,c){it(i)&&c.delete(o)}function If(){Ir=!1,Ar!==null&&it(Ar)&&(Ar=null),Cr!==null&&it(Cr)&&(Cr=null),Wt!==null&&it(Wt)&&(Wt=null),Xs.forEach(ku),si.forEach(ku)}function $i(i,o){i.blockedOn===o&&(i.blockedOn=null,Ir||(Ir=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,If)))}function Wi(i){function o(g){return $i(g,i)}if(0<qo.length){$i(qo[0],i);for(var c=1;c<qo.length;c++){var f=qo[c];f.blockedOn===i&&(f.blockedOn=null)}}for(Ar!==null&&$i(Ar,i),Cr!==null&&$i(Cr,i),Wt!==null&&$i(Wt,i),Xs.forEach(o),si.forEach(o),c=0;c<Pn.length;c++)f=Pn[c],f.blockedOn===i&&(f.blockedOn=null);for(;0<Pn.length&&(c=Pn[0],c.blockedOn===null);)Ho(c),c.blockedOn===null&&Pn.shift()}var oi=W.ReactCurrentBatchConfig,ai=!0;function br(i,o,c,f){var g=Ge,v=oi.transition;oi.transition=null;try{Ge=1,Vl(i,o,c,f)}finally{Ge=g,oi.transition=v}}function Pu(i,o,c,f){var g=Ge,v=oi.transition;oi.transition=null;try{Ge=4,Vl(i,o,c,f)}finally{Ge=g,oi.transition=v}}function Vl(i,o,c,f){if(ai){var g=Ko(i,o,c,f);if(g===null)Of(i,o,f,kr,c),Bi(i,f);else if(bu(g,i,o,c,f))f.stopPropagation();else if(Bi(i,f),o&4&&-1<Cu.indexOf(i)){for(;g!==null;){var v=Kl(g);if(v!==null&&Pl(v),v=Ko(i,o,c,f),v===null&&Of(i,o,f,kr,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else Of(i,o,f,null,c)}}var kr=null;function Ko(i,o,c,f){if(kr=null,i=Fo(f),i=to(i),i!==null)if(o=nr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=xl(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return kr=i,null}function Go(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case Bo:return 1;case Sl:return 4;case qs:case Il:return 16;case $o:return 536870912;default:return 16}default:return 16}}var Rn=null,Qo=null,li=null;function Ru(){if(li)return li;var i,o=Qo,c=o.length,f,g="value"in Rn?Rn.value:Rn.textContent,v=g.length;for(i=0;i<c&&o[i]===g[i];i++);var A=c-i;for(f=1;f<=A&&o[c-f]===g[v-f];f++);return li=g.slice(i,1<f?1-f:void 0)}function Js(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Pr(){return!0}function Ml(){return!1}function Zt(i){function o(c,f,g,v,A){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Pr:Ml,this.isPropagationStopped=Ml,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),o}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Zt(Rr),qi=ae({},Rr,{view:0,detail:0}),Yo=Zt(qi),Xo,Jo,Nn,eo=ae({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Nn&&(Nn&&i.type==="mousemove"?(Xo=i.screenX-Nn.screenX,Jo=i.screenY-Nn.screenY):Jo=Xo=0,Nn=i),Xo)},movementY:function(i){return"movementY"in i?i.movementY:Jo}}),Ol=Zt(eo),Nu=ae({},eo,{dataTransfer:0}),Du=Zt(Nu),Zo=ae({},qi,{relatedTarget:0}),qt=Zt(Zo),Vu=ae({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Zt(Vu),Hi=ae({},Rr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),d=Zt(Hi),w=ae({},Rr,{data:0}),x=Zt(w),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J[i])?!!o[i]:!1}function ze(){return he}var Tt=ae({},qi,{key:function(i){if(i.key){var o=N[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(i){return i.type==="keypress"?Js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=Zt(Tt),At=ae({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dn=Zt(At),ci=ae({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),Nr=Zt(ci),Dr=ae({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ea=Zt(Dr),Ll=ae({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ob=Zt(Ll),Lb=[9,13,27,32],Af=u&&"CompositionEvent"in window,jl=null;u&&"documentMode"in document&&(jl=document.documentMode);var jb=u&&"TextEvent"in window&&!jl,Dv=u&&(!Af||jl&&8<jl&&11>=jl),Vv=" ",Mv=!1;function Ov(i,o){switch(i){case"keyup":return Lb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ta=!1;function Fb(i,o){switch(i){case"compositionend":return Lv(o);case"keypress":return o.which!==32?null:(Mv=!0,Vv);case"textInput":return i=o.data,i===Vv&&Mv?null:i;default:return null}}function Ub(i,o){if(ta)return i==="compositionend"||!Af&&Ov(i,o)?(i=Ru(),li=Qo=Rn=null,ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Dv&&o.locale!=="ko"?null:o.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!zb[i.type]:o==="textarea"}function Fv(i,o,c,f){Li(f),o=Uu(o,"onChange"),0<o.length&&(c=new Zs("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var Fl=null,Ul=null;function Bb(i){rw(i,0)}function Ou(i){var o=oa(i);if(Fe(o))return i}function $b(i,o){if(i==="change")return o}var Uv=!1;if(u){var Cf;if(u){var bf="oninput"in document;if(!bf){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),bf=typeof zv.oninput=="function"}Cf=bf}else Cf=!1;Uv=Cf&&(!document.documentMode||9<document.documentMode)}function Bv(){Fl&&(Fl.detachEvent("onpropertychange",$v),Ul=Fl=null)}function $v(i){if(i.propertyName==="value"&&Ou(Ul)){var o=[];Fv(o,Ul,i,Fo(i)),wu(Bb,o)}}function Wb(i,o,c){i==="focusin"?(Bv(),Fl=o,Ul=c,Fl.attachEvent("onpropertychange",$v)):i==="focusout"&&Bv()}function qb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ou(Ul)}function Hb(i,o){if(i==="click")return Ou(o)}function Kb(i,o){if(i==="input"||i==="change")return Ou(o)}function Gb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ir=typeof Object.is=="function"?Object.is:Gb;function zl(i,o){if(ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(o,g)||!ir(i[g],o[g]))return!1}return!0}function Wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qv(i,o){var c=Wv(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Wv(c)}}function Hv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Hv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kv(){for(var i=window,o=ht();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ht(i.document)}return o}function kf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Qb(i){var o=Kv(),c=i.focusedElem,f=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Hv(c.ownerDocument.documentElement,c)){if(f!==null&&kf(c)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!i.extend&&v>f&&(g=f,f=v,v=g),g=qv(c,v);var A=qv(c,f);g&&A&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Yb=u&&"documentMode"in document&&11>=document.documentMode,na=null,Pf=null,Bl=null,Rf=!1;function Gv(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rf||na==null||na!==ht(f)||(f=na,"selectionStart"in f&&kf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Bl&&zl(Bl,f)||(Bl=f,f=Uu(Pf,"onSelect"),0<f.length&&(o=new Zs("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=na)))}function Lu(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var ra={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Nf={},Qv={};u&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ju(i){if(Nf[i])return Nf[i];if(!ra[i])return i;var o=ra[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Qv)return Nf[i]=o[c];return i}var Yv=ju("animationend"),Xv=ju("animationiteration"),Jv=ju("animationstart"),Zv=ju("transitionend"),ew=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(i,o){ew.set(i,o),a(o,[i])}for(var Df=0;Df<tw.length;Df++){var Vf=tw[Df],Xb=Vf.toLowerCase(),Jb=Vf[0].toUpperCase()+Vf.slice(1);Ki(Xb,"on"+Jb)}Ki(Yv,"onAnimationEnd"),Ki(Xv,"onAnimationIteration"),Ki(Jv,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(Zv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function nw(i,o,c){var f=i.type||"unknown-event";i.currentTarget=c,El(f,o,void 0,i),i.currentTarget=null}function rw(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],g=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var A=f.length-1;0<=A;A--){var L=f[A],z=L.instance,X=L.currentTarget;if(L=L.listener,z!==v&&g.isPropagationStopped())break e;nw(g,L,X),v=z}else for(A=0;A<f.length;A++){if(L=f[A],z=L.instance,X=L.currentTarget,L=L.listener,z!==v&&g.isPropagationStopped())break e;nw(g,L,X),v=z}}}if(Uo)throw i=Un,Uo=!1,Un=null,i}function ct(i,o){var c=o[Bf];c===void 0&&(c=o[Bf]=new Set);var f=i+"__bubble";c.has(f)||(iw(o,i,2,!1),c.add(f))}function Mf(i,o,c){var f=0;o&&(f|=4),iw(c,i,f,o)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Wl(i){if(!i[Fu]){i[Fu]=!0,r.forEach(function(c){c!=="selectionchange"&&(Zb.has(c)||Mf(c,!1,i),Mf(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Fu]||(o[Fu]=!0,Mf("selectionchange",!1,o))}}function iw(i,o,c,f){switch(Go(o)){case 1:var g=br;break;case 4:g=Pu;break;default:g=Vl}c=g.bind(null,o,c,i),g=void 0,!Fi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,c,{capture:!0,passive:g}):i.addEventListener(o,c,!0):g!==void 0?i.addEventListener(o,c,{passive:g}):i.addEventListener(o,c,!1)}function Of(i,o,c,f,g){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var L=f.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(A===4)for(A=f.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;A=A.return}for(;L!==null;){if(A=to(L),A===null)return;if(z=A.tag,z===5||z===6){f=v=A;continue e}L=L.parentNode}}f=f.return}wu(function(){var X=v,ie=Fo(c),oe=[];e:{var re=ew.get(i);if(re!==void 0){var pe=Zs,xe=i;switch(i){case"keypress":if(Js(c)===0)break e;case"keydown":case"keyup":pe=tt;break;case"focusin":xe="focus",pe=qt;break;case"focusout":xe="blur",pe=qt;break;case"beforeblur":case"afterblur":pe=qt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Nr;break;case Yv:case Xv:case Jv:pe=Mu;break;case Zv:pe=ea;break;case"scroll":pe=Yo;break;case"wheel":pe=Ob;break;case"copy":case"cut":case"paste":pe=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Dn}var Ae=(o&4)!==0,St=!Ae&&i==="scroll",K=Ae?re!==null?re+"Capture":null:re;Ae=[];for(var B=X,Q;B!==null;){Q=B;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,K!==null&&(ue=Bs(B,K),ue!=null&&Ae.push(ql(B,ue,Q)))),St)break;B=B.return}0<Ae.length&&(re=new pe(re,xe,null,c,ie),oe.push({event:re,listeners:Ae}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",re&&c!==Oi&&(xe=c.relatedTarget||c.fromElement)&&(to(xe)||xe[ui]))break e;if((pe||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(xe=c.relatedTarget||c.toElement,pe=X,xe=xe?to(xe):null,xe!==null&&(St=nr(xe),xe!==St||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=X),pe!==xe)){if(Ae=Ol,ue="onMouseLeave",K="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Dn,ue="onPointerLeave",K="onPointerEnter",B="pointer"),St=pe==null?re:oa(pe),Q=xe==null?re:oa(xe),re=new Ae(ue,B+"leave",pe,c,ie),re.target=St,re.relatedTarget=Q,ue=null,to(ie)===X&&(Ae=new Ae(K,B+"enter",xe,c,ie),Ae.target=Q,Ae.relatedTarget=St,ue=Ae),St=ue,pe&&xe)t:{for(Ae=pe,K=xe,B=0,Q=Ae;Q;Q=ia(Q))B++;for(Q=0,ue=K;ue;ue=ia(ue))Q++;for(;0<B-Q;)Ae=ia(Ae),B--;for(;0<Q-B;)K=ia(K),Q--;for(;B--;){if(Ae===K||K!==null&&Ae===K.alternate)break t;Ae=ia(Ae),K=ia(K)}Ae=null}else Ae=null;pe!==null&&sw(oe,re,pe,Ae,!1),xe!==null&&St!==null&&sw(oe,St,xe,Ae,!0)}}e:{if(re=X?oa(X):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ce=$b;else if(jv(re))if(Uv)Ce=Kb;else{Ce=qb;var Re=Wb}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ce=Hb);if(Ce&&(Ce=Ce(i,X))){Fv(oe,Ce,c,ie);break e}Re&&Re(i,re,X),i==="focusout"&&(Re=re._wrapperState)&&Re.controlled&&re.type==="number"&&je(re,"number",re.value)}switch(Re=X?oa(X):window,i){case"focusin":(jv(Re)||Re.contentEditable==="true")&&(na=Re,Pf=X,Bl=null);break;case"focusout":Bl=Pf=na=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Gv(oe,c,ie);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":Gv(oe,c,ie)}var Ne;if(Af)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ta?Ov(i,c)&&(Le="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(Dv&&c.locale!=="ko"&&(ta||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ta&&(Ne=Ru()):(Rn=ie,Qo="value"in Rn?Rn.value:Rn.textContent,ta=!0)),Re=Uu(X,Le),0<Re.length&&(Le=new x(Le,i,null,c,ie),oe.push({event:Le,listeners:Re}),Ne?Le.data=Ne:(Ne=Lv(c),Ne!==null&&(Le.data=Ne)))),(Ne=jb?Fb(i,c):Ub(i,c))&&(X=Uu(X,"onBeforeInput"),0<X.length&&(ie=new x("onBeforeInput","beforeinput",null,c,ie),oe.push({event:ie,listeners:X}),ie.data=Ne))}rw(oe,o)})}function ql(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Uu(i,o){for(var c=o+"Capture",f=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Bs(i,c),v!=null&&f.unshift(ql(i,v,g)),v=Bs(i,o),v!=null&&f.push(ql(i,v,g))),i=i.return}return f}function ia(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sw(i,o,c,f,g){for(var v=o._reactName,A=[];c!==null&&c!==f;){var L=c,z=L.alternate,X=L.stateNode;if(z!==null&&z===f)break;L.tag===5&&X!==null&&(L=X,g?(z=Bs(c,v),z!=null&&A.unshift(ql(c,z,L))):g||(z=Bs(c,v),z!=null&&A.push(ql(c,z,L)))),c=c.return}A.length!==0&&i.push({event:o,listeners:A})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function ow(i){return(typeof i=="string"?i:""+i).replace(ek,`
`).replace(tk,"")}function zu(i,o,c){if(o=ow(o),ow(i)!==o&&c)throw Error(n(425))}function Bu(){}var Lf=null,jf=null;function Ff(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(i){return aw.resolve(null).then(i).catch(ik)}:Uf;function ik(i){setTimeout(function(){throw i})}function zf(i,o){var c=o,f=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){i.removeChild(g),Wi(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Wi(o)}function Gi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function lw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Vr="__reactFiber$"+sa,Hl="__reactProps$"+sa,ui="__reactContainer$"+sa,Bf="__reactEvents$"+sa,sk="__reactListeners$"+sa,ok="__reactHandles$"+sa;function to(i){var o=i[Vr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ui]||c[Vr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=lw(i);i!==null;){if(c=i[Vr])return c;i=lw(i)}return o}i=c,c=i.parentNode}return null}function Kl(i){return i=i[Vr]||i[ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function oa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function $u(i){return i[Hl]||null}var $f=[],aa=-1;function Qi(i){return{current:i}}function ut(i){0>aa||(i.current=$f[aa],$f[aa]=null,aa--)}function st(i,o){aa++,$f[aa]=i.current,i.current=o}var Yi={},en=Qi(Yi),vn=Qi(!1),no=Yi;function la(i,o){var c=i.type.contextTypes;if(!c)return Yi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function wn(i){return i=i.childContextTypes,i!=null}function Wu(){ut(vn),ut(en)}function cw(i,o,c){if(en.current!==Yi)throw Error(n(168));st(en,o),st(vn,c)}function uw(i,o,c){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,se(i)||"Unknown",g));return ae({},c,f)}function qu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Yi,no=en.current,st(en,i),st(vn,vn.current),!0}function dw(i,o,c){var f=i.stateNode;if(!f)throw Error(n(169));c?(i=uw(i,o,no),f.__reactInternalMemoizedMergedChildContext=i,ut(vn),ut(en),st(en,i)):ut(vn),st(vn,c)}var di=null,Hu=!1,Wf=!1;function hw(i){di===null?di=[i]:di.push(i)}function ak(i){Hu=!0,hw(i)}function Xi(){if(!Wf&&di!==null){Wf=!0;var i=0,o=Ge;try{var c=di;for(Ge=1;i<c.length;i++){var f=c[i];do f=f(!0);while(f!==null)}di=null,Hu=!1}catch(g){throw di!==null&&(di=di.slice(i+1)),Tl(Bo,Xi),g}finally{Ge=o,Wf=!1}}return null}var ca=[],ua=0,Ku=null,Gu=0,Bn=[],$n=0,ro=null,hi=1,fi="";function io(i,o){ca[ua++]=Gu,ca[ua++]=Ku,Ku=i,Gu=o}function fw(i,o,c){Bn[$n++]=hi,Bn[$n++]=fi,Bn[$n++]=ro,ro=i;var f=hi;i=fi;var g=32-kn(f)-1;f&=~(1<<g),c+=1;var v=32-kn(o)+g;if(30<v){var A=g-g%5;v=(f&(1<<A)-1).toString(32),f>>=A,g-=A,hi=1<<32-kn(o)+g|c<<g|f,fi=v+i}else hi=1<<v|c<<g|f,fi=i}function qf(i){i.return!==null&&(io(i,1),fw(i,1,0))}function Hf(i){for(;i===Ku;)Ku=ca[--ua],ca[ua]=null,Gu=ca[--ua],ca[ua]=null;for(;i===ro;)ro=Bn[--$n],Bn[$n]=null,fi=Bn[--$n],Bn[$n]=null,hi=Bn[--$n],Bn[$n]=null}var Vn=null,Mn=null,ft=!1,sr=null;function pw(i,o){var c=Kn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function mw(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Vn=i,Mn=Gi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Vn=i,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ro!==null?{id:hi,overflow:fi}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Kn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Vn=i,Mn=null,!0):!1;default:return!1}}function Kf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Gf(i){if(ft){var o=Mn;if(o){var c=o;if(!mw(i,o)){if(Kf(i))throw Error(n(418));o=Gi(c.nextSibling);var f=Vn;o&&mw(i,o)?pw(f,c):(i.flags=i.flags&-4097|2,ft=!1,Vn=i)}}else{if(Kf(i))throw Error(n(418));i.flags=i.flags&-4097|2,ft=!1,Vn=i}}}function gw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Vn=i}function Qu(i){if(i!==Vn)return!1;if(!ft)return gw(i),ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ff(i.type,i.memoizedProps)),o&&(o=Mn)){if(Kf(i))throw yw(),Error(n(418));for(;o;)pw(i,o),o=Gi(o.nextSibling)}if(gw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Mn=Gi(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Mn=null}}else Mn=Vn?Gi(i.stateNode.nextSibling):null;return!0}function yw(){for(var i=Mn;i;)i=Gi(i.nextSibling)}function da(){Mn=Vn=null,ft=!1}function Qf(i){sr===null?sr=[i]:sr.push(i)}var lk=W.ReactCurrentBatchConfig;function Gl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,i));var g=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(A){var L=g.refs;A===null?delete L[v]:L[v]=A},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function Yu(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function vw(i){var o=i._init;return o(i._payload)}function ww(i){function o(K,B){if(i){var Q=K.deletions;Q===null?(K.deletions=[B],K.flags|=16):Q.push(B)}}function c(K,B){if(!i)return null;for(;B!==null;)o(K,B),B=B.sibling;return null}function f(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function g(K,B){return K=ss(K,B),K.index=0,K.sibling=null,K}function v(K,B,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<B?(K.flags|=2,B):Q):(K.flags|=2,B)):(K.flags|=1048576,B)}function A(K){return i&&K.alternate===null&&(K.flags|=2),K}function L(K,B,Q,ue){return B===null||B.tag!==6?(B=Up(Q,K.mode,ue),B.return=K,B):(B=g(B,Q),B.return=K,B)}function z(K,B,Q,ue){var Ce=Q.type;return Ce===P?ie(K,B,Q.props.children,ue,Q.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&vw(Ce)===B.type)?(ue=g(B,Q.props),ue.ref=Gl(K,B,Q),ue.return=K,ue):(ue=_d(Q.type,Q.key,Q.props,null,K.mode,ue),ue.ref=Gl(K,B,Q),ue.return=K,ue)}function X(K,B,Q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=zp(Q,K.mode,ue),B.return=K,B):(B=g(B,Q.children||[]),B.return=K,B)}function ie(K,B,Q,ue,Ce){return B===null||B.tag!==7?(B=fo(Q,K.mode,ue,Ce),B.return=K,B):(B=g(B,Q),B.return=K,B)}function oe(K,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Up(""+B,K.mode,Q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return Q=_d(B.type,B.key,B.props,null,K.mode,Q),Q.ref=Gl(K,null,B),Q.return=K,Q;case Z:return B=zp(B,K.mode,Q),B.return=K,B;case fe:var ue=B._init;return oe(K,ue(B._payload),Q)}if(rt(B)||le(B))return B=fo(B,K.mode,Q,null),B.return=K,B;Yu(K,B)}return null}function re(K,B,Q,ue){var Ce=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ce!==null?null:L(K,B,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===Ce?z(K,B,Q,ue):null;case Z:return Q.key===Ce?X(K,B,Q,ue):null;case fe:return Ce=Q._init,re(K,B,Ce(Q._payload),ue)}if(rt(Q)||le(Q))return Ce!==null?null:ie(K,B,Q,ue,null);Yu(K,Q)}return null}function pe(K,B,Q,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(Q)||null,L(B,K,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case H:return K=K.get(ue.key===null?Q:ue.key)||null,z(B,K,ue,Ce);case Z:return K=K.get(ue.key===null?Q:ue.key)||null,X(B,K,ue,Ce);case fe:var Re=ue._init;return pe(K,B,Q,Re(ue._payload),Ce)}if(rt(ue)||le(ue))return K=K.get(Q)||null,ie(B,K,ue,Ce,null);Yu(B,ue)}return null}function xe(K,B,Q,ue){for(var Ce=null,Re=null,Ne=B,Le=B=0,Ut=null;Ne!==null&&Le<Q.length;Le++){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var Xe=re(K,Ne,Q[Le],ue);if(Xe===null){Ne===null&&(Ne=Ut);break}i&&Ne&&Xe.alternate===null&&o(K,Ne),B=v(Xe,B,Le),Re===null?Ce=Xe:Re.sibling=Xe,Re=Xe,Ne=Ut}if(Le===Q.length)return c(K,Ne),ft&&io(K,Le),Ce;if(Ne===null){for(;Le<Q.length;Le++)Ne=oe(K,Q[Le],ue),Ne!==null&&(B=v(Ne,B,Le),Re===null?Ce=Ne:Re.sibling=Ne,Re=Ne);return ft&&io(K,Le),Ce}for(Ne=f(K,Ne);Le<Q.length;Le++)Ut=pe(Ne,K,Le,Q[Le],ue),Ut!==null&&(i&&Ut.alternate!==null&&Ne.delete(Ut.key===null?Le:Ut.key),B=v(Ut,B,Le),Re===null?Ce=Ut:Re.sibling=Ut,Re=Ut);return i&&Ne.forEach(function(os){return o(K,os)}),ft&&io(K,Le),Ce}function Ae(K,B,Q,ue){var Ce=le(Q);if(typeof Ce!="function")throw Error(n(150));if(Q=Ce.call(Q),Q==null)throw Error(n(151));for(var Re=Ce=null,Ne=B,Le=B=0,Ut=null,Xe=Q.next();Ne!==null&&!Xe.done;Le++,Xe=Q.next()){Ne.index>Le?(Ut=Ne,Ne=null):Ut=Ne.sibling;var os=re(K,Ne,Xe.value,ue);if(os===null){Ne===null&&(Ne=Ut);break}i&&Ne&&os.alternate===null&&o(K,Ne),B=v(os,B,Le),Re===null?Ce=os:Re.sibling=os,Re=os,Ne=Ut}if(Xe.done)return c(K,Ne),ft&&io(K,Le),Ce;if(Ne===null){for(;!Xe.done;Le++,Xe=Q.next())Xe=oe(K,Xe.value,ue),Xe!==null&&(B=v(Xe,B,Le),Re===null?Ce=Xe:Re.sibling=Xe,Re=Xe);return ft&&io(K,Le),Ce}for(Ne=f(K,Ne);!Xe.done;Le++,Xe=Q.next())Xe=pe(Ne,K,Le,Xe.value,ue),Xe!==null&&(i&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Le:Xe.key),B=v(Xe,B,Le),Re===null?Ce=Xe:Re.sibling=Xe,Re=Xe);return i&&Ne.forEach(function(zk){return o(K,zk)}),ft&&io(K,Le),Ce}function St(K,B,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===P&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var Ce=Q.key,Re=B;Re!==null;){if(Re.key===Ce){if(Ce=Q.type,Ce===P){if(Re.tag===7){c(K,Re.sibling),B=g(Re,Q.props.children),B.return=K,K=B;break e}}else if(Re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===fe&&vw(Ce)===Re.type){c(K,Re.sibling),B=g(Re,Q.props),B.ref=Gl(K,Re,Q),B.return=K,K=B;break e}c(K,Re);break}else o(K,Re);Re=Re.sibling}Q.type===P?(B=fo(Q.props.children,K.mode,ue,Q.key),B.return=K,K=B):(ue=_d(Q.type,Q.key,Q.props,null,K.mode,ue),ue.ref=Gl(K,B,Q),ue.return=K,K=ue)}return A(K);case Z:e:{for(Re=Q.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(K,B.sibling),B=g(B,Q.children||[]),B.return=K,K=B;break e}else{c(K,B);break}else o(K,B);B=B.sibling}B=zp(Q,K.mode,ue),B.return=K,K=B}return A(K);case fe:return Re=Q._init,St(K,B,Re(Q._payload),ue)}if(rt(Q))return xe(K,B,Q,ue);if(le(Q))return Ae(K,B,Q,ue);Yu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,B!==null&&B.tag===6?(c(K,B.sibling),B=g(B,Q),B.return=K,K=B):(c(K,B),B=Up(Q,K.mode,ue),B.return=K,K=B),A(K)):c(K,B)}return St}var ha=ww(!0),_w=ww(!1),Xu=Qi(null),Ju=null,fa=null,Yf=null;function Xf(){Yf=fa=Ju=null}function Jf(i){var o=Xu.current;ut(Xu),i._currentValue=o}function Zf(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function pa(i,o){Ju=i,Yf=fa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(_n=!0),i.firstContext=null)}function Wn(i){var o=i._currentValue;if(Yf!==i)if(i={context:i,memoizedValue:o,next:null},fa===null){if(Ju===null)throw Error(n(308));fa=i,Ju.dependencies={lanes:0,firstContext:i}}else fa=fa.next=i;return o}var so=null;function ep(i){so===null?so=[i]:so.push(i)}function Ew(i,o,c,f){var g=o.interleaved;return g===null?(c.next=c,ep(o)):(c.next=g.next,g.next=c),o.interleaved=c,pi(i,f)}function pi(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ji=!1;function tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xw(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Zi(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ye&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,pi(i,c)}return g=f.interleaved,g===null?(o.next=o,ep(f)):(o.next=g.next,g.next=o),f.interleaved=o,pi(i,c)}function Zu(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,kl(i,c)}}function Tw(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=A:v=v.next=A,c=c.next}while(c!==null);v===null?g=v=o:v=v.next=o}else g=v=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function ed(i,o,c,f){var g=i.updateQueue;Ji=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var z=L,X=z.next;z.next=null,A===null?v=X:A.next=X,A=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==A&&(L===null?ie.firstBaseUpdate=X:L.next=X,ie.lastBaseUpdate=z))}if(v!==null){var oe=g.baseState;A=0,ie=X=z=null,L=v;do{var re=L.lane,pe=L.eventTime;if((f&re)===re){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var xe=i,Ae=L;switch(re=o,pe=c,Ae.tag){case 1:if(xe=Ae.payload,typeof xe=="function"){oe=xe.call(pe,oe,re);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ae.payload,re=typeof xe=="function"?xe.call(pe,oe,re):xe,re==null)break e;oe=ae({},oe,re);break e;case 2:Ji=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,re=g.effects,re===null?g.effects=[L]:re.push(L))}else pe={eventTime:pe,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(X=ie=pe,z=oe):ie=ie.next=pe,A|=re;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;re=L,L=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(z=oe),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,o=g.shared.interleaved,o!==null){g=o;do A|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);lo|=A,i.lanes=A,i.memoizedState=oe}}function Sw(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Ql={},Mr=Qi(Ql),Yl=Qi(Ql),Xl=Qi(Ql);function oo(i){if(i===Ql)throw Error(n(174));return i}function np(i,o){switch(st(Xl,o),st(Yl,i),st(Mr,Ql),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Oo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Oo(o,i)}ut(Mr),st(Mr,o)}function ma(){ut(Mr),ut(Yl),ut(Xl)}function Iw(i){oo(Xl.current);var o=oo(Mr.current),c=Oo(o,i.type);o!==c&&(st(Yl,i),st(Mr,c))}function rp(i){Yl.current===i&&(ut(Mr),ut(Yl))}var mt=Qi(0);function td(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ip=[];function sp(){for(var i=0;i<ip.length;i++)ip[i]._workInProgressVersionPrimary=null;ip.length=0}var nd=W.ReactCurrentDispatcher,op=W.ReactCurrentBatchConfig,ao=0,gt=null,Dt=null,jt=null,rd=!1,Jl=!1,Zl=0,ck=0;function tn(){throw Error(n(321))}function ap(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!ir(i[c],o[c]))return!1;return!0}function lp(i,o,c,f,g,v){if(ao=v,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,nd.current=i===null||i.memoizedState===null?fk:pk,i=c(f,g),Jl){v=0;do{if(Jl=!1,Zl=0,25<=v)throw Error(n(301));v+=1,jt=Dt=null,o.updateQueue=null,nd.current=mk,i=c(f,g)}while(Jl)}if(nd.current=od,o=Dt!==null&&Dt.next!==null,ao=0,jt=Dt=gt=null,rd=!1,o)throw Error(n(300));return i}function cp(){var i=Zl!==0;return Zl=0,i}function Or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?gt.memoizedState=jt=i:jt=jt.next=i,jt}function qn(){if(Dt===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=jt===null?gt.memoizedState:jt.next;if(o!==null)jt=o,Dt=i;else{if(i===null)throw Error(n(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},jt===null?gt.memoizedState=jt=i:jt=jt.next=i}return jt}function ec(i,o){return typeof o=="function"?o(i):o}function up(i){var o=qn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var f=Dt,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var L=A=null,z=null,X=v;do{var ie=X.lane;if((ao&ie)===ie)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var oe={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(L=z=oe,A=f):z=z.next=oe,gt.lanes|=ie,lo|=ie}X=X.next}while(X!==null&&X!==v);z===null?A=f:z.next=L,ir(f,o.memoizedState)||(_n=!0),o.memoizedState=f,o.baseState=A,o.baseQueue=z,c.lastRenderedState=f}if(i=c.interleaved,i!==null){g=i;do v=g.lane,gt.lanes|=v,lo|=v,g=g.next;while(g!==i)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function dp(i){var o=qn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var f=c.dispatch,g=c.pending,v=o.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do v=i(v,A.action),A=A.next;while(A!==g);ir(v,o.memoizedState)||(_n=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,f]}function Aw(){}function Cw(i,o){var c=gt,f=qn(),g=o(),v=!ir(f.memoizedState,g);if(v&&(f.memoizedState=g,_n=!0),f=f.queue,hp(Pw.bind(null,c,f,i),[i]),f.getSnapshot!==o||v||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,tc(9,kw.bind(null,c,f,g,o),void 0,null),Ft===null)throw Error(n(349));(ao&30)!==0||bw(c,o,g)}return g}function bw(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function kw(i,o,c,f){o.value=c,o.getSnapshot=f,Rw(o)&&Nw(i)}function Pw(i,o,c){return c(function(){Rw(o)&&Nw(i)})}function Rw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!ir(i,c)}catch{return!0}}function Nw(i){var o=pi(i,1);o!==null&&cr(o,i,1,-1)}function Dw(i){var o=Or();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:i},o.queue=i,i=i.dispatch=hk.bind(null,gt,i),[o.memoizedState,i]}function tc(i,o,c,f){return i={tag:i,create:o,destroy:c,deps:f,next:null},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i)),i}function Vw(){return qn().memoizedState}function id(i,o,c,f){var g=Or();gt.flags|=i,g.memoizedState=tc(1|o,c,void 0,f===void 0?null:f)}function sd(i,o,c,f){var g=qn();f=f===void 0?null:f;var v=void 0;if(Dt!==null){var A=Dt.memoizedState;if(v=A.destroy,f!==null&&ap(f,A.deps)){g.memoizedState=tc(o,c,v,f);return}}gt.flags|=i,g.memoizedState=tc(1|o,c,v,f)}function Mw(i,o){return id(8390656,8,i,o)}function hp(i,o){return sd(2048,8,i,o)}function Ow(i,o){return sd(4,2,i,o)}function Lw(i,o){return sd(4,4,i,o)}function jw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Fw(i,o,c){return c=c!=null?c.concat([i]):null,sd(4,4,jw.bind(null,o,i),c)}function fp(){}function Uw(i,o){var c=qn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&ap(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function zw(i,o){var c=qn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&ap(o,f[1])?f[0]:(i=i(),c.memoizedState=[i,o],i)}function Bw(i,o,c){return(ao&21)===0?(i.baseState&&(i.baseState=!1,_n=!0),i.memoizedState=c):(ir(c,o)||(c=Cl(),gt.lanes|=c,lo|=c,i.baseState=!0),o)}function uk(i,o){var c=Ge;Ge=c!==0&&4>c?c:4,i(!0);var f=op.transition;op.transition={};try{i(!1),o()}finally{Ge=c,op.transition=f}}function $w(){return qn().memoizedState}function dk(i,o,c){var f=rs(i);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},Ww(i))qw(o,c);else if(c=Ew(i,o,c,f),c!==null){var g=hn();cr(c,i,f,g),Hw(c,o,f)}}function hk(i,o,c){var f=rs(i),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ww(i))qw(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,L=v(A,c);if(g.hasEagerState=!0,g.eagerState=L,ir(L,A)){var z=o.interleaved;z===null?(g.next=g,ep(o)):(g.next=z.next,z.next=g),o.interleaved=g;return}}catch{}finally{}c=Ew(i,o,g,f),c!==null&&(g=hn(),cr(c,i,f,g),Hw(c,o,f))}}function Ww(i){var o=i.alternate;return i===gt||o!==null&&o===gt}function qw(i,o){Jl=rd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function Hw(i,o,c){if((c&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,kl(i,c)}}var od={readContext:Wn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},fk={readContext:Wn,useCallback:function(i,o){return Or().memoizedState=[i,o===void 0?null:o],i},useContext:Wn,useEffect:Mw,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,id(4194308,4,jw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return id(4194308,4,i,o)},useInsertionEffect:function(i,o){return id(4,2,i,o)},useMemo:function(i,o){var c=Or();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var f=Or();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=dk.bind(null,gt,i),[f.memoizedState,i]},useRef:function(i){var o=Or();return i={current:i},o.memoizedState=i},useState:Dw,useDebugValue:fp,useDeferredValue:function(i){return Or().memoizedState=i},useTransition:function(){var i=Dw(!1),o=i[0];return i=uk.bind(null,i[1]),Or().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var f=gt,g=Or();if(ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Ft===null)throw Error(n(349));(ao&30)!==0||bw(f,o,c)}g.memoizedState=c;var v={value:c,getSnapshot:o};return g.queue=v,Mw(Pw.bind(null,f,v,i),[i]),f.flags|=2048,tc(9,kw.bind(null,f,v,c,o),void 0,null),c},useId:function(){var i=Or(),o=Ft.identifierPrefix;if(ft){var c=fi,f=hi;c=(f&~(1<<32-kn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Zl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=ck++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},pk={readContext:Wn,useCallback:Uw,useContext:Wn,useEffect:hp,useImperativeHandle:Fw,useInsertionEffect:Ow,useLayoutEffect:Lw,useMemo:zw,useReducer:up,useRef:Vw,useState:function(){return up(ec)},useDebugValue:fp,useDeferredValue:function(i){var o=qn();return Bw(o,Dt.memoizedState,i)},useTransition:function(){var i=up(ec)[0],o=qn().memoizedState;return[i,o]},useMutableSource:Aw,useSyncExternalStore:Cw,useId:$w,unstable_isNewReconciler:!1},mk={readContext:Wn,useCallback:Uw,useContext:Wn,useEffect:hp,useImperativeHandle:Fw,useInsertionEffect:Ow,useLayoutEffect:Lw,useMemo:zw,useReducer:dp,useRef:Vw,useState:function(){return dp(ec)},useDebugValue:fp,useDeferredValue:function(i){var o=qn();return Dt===null?o.memoizedState=i:Bw(o,Dt.memoizedState,i)},useTransition:function(){var i=dp(ec)[0],o=qn().memoizedState;return[i,o]},useMutableSource:Aw,useSyncExternalStore:Cw,useId:$w,unstable_isNewReconciler:!1};function or(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function pp(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:ae({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var ad={isMounted:function(i){return(i=i._reactInternals)?nr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var f=hn(),g=rs(i),v=mi(f,g);v.payload=o,c!=null&&(v.callback=c),o=Zi(i,v,g),o!==null&&(cr(o,i,g,f),Zu(o,i,g))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=hn(),g=rs(i),v=mi(f,g);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Zi(i,v,g),o!==null&&(cr(o,i,g,f),Zu(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=hn(),f=rs(i),g=mi(c,f);g.tag=2,o!=null&&(g.callback=o),o=Zi(i,g,f),o!==null&&(cr(o,i,f,c),Zu(o,i,f))}};function Kw(i,o,c,f,g,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,A):o.prototype&&o.prototype.isPureReactComponent?!zl(c,f)||!zl(g,v):!0}function Gw(i,o,c){var f=!1,g=Yi,v=o.contextType;return typeof v=="object"&&v!==null?v=Wn(v):(g=wn(o)?no:en.current,f=o.contextTypes,v=(f=f!=null)?la(i,g):Yi),o=new o(c,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ad,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function Qw(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&ad.enqueueReplaceState(o,o.state,null)}function mp(i,o,c,f){var g=i.stateNode;g.props=c,g.state=i.memoizedState,g.refs={},tp(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=Wn(v):(v=wn(o)?no:en.current,g.context=la(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(pp(i,o,v,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&ad.enqueueReplaceState(g,g.state,null),ed(i,c,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ga(i,o){try{var c="",f=o;do c+=Pe(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g,digest:null}}function gp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function yp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function Yw(i,o,c){c=mi(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){pd||(pd=!0,Np=f),yp(i,o)},c}function Xw(i,o,c){c=mi(-1,c),c.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){yp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){yp(i,o),typeof f!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function Jw(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new gk;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),i=Pk.bind(null,i,o,c),o.then(i,i))}function Zw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function e_(i,o,c,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=mi(-1,1),o.tag=2,Zi(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var yk=W.ReactCurrentOwner,_n=!1;function dn(i,o,c,f){o.child=i===null?_w(o,null,c,f):ha(o,i.child,c,f)}function t_(i,o,c,f,g){c=c.render;var v=o.ref;return pa(o,g),f=lp(i,o,c,f,v,g),c=cp(),i!==null&&!_n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gi(i,o,g)):(ft&&c&&qf(o),o.flags|=1,dn(i,o,f,g),o.child)}function n_(i,o,c,f,g){if(i===null){var v=c.type;return typeof v=="function"&&!Fp(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=v,r_(i,o,v,f,g)):(i=_d(c.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var A=v.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(A,f)&&i.ref===o.ref)return gi(i,o,g)}return o.flags|=1,i=ss(v,f),i.ref=o.ref,i.return=o,o.child=i}function r_(i,o,c,f,g){if(i!==null){var v=i.memoizedProps;if(zl(v,f)&&i.ref===o.ref)if(_n=!1,o.pendingProps=f=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(_n=!0);else return o.lanes=i.lanes,gi(i,o,g)}return vp(i,o,c,f,g)}function i_(i,o,c){var f=o.pendingProps,g=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(va,On),On|=c;else{if((c&1073741824)===0)return i=v!==null?v.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,st(va,On),On|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,st(va,On),On|=f}else v!==null?(f=v.baseLanes|c,o.memoizedState=null):f=c,st(va,On),On|=f;return dn(i,o,g,c),o.child}function s_(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function vp(i,o,c,f,g){var v=wn(c)?no:en.current;return v=la(o,v),pa(o,g),c=lp(i,o,c,f,v,g),f=cp(),i!==null&&!_n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,gi(i,o,g)):(ft&&f&&qf(o),o.flags|=1,dn(i,o,c,g),o.child)}function o_(i,o,c,f,g){if(wn(c)){var v=!0;qu(o)}else v=!1;if(pa(o,g),o.stateNode===null)cd(i,o),Gw(o,c,f),mp(o,c,f,g),f=!0;else if(i===null){var A=o.stateNode,L=o.memoizedProps;A.props=L;var z=A.context,X=c.contextType;typeof X=="object"&&X!==null?X=Wn(X):(X=wn(c)?no:en.current,X=la(o,X));var ie=c.getDerivedStateFromProps,oe=typeof ie=="function"||typeof A.getSnapshotBeforeUpdate=="function";oe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==f||z!==X)&&Qw(o,A,f,X),Ji=!1;var re=o.memoizedState;A.state=re,ed(o,f,A,g),z=o.memoizedState,L!==f||re!==z||vn.current||Ji?(typeof ie=="function"&&(pp(o,c,ie,f),z=o.memoizedState),(L=Ji||Kw(o,c,L,f,re,z,X))?(oe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=z),A.props=f,A.state=z,A.context=X,f=L):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{A=o.stateNode,xw(i,o),L=o.memoizedProps,X=o.type===o.elementType?L:or(o.type,L),A.props=X,oe=o.pendingProps,re=A.context,z=c.contextType,typeof z=="object"&&z!==null?z=Wn(z):(z=wn(c)?no:en.current,z=la(o,z));var pe=c.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(L!==oe||re!==z)&&Qw(o,A,f,z),Ji=!1,re=o.memoizedState,A.state=re,ed(o,f,A,g);var xe=o.memoizedState;L!==oe||re!==xe||vn.current||Ji?(typeof pe=="function"&&(pp(o,c,pe,f),xe=o.memoizedState),(X=Ji||Kw(o,c,X,f,re,xe,z)||!1)?(ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(f,xe,z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(f,xe,z)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=xe),A.props=f,A.state=xe,A.context=z,f=X):(typeof A.componentDidUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),f=!1)}return wp(i,o,c,f,v,g)}function wp(i,o,c,f,g,v){s_(i,o);var A=(o.flags&128)!==0;if(!f&&!A)return g&&dw(o,c,!1),gi(i,o,v);f=o.stateNode,yk.current=o;var L=A&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&A?(o.child=ha(o,i.child,null,v),o.child=ha(o,null,L,v)):dn(i,o,L,v),o.memoizedState=f.state,g&&dw(o,c,!0),o.child}function a_(i){var o=i.stateNode;o.pendingContext?cw(i,o.pendingContext,o.pendingContext!==o.context):o.context&&cw(i,o.context,!1),np(i,o.containerInfo)}function l_(i,o,c,f,g){return da(),Qf(g),o.flags|=256,dn(i,o,c,f),o.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function Ep(i){return{baseLanes:i,cachePool:null,transitions:null}}function c_(i,o,c){var f=o.pendingProps,g=mt.current,v=!1,A=(o.flags&128)!==0,L;if((L=A)||(L=i!==null&&i.memoizedState===null?!1:(g&2)!==0),L?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),st(mt,g&1),i===null)return Gf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=f.children,i=f.fallback,v?(f=o.mode,v=o.child,A={mode:"hidden",children:A},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=A):v=Ed(A,f,0,null),i=fo(i,f,c,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Ep(c),o.memoizedState=_p,i):xp(o,A));if(g=i.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return vk(i,o,A,f,L,g,c);if(v){v=f.fallback,A=o.mode,g=i.child,L=g.sibling;var z={mode:"hidden",children:f.children};return(A&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=z,o.deletions=null):(f=ss(g,z),f.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=ss(L,v):(v=fo(v,A,c,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,A=i.child.memoizedState,A=A===null?Ep(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},v.memoizedState=A,v.childLanes=i.childLanes&~c,o.memoizedState=_p,f}return v=i.child,i=v.sibling,f=ss(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=f,o.memoizedState=null,f}function xp(i,o){return o=Ed({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ld(i,o,c,f){return f!==null&&Qf(f),ha(o,i.child,null,c),i=xp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function vk(i,o,c,f,g,v,A){if(c)return o.flags&256?(o.flags&=-257,f=gp(Error(n(422))),ld(i,o,A,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,g=o.mode,f=Ed({mode:"visible",children:f.children},g,0,null),v=fo(v,g,A,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&ha(o,i.child,null,A),o.child.memoizedState=Ep(A),o.memoizedState=_p,v);if((o.mode&1)===0)return ld(i,o,A,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(n(419)),f=gp(v,f,void 0),ld(i,o,A,f)}if(L=(A&i.childLanes)!==0,_n||L){if(f=Ft,f!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|A))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,pi(i,g),cr(f,i,g,-1))}return jp(),f=gp(Error(n(421))),ld(i,o,A,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Rk.bind(null,i),g._reactRetry=o,null):(i=v.treeContext,Mn=Gi(g.nextSibling),Vn=o,ft=!0,sr=null,i!==null&&(Bn[$n++]=hi,Bn[$n++]=fi,Bn[$n++]=ro,hi=i.id,fi=i.overflow,ro=o),o=xp(o,f.children),o.flags|=4096,o)}function u_(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Zf(i.return,o,c)}function Tp(i,o,c,f,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function d_(i,o,c){var f=o.pendingProps,g=f.revealOrder,v=f.tail;if(dn(i,o,f.children,c),f=mt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u_(i,c,o);else if(i.tag===19)u_(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(st(mt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)i=c.alternate,i!==null&&td(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Tp(o,!1,g,c,v);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&td(i)===null){o.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}Tp(o,!0,c,null,v);break;case"together":Tp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function cd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function gi(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),lo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=ss(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ss(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function wk(i,o,c){switch(o.tag){case 3:a_(o),da();break;case 5:Iw(o);break;case 1:wn(o.type)&&qu(o);break;case 4:np(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;st(Xu,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(st(mt,mt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?c_(i,o,c):(st(mt,mt.current&1),i=gi(i,o,c),i!==null?i.sibling:null);st(mt,mt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(i.flags&128)!==0){if(f)return d_(i,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),st(mt,mt.current),f)break;return null;case 22:case 23:return o.lanes=0,i_(i,o,c)}return gi(i,o,c)}var h_,Sp,f_,p_;h_=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Sp=function(){},f_=function(i,o,c,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,oo(Mr.current);var v=null;switch(c){case"input":g=Nt(i,g),f=Nt(i,f),v=[];break;case"select":g=ae({},g,{value:void 0}),f=ae({},f,{value:void 0}),v=[];break;case"textarea":g=gl(i,g),f=gl(i,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Bu)}tr(c,f);var A;c=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var L=g[X];for(A in L)L.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in f){var z=f[X];if(L=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&z!==L&&(z!=null||L!=null))if(X==="style")if(L){for(A in L)!L.hasOwnProperty(A)||z&&z.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in z)z.hasOwnProperty(A)&&L[A]!==z[A]&&(c||(c={}),c[A]=z[A])}else c||(v||(v=[]),v.push(X,c)),c=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(v=v||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&ct("scroll",i),v||L===z||(v=[])):(v=v||[]).push(X,z))}c&&(v=v||[]).push("style",c);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},p_=function(i,o,c,f){c!==f&&(o.flags|=4)};function nc(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function nn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function _k(i,o,c){var f=o.pendingProps;switch(Hf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(o),null;case 1:return wn(o.type)&&Wu(),nn(o),null;case 3:return f=o.stateNode,ma(),ut(vn),ut(en),sp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Qu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,sr!==null&&(Mp(sr),sr=null))),Sp(i,o),nn(o),null;case 5:rp(o);var g=oo(Xl.current);if(c=o.type,i!==null&&o.stateNode!=null)f_(i,o,c,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return nn(o),null}if(i=oo(Mr.current),Qu(o)){f=o.stateNode,c=o.type;var v=o.memoizedProps;switch(f[Vr]=o,f[Hl]=v,i=(o.mode&1)!==0,c){case"dialog":ct("cancel",f),ct("close",f);break;case"iframe":case"object":case"embed":ct("load",f);break;case"video":case"audio":for(g=0;g<$l.length;g++)ct($l[g],f);break;case"source":ct("error",f);break;case"img":case"image":case"link":ct("error",f),ct("load",f);break;case"details":ct("toggle",f);break;case"input":gn(f,v),ct("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},ct("invalid",f);break;case"textarea":yl(f,v),ct("invalid",f)}tr(c,v),g=null;for(var A in v)if(v.hasOwnProperty(A)){var L=v[A];A==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&zu(f.textContent,L,i),g=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&zu(f.textContent,L,i),g=["children",""+L]):s.hasOwnProperty(A)&&L!=null&&A==="onScroll"&&ct("scroll",f)}switch(c){case"input":Ve(f),er(f,v,!0);break;case"textarea":Ve(f),Ni(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Bu)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vl(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=A.createElement(c,{is:f.is}):(i=A.createElement(c),c==="select"&&(A=i,f.multiple?A.multiple=!0:f.size&&(A.size=f.size))):i=A.createElementNS(i,c),i[Vr]=o,i[Hl]=f,h_(i,o,!1,!1),o.stateNode=i;e:{switch(A=jo(c,f),c){case"dialog":ct("cancel",i),ct("close",i),g=f;break;case"iframe":case"object":case"embed":ct("load",i),g=f;break;case"video":case"audio":for(g=0;g<$l.length;g++)ct($l[g],i);g=f;break;case"source":ct("error",i),g=f;break;case"img":case"image":case"link":ct("error",i),ct("load",i),g=f;break;case"details":ct("toggle",i),g=f;break;case"input":gn(i,f),g=Nt(i,f),ct("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=ae({},f,{value:void 0}),ct("invalid",i);break;case"textarea":yl(i,f),g=gl(i,f),ct("invalid",i);break;default:g=f}tr(c,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var z=L[v];v==="style"?Lo(i,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&mu(i,z)):v==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&zs(i,z):typeof z=="number"&&zs(i,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?z!=null&&v==="onScroll"&&ct("scroll",i):z!=null&&F(i,v,z,A))}switch(c){case"input":Ve(i),er(i,f,!1);break;case"textarea":Ve(i),Ni(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ee(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?$t(i,!!f.multiple,v,!1):f.defaultValue!=null&&$t(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Bu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return nn(o),null;case 6:if(i&&o.stateNode!=null)p_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=oo(Xl.current),oo(Mr.current),Qu(o)){if(f=o.stateNode,c=o.memoizedProps,f[Vr]=o,(v=f.nodeValue!==c)&&(i=Vn,i!==null))switch(i.tag){case 3:zu(f.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&zu(f.nodeValue,c,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Vr]=o,o.stateNode=f}return nn(o),null;case 13:if(ut(mt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&Mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)yw(),da(),o.flags|=98560,v=!1;else if(v=Qu(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Vr]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nn(o),v=!1}else sr!==null&&(Mp(sr),sr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(mt.current&1)!==0?Vt===0&&(Vt=3):jp())),o.updateQueue!==null&&(o.flags|=4),nn(o),null);case 4:return ma(),Sp(i,o),i===null&&Wl(o.stateNode.containerInfo),nn(o),null;case 10:return Jf(o.type._context),nn(o),null;case 17:return wn(o.type)&&Wu(),nn(o),null;case 19:if(ut(mt),v=o.memoizedState,v===null)return nn(o),null;if(f=(o.flags&128)!==0,A=v.rendering,A===null)if(f)nc(v,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=td(i),A!==null){for(o.flags|=128,nc(v,!1),f=A.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)v=c,i=f,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,i=A.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return st(mt,mt.current&1|2),o.child}i=i.sibling}v.tail!==null&&lt()>wa&&(o.flags|=128,f=!0,nc(v,!1),o.lanes=4194304)}else{if(!f)if(i=td(A),i!==null){if(o.flags|=128,f=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),nc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!ft)return nn(o),null}else 2*lt()-v.renderingStartTime>wa&&c!==1073741824&&(o.flags|=128,f=!0,nc(v,!1),o.lanes=4194304);v.isBackwards?(A.sibling=o.child,o.child=A):(c=v.last,c!==null?c.sibling=A:o.child=A,v.last=A)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=lt(),o.sibling=null,c=mt.current,st(mt,f?c&1|2:c&1),o):(nn(o),null);case 22:case 23:return Lp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(On&1073741824)!==0&&(nn(o),o.subtreeFlags&6&&(o.flags|=8192)):nn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Ek(i,o){switch(Hf(o),o.tag){case 1:return wn(o.type)&&Wu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ma(),ut(vn),ut(en),sp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return rp(o),null;case 13:if(ut(mt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ut(mt),null;case 4:return ma(),null;case 10:return Jf(o.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var ud=!1,rn=!1,xk=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ya(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){_t(i,o,f)}else c.current=null}function Ip(i,o,c){try{c()}catch(f){_t(i,o,f)}}var m_=!1;function Tk(i,o){if(Lf=ai,i=Kv(),kf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var A=0,L=-1,z=-1,X=0,ie=0,oe=i,re=null;t:for(;;){for(var pe;oe!==c||g!==0&&oe.nodeType!==3||(L=A+g),oe!==v||f!==0&&oe.nodeType!==3||(z=A+f),oe.nodeType===3&&(A+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===i)break t;if(re===c&&++X===g&&(L=A),re===v&&++ie===f&&(z=A),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}c=L===-1||z===-1?null:{start:L,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(jf={focusedElem:i,selectionRange:c},ai=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Ae=xe.memoizedProps,St=xe.memoizedState,K=o.stateNode,B=K.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:or(o.type,Ae),St);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){_t(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return xe=m_,m_=!1,xe}function rc(i,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&Ip(o,c,v)}g=g.next}while(g!==f)}}function dd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Ap(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function g_(i){var o=i.alternate;o!==null&&(i.alternate=null,g_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Vr],delete o[Hl],delete o[Bf],delete o[sk],delete o[ok])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function y_(i){return i.tag===5||i.tag===3||i.tag===4}function v_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Bu));else if(f!==4&&(i=i.child,i!==null))for(Cp(i,o,c),i=i.sibling;i!==null;)Cp(i,o,c),i=i.sibling}function bp(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(bp(i,o,c),i=i.sibling;i!==null;)bp(i,o,c),i=i.sibling}var Ht=null,ar=!1;function es(i,o,c){for(c=c.child;c!==null;)w_(i,o,c),c=c.sibling}function w_(i,o,c){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Hs,c)}catch{}switch(c.tag){case 5:rn||ya(c,o);case 6:var f=Ht,g=ar;Ht=null,es(i,o,c),Ht=f,ar=g,Ht!==null&&(ar?(i=Ht,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Ht.removeChild(c.stateNode));break;case 18:Ht!==null&&(ar?(i=Ht,c=c.stateNode,i.nodeType===8?zf(i.parentNode,c):i.nodeType===1&&zf(i,c),Wi(i)):zf(Ht,c.stateNode));break;case 4:f=Ht,g=ar,Ht=c.stateNode.containerInfo,ar=!0,es(i,o,c),Ht=f,ar=g;break;case 0:case 11:case 14:case 15:if(!rn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,A=v.destroy;v=v.tag,A!==void 0&&((v&2)!==0||(v&4)!==0)&&Ip(c,o,A),g=g.next}while(g!==f)}es(i,o,c);break;case 1:if(!rn&&(ya(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){_t(c,o,L)}es(i,o,c);break;case 21:es(i,o,c);break;case 22:c.mode&1?(rn=(f=rn)||c.memoizedState!==null,es(i,o,c),rn=f):es(i,o,c);break;default:es(i,o,c)}}function __(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new xk),o.forEach(function(f){var g=Nk.bind(null,i,f);c.has(f)||(c.add(f),f.then(g,g))})}}function lr(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=i,A=o,L=A;e:for(;L!==null;){switch(L.tag){case 5:Ht=L.stateNode,ar=!1;break e;case 3:Ht=L.stateNode.containerInfo,ar=!0;break e;case 4:Ht=L.stateNode.containerInfo,ar=!0;break e}L=L.return}if(Ht===null)throw Error(n(160));w_(v,A,g),Ht=null,ar=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(X){_t(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)E_(o,i),o=o.sibling}function E_(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(lr(o,i),Lr(i),f&4){try{rc(3,i,i.return),dd(3,i)}catch(Ae){_t(i,i.return,Ae)}try{rc(5,i,i.return)}catch(Ae){_t(i,i.return,Ae)}}break;case 1:lr(o,i),Lr(i),f&512&&c!==null&&ya(c,c.return);break;case 5:if(lr(o,i),Lr(i),f&512&&c!==null&&ya(c,c.return),i.flags&32){var g=i.stateNode;try{zs(g,"")}catch(Ae){_t(i,i.return,Ae)}}if(f&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,A=c!==null?c.memoizedProps:v,L=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&yn(g,v),jo(L,A);var X=jo(L,v);for(A=0;A<z.length;A+=2){var ie=z[A],oe=z[A+1];ie==="style"?Lo(g,oe):ie==="dangerouslySetInnerHTML"?mu(g,oe):ie==="children"?zs(g,oe):F(g,ie,oe,X)}switch(L){case"input":un(g,v);break;case"textarea":pu(g,v);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var pe=v.value;pe!=null?$t(g,!!v.multiple,pe,!1):re!==!!v.multiple&&(v.defaultValue!=null?$t(g,!!v.multiple,v.defaultValue,!0):$t(g,!!v.multiple,v.multiple?[]:"",!1))}g[Hl]=v}catch(Ae){_t(i,i.return,Ae)}}break;case 6:if(lr(o,i),Lr(i),f&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(Ae){_t(i,i.return,Ae)}}break;case 3:if(lr(o,i),Lr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wi(o.containerInfo)}catch(Ae){_t(i,i.return,Ae)}break;case 4:lr(o,i),Lr(i);break;case 13:lr(o,i),Lr(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Rp=lt())),f&4&&__(i);break;case 22:if(ie=c!==null&&c.memoizedState!==null,i.mode&1?(rn=(X=rn)||ie,lr(o,i),rn=X):lr(o,i),Lr(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!ie&&(i.mode&1)!==0)for(_e=i,ie=i.child;ie!==null;){for(oe=_e=ie;_e!==null;){switch(re=_e,pe=re.child,re.tag){case 0:case 11:case 14:case 15:rc(4,re,re.return);break;case 1:ya(re,re.return);var xe=re.stateNode;if(typeof xe.componentWillUnmount=="function"){f=re,c=re.return;try{o=f,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(Ae){_t(f,c,Ae)}}break;case 5:ya(re,re.return);break;case 22:if(re.memoizedState!==null){S_(oe);continue}}pe!==null?(pe.return=re,_e=pe):S_(oe)}ie=ie.sibling}e:for(ie=null,oe=i;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,X?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=oe.stateNode,z=oe.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Mi("display",A))}catch(Ae){_t(i,i.return,Ae)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=X?"":oe.memoizedProps}catch(Ae){_t(i,i.return,Ae)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:lr(o,i),Lr(i),f&4&&__(i);break;case 21:break;default:lr(o,i),Lr(i)}}function Lr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(y_(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(zs(g,""),f.flags&=-33);var v=v_(i);bp(i,v,g);break;case 3:case 4:var A=f.stateNode.containerInfo,L=v_(i);Cp(i,L,A);break;default:throw Error(n(161))}}catch(z){_t(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Sk(i,o,c){_e=i,x_(i)}function x_(i,o,c){for(var f=(i.mode&1)!==0;_e!==null;){var g=_e,v=g.child;if(g.tag===22&&f){var A=g.memoizedState!==null||ud;if(!A){var L=g.alternate,z=L!==null&&L.memoizedState!==null||rn;L=ud;var X=rn;if(ud=A,(rn=z)&&!X)for(_e=g;_e!==null;)A=_e,z=A.child,A.tag===22&&A.memoizedState!==null?I_(g):z!==null?(z.return=A,_e=z):I_(g);for(;v!==null;)_e=v,x_(v),v=v.sibling;_e=g,ud=L,rn=X}T_(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,_e=v):T_(i)}}function T_(i){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:rn||dd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!rn)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:or(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Sw(o,v,f);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Sw(o,A,c)}break;case 5:var L=o.stateNode;if(c===null&&o.flags&4){c=L;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Wi(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||o.flags&512&&Ap(o)}catch(re){_t(o,o.return,re)}}if(o===i){_e=null;break}if(c=o.sibling,c!==null){c.return=o.return,_e=c;break}_e=o.return}}function S_(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var c=o.sibling;if(c!==null){c.return=o.return,_e=c;break}_e=o.return}}function I_(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{dd(4,o)}catch(z){_t(o,c,z)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(z){_t(o,g,z)}}var v=o.return;try{Ap(o)}catch(z){_t(o,v,z)}break;case 5:var A=o.return;try{Ap(o)}catch(z){_t(o,A,z)}}}catch(z){_t(o,o.return,z)}if(o===i){_e=null;break}var L=o.sibling;if(L!==null){L.return=o.return,_e=L;break}_e=o.return}}var Ik=Math.ceil,hd=W.ReactCurrentDispatcher,kp=W.ReactCurrentOwner,Hn=W.ReactCurrentBatchConfig,Ye=0,Ft=null,Ct=null,Kt=0,On=0,va=Qi(0),Vt=0,ic=null,lo=0,fd=0,Pp=0,sc=null,En=null,Rp=0,wa=1/0,yi=null,pd=!1,Np=null,ts=null,md=!1,ns=null,gd=0,oc=0,Dp=null,yd=-1,vd=0;function hn(){return(Ye&6)!==0?lt():yd!==-1?yd:yd=lt()}function rs(i){return(i.mode&1)===0?1:(Ye&2)!==0&&Kt!==0?Kt&-Kt:lk.transition!==null?(vd===0&&(vd=Cl()),vd):(i=Ge,i!==0||(i=window.event,i=i===void 0?16:Go(i.type)),i)}function cr(i,o,c,f){if(50<oc)throw oc=0,Dp=null,Error(n(185));Ys(i,c,f),((Ye&2)===0||i!==Ft)&&(i===Ft&&((Ye&2)===0&&(fd|=c),Vt===4&&is(i,Kt)),xn(i,f),c===1&&Ye===0&&(o.mode&1)===0&&(wa=lt()+500,Hu&&Xi()))}function xn(i,o){var c=i.callbackNode;Qs(i,o);var f=ii(i,i===Ft?Kt:0);if(f===0)c!==null&&zo(c),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(c!=null&&zo(c),o===1)i.tag===0?ak(C_.bind(null,i)):hw(C_.bind(null,i)),rk(function(){(Ye&6)===0&&Xi()}),c=null;else{switch(Sr(f)){case 1:c=Bo;break;case 4:c=Sl;break;case 16:c=qs;break;case 536870912:c=$o;break;default:c=qs}c=M_(c,A_.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function A_(i,o){if(yd=-1,vd=0,(Ye&6)!==0)throw Error(n(327));var c=i.callbackNode;if(_a()&&i.callbackNode!==c)return null;var f=ii(i,i===Ft?Kt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=wd(i,f);else{o=f;var g=Ye;Ye|=2;var v=k_();(Ft!==i||Kt!==o)&&(yi=null,wa=lt()+500,uo(i,o));do try{bk();break}catch(L){b_(i,L)}while(!0);Xf(),hd.current=v,Ye=g,Ct!==null?o=0:(Ft=null,Kt=0,o=Vt)}if(o!==0){if(o===2&&(g=Al(i),g!==0&&(f=g,o=Vp(i,g))),o===1)throw c=ic,uo(i,0),is(i,f),xn(i,lt()),c;if(o===6)is(i,f);else{if(g=i.current.alternate,(f&30)===0&&!Ak(g)&&(o=wd(i,f),o===2&&(v=Al(i),v!==0&&(f=v,o=Vp(i,v))),o===1))throw c=ic,uo(i,0),is(i,f),xn(i,lt()),c;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ho(i,En,yi);break;case 3:if(is(i,f),(f&130023424)===f&&(o=Rp+500-lt(),10<o)){if(ii(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){hn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Uf(ho.bind(null,i,En,yi),o);break}ho(i,En,yi);break;case 4:if(is(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var A=31-kn(f);v=1<<A,A=o[A],A>g&&(g=A),f&=~v}if(f=g,f=lt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ik(f/1960))-f,10<f){i.timeoutHandle=Uf(ho.bind(null,i,En,yi),f);break}ho(i,En,yi);break;case 5:ho(i,En,yi);break;default:throw Error(n(329))}}}return xn(i,lt()),i.callbackNode===c?A_.bind(null,i):null}function Vp(i,o){var c=sc;return i.current.memoizedState.isDehydrated&&(uo(i,o).flags|=256),i=wd(i,o),i!==2&&(o=En,En=c,o!==null&&Mp(o)),i}function Mp(i){En===null?En=i:En.push.apply(En,i)}function Ak(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!ir(v(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function is(i,o){for(o&=~Pp,o&=~fd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-kn(o),f=1<<c;i[c]=-1,o&=~f}}function C_(i){if((Ye&6)!==0)throw Error(n(327));_a();var o=ii(i,0);if((o&1)===0)return xn(i,lt()),null;var c=wd(i,o);if(i.tag!==0&&c===2){var f=Al(i);f!==0&&(o=f,c=Vp(i,f))}if(c===1)throw c=ic,uo(i,0),is(i,o),xn(i,lt()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ho(i,En,yi),xn(i,lt()),null}function Op(i,o){var c=Ye;Ye|=1;try{return i(o)}finally{Ye=c,Ye===0&&(wa=lt()+500,Hu&&Xi())}}function co(i){ns!==null&&ns.tag===0&&(Ye&6)===0&&_a();var o=Ye;Ye|=1;var c=Hn.transition,f=Ge;try{if(Hn.transition=null,Ge=1,i)return i()}finally{Ge=f,Hn.transition=c,Ye=o,(Ye&6)===0&&Xi()}}function Lp(){On=va.current,ut(va)}function uo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,nk(c)),Ct!==null)for(c=Ct.return;c!==null;){var f=c;switch(Hf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Wu();break;case 3:ma(),ut(vn),ut(en),sp();break;case 5:rp(f);break;case 4:ma();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:Jf(f.type._context);break;case 22:case 23:Lp()}c=c.return}if(Ft=i,Ct=i=ss(i.current,null),Kt=On=o,Vt=0,ic=null,Pp=fd=lo=0,En=sc=null,so!==null){for(o=0;o<so.length;o++)if(c=so[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var A=v.next;v.next=g,f.next=A}c.pending=f}so=null}return i}function b_(i,o){do{var c=Ct;try{if(Xf(),nd.current=od,rd){for(var f=gt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}rd=!1}if(ao=0,jt=Dt=gt=null,Jl=!1,Zl=0,kp.current=null,c===null||c.return===null){Vt=1,ic=o,Ct=null;break}e:{var v=i,A=c.return,L=c,z=o;if(o=Kt,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,ie=L,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=Zw(A);if(pe!==null){pe.flags&=-257,e_(pe,A,L,v,o),pe.mode&1&&Jw(v,X,o),o=pe,z=X;var xe=o.updateQueue;if(xe===null){var Ae=new Set;Ae.add(z),o.updateQueue=Ae}else xe.add(z);break e}else{if((o&1)===0){Jw(v,X,o),jp();break e}z=Error(n(426))}}else if(ft&&L.mode&1){var St=Zw(A);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),e_(St,A,L,v,o),Qf(ga(z,L));break e}}v=z=ga(z,L),Vt!==4&&(Vt=2),sc===null?sc=[v]:sc.push(v),v=A;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var K=Yw(v,z,o);Tw(v,K);break e;case 1:L=z;var B=v.type,Q=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ts===null||!ts.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ue=Xw(v,L,o);Tw(v,ue);break e}}v=v.return}while(v!==null)}R_(c)}catch(Ce){o=Ce,Ct===c&&c!==null&&(Ct=c=c.return);continue}break}while(!0)}function k_(){var i=hd.current;return hd.current=od,i===null?od:i}function jp(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ft===null||(lo&268435455)===0&&(fd&268435455)===0||is(Ft,Kt)}function wd(i,o){var c=Ye;Ye|=2;var f=k_();(Ft!==i||Kt!==o)&&(yi=null,uo(i,o));do try{Ck();break}catch(g){b_(i,g)}while(!0);if(Xf(),Ye=c,hd.current=f,Ct!==null)throw Error(n(261));return Ft=null,Kt=0,Vt}function Ck(){for(;Ct!==null;)P_(Ct)}function bk(){for(;Ct!==null&&!Ws();)P_(Ct)}function P_(i){var o=V_(i.alternate,i,On);i.memoizedProps=i.pendingProps,o===null?R_(i):Ct=o,kp.current=null}function R_(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=_k(c,o,On),c!==null){Ct=c;return}}else{if(c=Ek(c,o),c!==null){c.flags&=32767,Ct=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);Vt===0&&(Vt=5)}function ho(i,o,c){var f=Ge,g=Hn.transition;try{Hn.transition=null,Ge=1,kk(i,o,c,f)}finally{Hn.transition=g,Ge=f}return null}function kk(i,o,c,f){do _a();while(ns!==null);if((Ye&6)!==0)throw Error(n(327));c=i.finishedWork;var g=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=c.lanes|c.childLanes;if(Sf(i,v),i===Ft&&(Ct=Ft=null,Kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||md||(md=!0,M_(qs,function(){return _a(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Hn.transition,Hn.transition=null;var A=Ge;Ge=1;var L=Ye;Ye|=4,kp.current=null,Tk(i,c),E_(c,i),Qb(jf),ai=!!Lf,jf=Lf=null,i.current=c,Sk(c),ri(),Ye=L,Ge=A,Hn.transition=v}else i.current=c;if(md&&(md=!1,ns=i,gd=g),v=i.pendingLanes,v===0&&(ts=null),Au(c.stateNode),xn(i,lt()),o!==null)for(f=i.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(pd)throw pd=!1,i=Np,Np=null,i;return(gd&1)!==0&&i.tag!==0&&_a(),v=i.pendingLanes,(v&1)!==0?i===Dp?oc++:(oc=0,Dp=i):oc=0,Xi(),null}function _a(){if(ns!==null){var i=Sr(gd),o=Hn.transition,c=Ge;try{if(Hn.transition=null,Ge=16>i?16:i,ns===null)var f=!1;else{if(i=ns,ns=null,gd=0,(Ye&6)!==0)throw Error(n(331));var g=Ye;for(Ye|=4,_e=i.current;_e!==null;){var v=_e,A=v.child;if((_e.flags&16)!==0){var L=v.deletions;if(L!==null){for(var z=0;z<L.length;z++){var X=L[z];for(_e=X;_e!==null;){var ie=_e;switch(ie.tag){case 0:case 11:case 15:rc(8,ie,v)}var oe=ie.child;if(oe!==null)oe.return=ie,_e=oe;else for(;_e!==null;){ie=_e;var re=ie.sibling,pe=ie.return;if(g_(ie),ie===X){_e=null;break}if(re!==null){re.return=pe,_e=re;break}_e=pe}}}var xe=v.alternate;if(xe!==null){var Ae=xe.child;if(Ae!==null){xe.child=null;do{var St=Ae.sibling;Ae.sibling=null,Ae=St}while(Ae!==null)}}_e=v}}if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,_e=A;else e:for(;_e!==null;){if(v=_e,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:rc(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,_e=K;break e}_e=v.return}}var B=i.current;for(_e=B;_e!==null;){A=_e;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,_e=Q;else e:for(A=B;_e!==null;){if(L=_e,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:dd(9,L)}}catch(Ce){_t(L,L.return,Ce)}if(L===A){_e=null;break e}var ue=L.sibling;if(ue!==null){ue.return=L.return,_e=ue;break e}_e=L.return}}if(Ye=g,Xi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Hs,i)}catch{}f=!0}return f}finally{Ge=c,Hn.transition=o}}return!1}function N_(i,o,c){o=ga(c,o),o=Yw(i,o,1),i=Zi(i,o,1),o=hn(),i!==null&&(Ys(i,1,o),xn(i,o))}function _t(i,o,c){if(i.tag===3)N_(i,i,c);else for(;o!==null;){if(o.tag===3){N_(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ts===null||!ts.has(f))){i=ga(c,i),i=Xw(o,i,1),o=Zi(o,i,1),i=hn(),o!==null&&(Ys(o,1,i),xn(o,i));break}}o=o.return}}function Pk(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),o=hn(),i.pingedLanes|=i.suspendedLanes&c,Ft===i&&(Kt&c)===c&&(Vt===4||Vt===3&&(Kt&130023424)===Kt&&500>lt()-Rp?uo(i,0):Pp|=c),xn(i,o)}function D_(i,o){o===0&&((i.mode&1)===0?o=1:(o=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var c=hn();i=pi(i,o),i!==null&&(Ys(i,o,c),xn(i,c))}function Rk(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),D_(i,c)}function Nk(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),D_(i,c)}var V_;V_=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||vn.current)_n=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return _n=!1,wk(i,o,c);_n=(i.flags&131072)!==0}else _n=!1,ft&&(o.flags&1048576)!==0&&fw(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;cd(i,o),i=o.pendingProps;var g=la(o,en.current);pa(o,c),g=lp(null,o,f,i,g,c);var v=cp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,wn(f)?(v=!0,qu(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,tp(o),g.updater=ad,o.stateNode=g,g._reactInternals=o,mp(o,f,i,c),o=wp(null,o,f,!0,v,c)):(o.tag=0,ft&&v&&qf(o),dn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(cd(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Vk(f),i=or(f,i),g){case 0:o=vp(null,o,f,i,c);break e;case 1:o=o_(null,o,f,i,c);break e;case 11:o=t_(null,o,f,i,c);break e;case 14:o=n_(null,o,f,or(f.type,i),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:or(f,g),vp(i,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:or(f,g),o_(i,o,f,g,c);case 3:e:{if(a_(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,g=v.element,xw(i,o),ed(o,f,null,c);var A=o.memoizedState;if(f=A.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=ga(Error(n(423)),o),o=l_(i,o,f,c,g);break e}else if(f!==g){g=ga(Error(n(424)),o),o=l_(i,o,f,c,g);break e}else for(Mn=Gi(o.stateNode.containerInfo.firstChild),Vn=o,ft=!0,sr=null,c=_w(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(da(),f===g){o=gi(i,o,c);break e}dn(i,o,f,c)}o=o.child}return o;case 5:return Iw(o),i===null&&Gf(o),f=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,A=g.children,Ff(f,g)?A=null:v!==null&&Ff(f,v)&&(o.flags|=32),s_(i,o),dn(i,o,A,c),o.child;case 6:return i===null&&Gf(o),null;case 13:return c_(i,o,c);case 4:return np(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ha(o,null,f,c):dn(i,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:or(f,g),t_(i,o,f,g,c);case 7:return dn(i,o,o.pendingProps,c),o.child;case 8:return dn(i,o,o.pendingProps.children,c),o.child;case 12:return dn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,v=o.memoizedProps,A=g.value,st(Xu,f._currentValue),f._currentValue=A,v!==null)if(ir(v.value,A)){if(v.children===g.children&&!vn.current){o=gi(i,o,c);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){A=v.child;for(var z=L.firstContext;z!==null;){if(z.context===f){if(v.tag===1){z=mi(-1,c&-c),z.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),X.pending=z}}v.lanes|=c,z=v.alternate,z!==null&&(z.lanes|=c),Zf(v.return,c,o),L.lanes|=c;break}z=z.next}}else if(v.tag===10)A=v.type===o.type?null:v.child;else if(v.tag===18){if(A=v.return,A===null)throw Error(n(341));A.lanes|=c,L=A.alternate,L!==null&&(L.lanes|=c),Zf(A,c,o),A=v.sibling}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===o){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}dn(i,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,pa(o,c),g=Wn(g),f=f(g),o.flags|=1,dn(i,o,f,c),o.child;case 14:return f=o.type,g=or(f,o.pendingProps),g=or(f.type,g),n_(i,o,f,g,c);case 15:return r_(i,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:or(f,g),cd(i,o),o.tag=1,wn(f)?(i=!0,qu(o)):i=!1,pa(o,c),Gw(o,f,g),mp(o,f,g,c),wp(null,o,f,!0,i,c);case 19:return d_(i,o,c);case 22:return i_(i,o,c)}throw Error(n(156,o.tag))};function M_(i,o){return Tl(i,o)}function Dk(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,o,c,f){return new Dk(i,o,c,f)}function Fp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vk(i){if(typeof i=="function")return Fp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===be)return 14}return 2}function ss(i,o){var c=i.alternate;return c===null?(c=Kn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function _d(i,o,c,f,g,v){var A=2;if(f=i,typeof i=="function")Fp(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case P:return fo(c.children,g,v,o);case I:A=8,g|=8;break;case V:return i=Kn(12,c,o,g|2),i.elementType=V,i.lanes=v,i;case O:return i=Kn(13,c,o,g),i.elementType=O,i.lanes=v,i;case ge:return i=Kn(19,c,o,g),i.elementType=ge,i.lanes=v,i;case de:return Ed(c,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:A=10;break e;case D:A=9;break e;case U:A=11;break e;case be:A=14;break e;case fe:A=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Kn(A,c,o,g),o.elementType=i,o.type=f,o.lanes=v,o}function fo(i,o,c,f){return i=Kn(7,i,f,o),i.lanes=c,i}function Ed(i,o,c,f){return i=Kn(22,i,f,o),i.elementType=de,i.lanes=c,i.stateNode={isHidden:!1},i}function Up(i,o,c){return i=Kn(6,i,null,o),i.lanes=c,i}function zp(i,o,c){return o=Kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Mk(i,o,c,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Bp(i,o,c,f,g,v,A,L,z){return i=new Mk(i,o,c,L,z),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Kn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(v),i}function Ok(i,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:i,containerInfo:o,implementation:c}}function O_(i){if(!i)return Yi;i=i._reactInternals;e:{if(nr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(wn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(wn(c))return uw(i,c,o)}return o}function L_(i,o,c,f,g,v,A,L,z){return i=Bp(c,f,!0,i,g,v,A,L,z),i.context=O_(null),c=i.current,f=hn(),g=rs(c),v=mi(f,g),v.callback=o??null,Zi(c,v,g),i.current.lanes=g,Ys(i,g,f),xn(i,f),i}function xd(i,o,c,f){var g=o.current,v=hn(),A=rs(g);return c=O_(c),o.context===null?o.context=c:o.pendingContext=c,o=mi(v,A),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Zi(g,o,A),i!==null&&(cr(i,g,A,v),Zu(i,g,A)),A}function Td(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function j_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function $p(i,o){j_(i,o),(i=i.alternate)&&j_(i,o)}function Lk(){return null}var F_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Wp(i){this._internalRoot=i}Sd.prototype.render=Wp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));xd(i,o,null,null)},Sd.prototype.unmount=Wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;co(function(){xd(null,i,null,null)}),o[ui]=null}};function Sd(i){this._internalRoot=i}Sd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Nl();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Pn.length&&o!==0&&o<Pn[c].priority;c++);Pn.splice(c,0,i),c===0&&Ho(i)}};function qp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Id(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function U_(){}function jk(i,o,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var X=Td(A);v.call(X)}}var A=L_(o,f,i,0,null,!1,!1,"",U_);return i._reactRootContainer=A,i[ui]=A.current,Wl(i.nodeType===8?i.parentNode:i),co(),A}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var L=f;f=function(){var X=Td(z);L.call(X)}}var z=Bp(i,0,!1,null,null,!1,!1,"",U_);return i._reactRootContainer=z,i[ui]=z.current,Wl(i.nodeType===8?i.parentNode:i),co(function(){xd(o,z,c,f)}),z}function Ad(i,o,c,f,g){var v=c._reactRootContainer;if(v){var A=v;if(typeof g=="function"){var L=g;g=function(){var z=Td(A);L.call(z)}}xd(o,A,i,g)}else A=jk(c,o,i,g,f);return Td(A)}Pl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Je(o.pendingLanes);c!==0&&(kl(o,c|1),xn(o,lt()),(Ye&6)===0&&(wa=lt()+500,Xi()))}break;case 13:co(function(){var f=pi(i,1);if(f!==null){var g=hn();cr(f,i,1,g)}}),$p(i,1)}},Wo=function(i){if(i.tag===13){var o=pi(i,134217728);if(o!==null){var c=hn();cr(o,i,134217728,c)}$p(i,134217728)}},Rl=function(i){if(i.tag===13){var o=rs(i),c=pi(i,o);if(c!==null){var f=hn();cr(c,i,o,f)}$p(i,o)}},Nl=function(){return Ge},Dl=function(i,o){var c=Ge;try{return Ge=i,o()}finally{Ge=c}},ei=function(i,o,c){switch(o){case"input":if(un(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var g=$u(f);if(!g)throw Error(n(90));Fe(f),un(f,g)}}}break;case"textarea":pu(i,c);break;case"select":o=c.value,o!=null&&$t(i,!!c.multiple,o,!1)}},yu=Op,vu=co;var Fk={usingClientEntryPoint:!1,Events:[Kl,oa,$u,Li,ji,Op]},ac={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uk={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Iu(i),i===null?null:i.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||Lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Hs=Cd.inject(Uk),bn=Cd}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk,Tn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qp(o))throw Error(n(200));return Ok(i,o,null,c)},Tn.createRoot=function(i,o){if(!qp(i))throw Error(n(299));var c=!1,f="",g=F_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Bp(i,1,!1,null,null,c,!1,f,g),i[ui]=o.current,Wl(i.nodeType===8?i.parentNode:i),new Wp(o)},Tn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Iu(o),i=i===null?null:i.stateNode,i},Tn.flushSync=function(i){return co(i)},Tn.hydrate=function(i,o,c){if(!Id(o))throw Error(n(200));return Ad(null,i,o,!0,c)},Tn.hydrateRoot=function(i,o,c){if(!qp(i))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",A=F_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=L_(o,null,i,1,c??null,g,!1,v,A),i[ui]=o.current,Wl(i),f)for(i=0;i<f.length;i++)c=f[i],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Sd(o)},Tn.render=function(i,o,c){if(!Id(o))throw Error(n(200));return Ad(null,i,o,!1,c)},Tn.unmountComponentAtNode=function(i){if(!Id(i))throw Error(n(40));return i._reactRootContainer?(co(function(){Ad(null,null,i,!1,function(){i._reactRootContainer=null,i[ui]=null})}),!0):!1},Tn.unstable_batchedUpdates=Op,Tn.unstable_renderSubtreeIntoContainer=function(i,o,c,f){if(!Id(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ad(i,o,c,!1,f)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var G_;function IT(){if(G_)return Gp.exports;G_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=Gk(),Gp.exports}var Q_;function Qk(){if(Q_)return bd;Q_=1;var t=IT();return bd.createRoot=t.createRoot,bd.hydrateRoot=t.hydrateRoot,bd}var Yk=Qk(),b=Gg();const cs=ST(b),Xk=Bk({__proto__:null,default:cs},[b]),Qg=b.createContext({});function Yg(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const AT=typeof window<"u",CT=AT?b.useLayoutEffect:b.useEffect,Wh=b.createContext(null);function Xg(t,e){t.indexOf(e)===-1&&t.push(e)}function Jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qr=(t,e,n)=>n>e?e:n<t?t:n;let Zg=()=>{};const Si={},bT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kT(t){return typeof t=="object"&&t!==null}const PT=t=>/^0[^.\s]+$/u.test(t);function ey(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zn=t=>t,Jk=(t,e)=>n=>e(t(n)),Yc=(...t)=>t.reduce(Jk),Nc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ty{constructor(){this.subscriptions=[]}add(e){return Xg(this.subscriptions,e),()=>Jg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ei=t=>t*1e3,Jn=t=>t/1e3;function RT(t,e){return e?t*(1e3/e):0}const NT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Zk=1e-7,eP=12;function tP(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=NT(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>Zk&&++u<eP);return l}function Xc(t,e,n,r){if(t===e&&n===r)return Zn;const s=a=>tP(a,0,1,t,n);return a=>a===0||a===1?a:NT(s(a),e,r)}const DT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VT=t=>e=>1-t(1-e),MT=Xc(.33,1.53,.69,.99),ny=VT(MT),OT=DT(ny),LT=t=>(t*=2)<1?.5*ny(t):.5*(2-Math.pow(2,-10*(t-1))),ry=t=>1-Math.sin(Math.acos(t)),jT=VT(ry),FT=DT(ry),nP=Xc(.42,0,1,1),rP=Xc(0,0,.58,1),UT=Xc(.42,0,.58,1),iP=t=>Array.isArray(t)&&typeof t[0]!="number",zT=t=>Array.isArray(t)&&typeof t[0]=="number",sP={linear:Zn,easeIn:nP,easeInOut:UT,easeOut:rP,circIn:ry,circInOut:FT,circOut:jT,backIn:ny,backInOut:OT,backOut:MT,anticipate:LT},oP=t=>typeof t=="string",Y_=t=>{if(zT(t)){Zg(t.length===4);const[e,n,r,s]=t;return Xc(e,n,r,s)}else if(oP(t))return sP[t];return t},kd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aP(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,y=!1,_=!1)=>{const C=_&&s?n:r;return y&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const lP=40;function BT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=kd.reduce((F,W)=>(F[W]=aP(a),F),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:_,render:T,postRender:C}=l,S=()=>{const F=Si.useManualTiming?s.timestamp:performance.now();n=!1,Si.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,lP),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),m.process(s),y.process(s),_.process(s),T.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:kd.reduce((F,W)=>{const H=l[W];return F[W]=(Z,P=!1,I=!1)=>(n||R(),H.schedule(Z,P,I)),F},{}),cancel:F=>{for(let W=0;W<kd.length;W++)l[kd[W]].cancel(F)},state:s,steps:l}}const{schedule:dt,cancel:Is,state:Gt,steps:Xp}=BT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let Gd;function cP(){Gd=void 0}const fn={now:()=>(Gd===void 0&&fn.set(Gt.isProcessing||Si.useManualTiming?Gt.timestamp:performance.now()),Gd),set:t=>{Gd=t,queueMicrotask(cP)}},$T=t=>e=>typeof e=="string"&&e.startsWith(t),WT=$T("--"),uP=$T("var(--"),iy=t=>uP(t)?dP.test(t.split("/*")[0].trim()):!1,dP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const el={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dc={...el,transform:t=>Qr(0,1,t)},Pd={...el,default:1},_c=t=>Math.round(t*1e5)/1e5,sy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hP(t){return t==null}const fP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(t,e)=>n=>!!(typeof n=="string"&&fP.test(n)&&n.startsWith(t)||e&&!hP(n)&&Object.prototype.hasOwnProperty.call(n,e)),qT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(sy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},pP=t=>Qr(0,255,t),Jp={...el,transform:t=>Math.round(pP(t))},vo={test:oy("rgb","red"),parse:qT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jp.transform(t)+", "+Jp.transform(e)+", "+Jp.transform(n)+", "+_c(Dc.transform(r))+")"};function mP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fm={test:oy("#"),parse:mP,transform:vo.transform},Jc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),us=Jc("deg"),Br=Jc("%"),Ie=Jc("px"),gP=Jc("vh"),yP=Jc("vw"),J_={...Br,parse:t=>Br.parse(t)/100,transform:t=>Br.transform(t*100)},ka={test:oy("hsl","hue"),parse:qT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Br.transform(_c(e))+", "+Br.transform(_c(n))+", "+_c(Dc.transform(r))+")"},kt={test:t=>vo.test(t)||Fm.test(t)||ka.test(t),parse:t=>vo.test(t)?vo.parse(t):ka.test(t)?ka.parse(t):Fm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):ka.transform(t),getAnimatableNone:t=>{const e=kt.parse(t);return e.alpha=0,kt.transform(e)}},vP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sy))==null?void 0:e.length)||0)+(((n=t.match(vP))==null?void 0:n.length)||0)>0}const HT="number",KT="color",_P="var",EP="var(",Z_="${}",xP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(xP,h=>(kt.test(h)?(r.color.push(a),s.push(KT),n.push(kt.parse(h))):h.startsWith(EP)?(r.var.push(a),s.push(_P),n.push(h)):(r.number.push(a),s.push(HT),n.push(parseFloat(h))),++a,Z_)).split(Z_);return{values:n,split:u,indexes:r,types:s}}function GT(t){return Vc(t).values}function QT(t){const{split:e,types:n}=Vc(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===HT?a+=_c(s[l]):u===KT?a+=kt.transform(s[l]):a+=s[l]}return a}}const TP=t=>typeof t=="number"?0:kt.test(t)?kt.getAnimatableNone(t):t;function SP(t){const e=GT(t);return QT(t)(e.map(TP))}const As={test:wP,parse:GT,createTransformer:QT,getAnimatableNone:SP};function Zp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=Zp(h,u,t+1/3),a=Zp(h,u,t),l=Zp(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function hh(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,em=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},AP=[Fm,vo,ka],CP=t=>AP.find(e=>e.test(t));function e0(t){const e=CP(t);if(!e)return!1;let n=e.parse(t);return e===ka&&(n=IP(n)),n}const t0=(t,e)=>{const n=e0(t),r=e0(e);if(!n||!r)return hh(t,e);const s={...n};return a=>(s.red=em(n.red,r.red,a),s.green=em(n.green,r.green,a),s.blue=em(n.blue,r.blue,a),s.alpha=yt(n.alpha,r.alpha,a),vo.transform(s))},Um=new Set(["none","hidden"]);function bP(t,e){return Um.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kP(t,e){return n=>yt(t,e,n)}function ay(t){return typeof t=="number"?kP:typeof t=="string"?iy(t)?hh:kt.test(t)?t0:NP:Array.isArray(t)?YT:typeof t=="object"?kt.test(t)?t0:PP:hh}function YT(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>ay(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function PP(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ay(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function RP(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const NP=(t,e)=>{const n=As.createTransformer(e),r=Vc(t),s=Vc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Um.has(t)&&!s.values.length||Um.has(e)&&!r.values.length?bP(t,e):Yc(YT(RP(r,s),s.values),n):hh(t,e)};function XT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):ay(t)(t,e)}const DP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Is(e),now:()=>Gt.isProcessing?Gt.timestamp:fn.now()}},JT=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fh=2e4;function ly(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fh;)e+=n,r=t.next(e);return e>=fh?1/0:e}function VP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ly(r),fh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Jn(s)}}const MP=5;function ZT(t,e,n){const r=Math.max(e-MP,0);return RT(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tm=.001;function OP({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let s,a,l=1-e;l=Qr(Et.minDamping,Et.maxDamping,l),t=Qr(Et.minDuration,Et.maxDuration,Jn(t)),l<1?(s=p=>{const m=p*l,y=m*t,_=m-n,T=zm(p,l),C=Math.exp(-y);return tm-_/T*C},a=p=>{const y=p*l*t,_=y*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-y),S=zm(Math.pow(p,2),l);return(-s(p)+tm>0?-1:1)*((_-T)*C)/S}):(s=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-tm+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,h=jP(s,a,u);if(t=Ei(t),isNaN(h))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const LP=12;function jP(t,e,n){let r=n;for(let s=1;s<LP;s++)r=r-t(r)/e(r);return r}function zm(t,e){return t*Math.sqrt(1-e*e)}const FP=["duration","bounce"],UP=["stiffness","damping","mass"];function n0(t,e){return e.some(n=>t[n]!==void 0)}function zP(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!n0(t,UP)&&n0(t,FP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Et.mass,stiffness:s,damping:a}}else{const n=OP(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function ph(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:y,velocity:_,isResolvedFromDuration:T}=zP({...n,velocity:-Jn(n.velocity||0)}),C=_||0,S=p/(2*Math.sqrt(h*m)),R=l-a,k=Jn(Math.sqrt(h/m)),M=Math.abs(R)<5;r||(r=M?Et.restSpeed.granular:Et.restSpeed.default),s||(s=M?Et.restDelta.granular:Et.restDelta.default);let F;if(S<1){const H=zm(k,S);F=Z=>{const P=Math.exp(-S*k*Z);return l-P*((C+S*k*R)/H*Math.sin(H*Z)+R*Math.cos(H*Z))}}else if(S===1)F=H=>l-Math.exp(-k*H)*(R+(C+k*R)*H);else{const H=k*Math.sqrt(S*S-1);F=Z=>{const P=Math.exp(-S*k*Z),I=Math.min(H*Z,300);return l-P*((C+S*k*R)*Math.sinh(I)+H*R*Math.cosh(I))/H}}const W={calculatedDuration:T&&y||null,next:H=>{const Z=F(H);if(T)u.done=H>=y;else{let P=H===0?C:0;S<1&&(P=H===0?Ei(C):ZT(F,H,Z));const I=Math.abs(P)<=r,V=Math.abs(l-Z)<=s;u.done=I&&V}return u.value=u.done?l:Z,u},toString:()=>{const H=Math.min(ly(W),fh),Z=JT(P=>W.next(H*P).value,H,30);return H+"ms "+Z},toTransition:()=>{}};return W}ph.applyToOptions=t=>{const e=VP(t,100,ph);return t.ease=e.ease,t.duration=Ei(e.duration),t.type="keyframes",t};function Bm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},T=I=>u!==void 0&&I<u||h!==void 0&&I>h,C=I=>u===void 0?h:h===void 0||Math.abs(u-I)<Math.abs(h-I)?u:h;let S=n*e;const R=y+S,k=l===void 0?R:l(R);k!==R&&(S=k-y);const M=I=>-S*Math.exp(-I/r),F=I=>k+M(I),W=I=>{const V=M(I),j=F(I);_.done=Math.abs(V)<=p,_.value=_.done?k:j};let H,Z;const P=I=>{T(_.value)&&(H=I,Z=ph({keyframes:[_.value,C(_.value)],velocity:ZT(F,I,_.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return P(0),{calculatedDuration:null,next:I=>{let V=!1;return!Z&&H===void 0&&(V=!0,W(I),P(I)),H!==void 0&&I>=H?Z.next(I-H):(!V&&W(I),_)}}}function BP(t,e,n){const r=[],s=n||Si.mix||XT,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Zn:e;u=Yc(h,u)}r.push(u)}return r}function $P(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Zg(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=BP(e,r,s),h=u.length,p=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=Nc(t[y],t[y+1],m);return u[y](_)};return n?m=>p(Qr(t[0],t[a-1],m)):p}function WP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Nc(0,e,r);t.push(yt(n,1,s))}}function qP(t){const e=[0];return WP(e,t.length-1),e}function HP(t,e){return t.map(n=>n*e)}function KP(t,e){return t.map(()=>e||UT).splice(0,t.length-1)}function Ec({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=iP(r)?r.map(Y_):Y_(r),a={done:!1,value:e[0]},l=HP(n&&n.length===e.length?n:qP(e),t),u=$P(l,e,{ease:Array.isArray(s)?s:KP(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const GP=t=>t!==null;function cy(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(GP),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const QP={decay:Bm,inertia:Bm,tween:Ec,keyframes:Ec,spring:ph};function eS(t){typeof t.type=="string"&&(t.type=QP[t.type])}class uy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YP=t=>t/100;class dy extends uy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eS(e);const{type:n=Ec,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||Ec;h!==Ec&&typeof u[0]!="number"&&(this.mixKeyframes=Yc(YP,XT(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ly(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:_,repeatDelay:T,type:C,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,W=r;if(y){const I=Math.min(this.currentTime,s)/u;let V=Math.floor(I),j=I%1;!j&&I>=1&&(j=1),j===1&&V--,V=Math.min(V,y+1),!!(V%2)&&(_==="reverse"?(j=1-j,T&&(j-=T/u)):_==="mirror"&&(W=l)),F=Qr(0,1,j)*u}const H=M?{done:!1,value:m[0]}:W.next(F);a&&(H.value=a(H.value));let{done:Z}=H;!M&&h!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return P&&C!==Bm&&(H.value=cy(m,this.options,R,this.speed)),S&&S(H.value),P&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(this.currentTime)}set time(e){var n;e=Ei(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jn(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=DP,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function XP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wo=t=>t*180/Math.PI,$m=t=>{const e=wo(Math.atan2(t[1],t[0]));return Wm(e)},JP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$m,rotateZ:$m,skewX:t=>wo(Math.atan(t[1])),skewY:t=>wo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wm=t=>(t=t%360,t<0&&(t+=360),t),r0=$m,i0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),s0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i0,scaleY:s0,scale:t=>(i0(t)+s0(t))/2,rotateX:t=>Wm(wo(Math.atan2(t[6],t[5]))),rotateY:t=>Wm(wo(Math.atan2(-t[2],t[0]))),rotateZ:r0,rotate:r0,skewX:t=>wo(Math.atan(t[4])),skewY:t=>wo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qm(t){return t.includes("scale")?1:0}function Hm(t,e){if(!t||t==="none")return qm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ZP,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JP,s=u}if(!s)return qm(e);const a=r[e],l=s[1].split(",").map(tR);return typeof a=="function"?a(l):l[a]}const eR=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hm(n,e)};function tR(t){return parseFloat(t.trim())}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(tl),o0=t=>t===el||t===Ie,nR=new Set(["x","y","z"]),rR=tl.filter(t=>!nR.has(t));function iR(t){const e=[];return rR.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hm(e,"x"),y:(t,{transform:e})=>Hm(e,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const Eo=new Set;let Km=!1,Gm=!1,Qm=!1;function tS(){if(Gm){const t=Array.from(Eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=iR(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gm=!1,Km=!1,Eo.forEach(t=>t.complete(Qm)),Eo.clear()}function nS(){Eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gm=!0)})}function sR(){Qm=!0,nS(),tS(),Qm=!1}class hy{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Eo.add(this),Km||(Km=!0,dt.read(nS),dt.resolveKeyframes(tS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}XP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eo.delete(this)}cancel(){this.state==="scheduled"&&(Eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oR=t=>t.startsWith("--");function aR(t,e,n){oR(e)?t.style.setProperty(e,n):t.style[e]=n}const lR=ey(()=>window.ScrollTimeline!==void 0),cR={};function uR(t,e){const n=ey(t);return()=>cR[e]??n()}const rS=uR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,a0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function iS(t,e){if(t)return typeof t=="function"?rS()?JT(t,e):"ease-out":zT(t)?hc(t):Array.isArray(t)?t.map(n=>iS(n,e)||a0.easeOut):a0[t]}function dR(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const y=iS(u,s);Array.isArray(y)&&(m.easing=y);const _={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(m,_)}function sS(t){return typeof t=="function"&&"applyToOptions"in t}function hR({type:t,...e}){return sS(t)&&rS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fR extends uy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Zg(typeof e.type!="string");const p=hR(e);this.animation=dR(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=cy(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):aR(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ei(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&lR()?(this.animation.timeline=e,Zn):n(this)}}const oS={anticipate:LT,backInOut:OT,circInOut:FT};function pR(t){return t in oS}function mR(t){typeof t.ease=="string"&&pR(t.ease)&&(t.ease=oS[t.ease])}const nm=10;class gR extends fR{constructor(e){mR(e),eS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new dy({...l,autoplay:!1}),h=Math.max(nm,fn.now()-this.startTime),p=Qr(0,nm,h-nm);n.setWithVelocity(u.sample(Math.max(0,h-p)).value,u.sample(h).value,p),u.stop()}}const l0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(As.test(t)||t==="0")&&!t.startsWith("url("));function yR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vR(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=l0(s,e),u=l0(a,e);return!l||!u?!1:yR(t)||(n==="spring"||sS(n))&&r}function Ym(t){t.duration=0,t.type="keyframes"}const wR=new Set(["opacity","clipPath","filter","transform"]),_R=ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ER(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return _R()&&n&&wR.has(n)&&(n!=="transform"||!p)&&!h&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const xR=40;class TR extends uy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:m,...y}){var C;super(),this.stop=()=>{var S,R;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=fn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:m,...y},T=(m==null?void 0:m.KeyframeResolver)||hy;this.keyframeResolver=new T(u,(S,R,k)=>this.onKeyframesResolved(S,R,_,!k),h,p,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,s){var R,k;this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:m}=r;this.resolvedAt=fn.now(),vR(e,a,l,u)||((Si.instantAnimations||!h)&&(m==null||m(cy(e,r,n))),e[0]=e[e.length-1],Ym(r),r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>xR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&ER(_),C=(k=(R=_.motionValue)==null?void 0:R.owner)==null?void 0:k.current,S=T?new gR({..._,element:C}):new dy(_);S.finished.then(()=>{this.notifyFinished()}).catch(Zn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),sR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function aS(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}const SR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IR(t){const e=SR.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function lS(t,e,n=1){const[r,s]=IR(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return bT(l)?parseFloat(l):l}return iy(s)?lS(s,e,n+1):s}const AR={type:"spring",stiffness:500,damping:25,restSpeed:10},CR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bR={type:"keyframes",duration:.8},kR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PR=(t,{keyframes:e})=>e.length>2?bR:nl.has(t)?t.startsWith("scale")?CR(e[1]):AR:kR,RR=t=>t!==null;function NR(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(RR),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function fy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function DR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const py=(t,e,n,r={},s,a)=>l=>{const u=fy(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ei(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};DR(u)||Object.assign(m,PR(t,m)),m.duration&&(m.duration=Ei(m.duration)),m.repeatDelay&&(m.repeatDelay=Ei(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Ym(m),m.delay===0&&(y=!0)),(Si.instantAnimations||Si.skipAnimations)&&(y=!0,Ym(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const _=NR(m.keyframes,u);if(_!==void 0){dt.update(()=>{m.onUpdate(_),m.onComplete()});return}}return u.isSync?new dy(m):new TR(m)};function c0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function my(t,e,n,r){if(typeof e=="function"){const[s,a]=c0(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=c0(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Va(t,e,n){const r=t.getProps();return my(r,e,n!==void 0?n:r.custom,t)}const cS=new Set(["width","height","top","left","right","bottom",...tl]),u0=30,VR=t=>!isNaN(parseFloat(t));class MR{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=fn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ty);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u0);return RT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new MR(t,e)}const Xm=t=>Array.isArray(t);function OR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function LR(t){return Xm(t)?t[t.length-1]||0:t}function jR(t,e){const n=Va(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=LR(a[l]);OR(t,l,u)}}const ln=t=>!!(t&&t.getVelocity);function FR(t){return!!(ln(t)&&t.add)}function Jm(t,e){const n=t.getValue("willChange");if(FR(n))return n.add(e);if(!n&&Si.WillChange){const r=new Si.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const UR="framerAppearId",uS="data-"+gy(UR);function dS(t){return t.props[uS]}function zR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const h=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),_=u[m];if(_===void 0||p&&zR(p,m))continue;const T={delay:n,...fy(a||{},m)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===C&&!T.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=dS(t);if(k){const M=window.MotionHandoffAnimation(k,m,dt);M!==null&&(T.startTime=M,S=!0)}}Jm(t,m),y.start(py(m,y,_,t.shouldReduceMotion&&cS.has(m)?{type:!1}:T,t,S));const R=y.animation;R&&h.push(R)}return l&&Promise.all(h).then(()=>{dt.update(()=>{l&&jR(t,l)})}),h}function Zm(t,e,n={}){var h;const r=Va(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(hS(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return BR(t,e,p,m,y,_,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function BR(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Zm(h,e,{...l,delay:n+(typeof r=="function"?0:r)+aS(t.variantChildren,h,r,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function $R(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Zm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Zm(t,e,n);else{const s=typeof e=="function"?Va(t,e,n.custom):e;r=Promise.all(hS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const WR={test:t=>t==="auto",parse:t=>t},fS=t=>e=>e.test(t),pS=[el,Ie,Br,us,yP,gP,WR],d0=t=>pS.find(fS(t));function qR(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PT(t):!0}const HR=new Set(["brightness","contrast","saturate","opacity"]);function KR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sy)||[];if(!r)return t;const s=n.replace(r,"");let a=HR.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const GR=/\b([a-z-]*)\(.*?\)/gu,eg={...As,getAnimatableNone:t=>{const e=t.match(GR);return e?e.map(KR).join(" "):t}},h0={...el,transform:Math.round},QR={rotate:us,rotateX:us,rotateY:us,rotateZ:us,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:us,skewX:us,skewY:us,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Dc,originX:J_,originY:J_,originZ:Ie},yy={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,inset:Ie,insetBlock:Ie,insetBlockStart:Ie,insetBlockEnd:Ie,insetInline:Ie,insetInlineStart:Ie,insetInlineEnd:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,paddingBlock:Ie,paddingBlockStart:Ie,paddingBlockEnd:Ie,paddingInline:Ie,paddingInlineStart:Ie,paddingInlineEnd:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,marginBlock:Ie,marginBlockStart:Ie,marginBlockEnd:Ie,marginInline:Ie,marginInlineStart:Ie,marginInlineEnd:Ie,fontSize:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...QR,zIndex:h0,fillOpacity:Dc,strokeOpacity:Dc,numOctaves:h0},YR={...yy,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:eg,WebkitFilter:eg},mS=t=>YR[t];function gS(t,e){let n=mS(t);return n!==eg&&(n=As),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XR=new Set(["auto","none","0"]);function JR(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!XR.has(a)&&Vc(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=gS(n,s)}class ZR extends hy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let y=e[m];if(typeof y=="string"&&(y=y.trim(),iy(y))){const _=lS(y,n.current);_!==void 0&&(e[m]=_),m===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!cS.has(r)||e.length!==2)return;const[s,a]=e,l=d0(s),u=d0(a),h=X_(s),p=X_(a);if(h!==p&&gs[r]){this.needsMeasurement=!0;return}if(l!==u)if(o0(l)&&o0(u))for(let m=0;m<e.length;m++){const y=e[m];typeof y=="string"&&(e[m]=parseFloat(y))}else gs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||qR(e[s]))&&r.push(s);r.length&&JR(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function eN(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const yS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function tg(t){return kT(t)&&"offsetHeight"in t}const{schedule:vy}=BT(queueMicrotask,!1),dr={x:!1,y:!1};function vS(){return dr.x||dr.y}function tN(t){return t==="x"||t==="y"?dr[t]?null:(dr[t]=!0,()=>{dr[t]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function wS(t,e){const n=eN(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function f0(t){return!(t.pointerType==="touch"||vS())}function nN(t,e,n={}){const[r,s,a]=wS(t,n),l=u=>{if(!f0(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=y=>{f0(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const _S=(t,e)=>e?t===e?!0:_S(t,e.parentElement):!1,wy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ES(t){return rN.has(t.tagName)||t.isContentEditable===!0}const Qd=new WeakSet;function p0(t){return e=>{e.key==="Enter"&&t(e)}}function rm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=p0(()=>{if(Qd.has(n))return;rm(n,"down");const s=p0(()=>{rm(n,"up")}),a=()=>rm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function m0(t){return wy(t)&&!vS()}function sN(t,e,n={}){const[r,s,a]=wS(t,n),l=u=>{const h=u.currentTarget;if(!m0(u))return;Qd.add(h);const p=e(h,u),m=(T,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Qd.has(h)&&Qd.delete(h),m0(T)&&typeof p=="function"&&p(T,{success:C})},y=T=>{m(T,h===window||h===document||n.useGlobalTarget||_S(h,T.target))},_=T=>{m(T,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),tg(u)&&(u.addEventListener("focus",p=>iN(p,s)),!ES(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function xS(t){return kT(t)&&"ownerSVGElement"in t}function oN(t){return xS(t)&&t.tagName==="svg"}const aN=[...pS,kt,As],lN=t=>aN.find(fS(t)),g0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:g0(),y:g0()}),y0=()=>({min:0,max:0}),Ot=()=>({x:y0(),y:y0()}),ng={current:null},TS={current:!1},cN=typeof window<"u";function uN(){if(TS.current=!0,!!cN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ng.current=t.matches;t.addEventListener("change",e),e()}else ng.current=!1}const dN=new WeakMap;function qh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mc(t){return typeof t=="string"||Array.isArray(t)}const _y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ey=["initial",..._y];function Hh(t){return qh(t.animate)||Ey.some(e=>Mc(t[e]))}function SS(t){return!!(Hh(t)||t.variants)}function hN(t,e,n){for(const r in e){const s=e[r],a=n[r];if(ln(s))t.addValue(r,s);else if(ln(a))t.addValue(r,Wa(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Wa(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const v0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let mh={};function IS(t){mh=t}function fN(){return mh}class pN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=fn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,dt.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Hh(n),this.isVariantNode=SS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const T=y[_];h[_]!==void 0&&ln(T)&&T.set(h[_])}}mount(e){var n;this.current=e,dN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(TS.current||uN(),this.shouldReduceMotion=ng.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Is(this.notifyUpdate),Is(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mh){const n=mh[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<v0.length;r++){const s=v0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=hN(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bT(r)||PT(r))?r=parseFloat(r):!lN(r)&&As.test(n)&&(r=gS(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=my(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ty),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){vy.render(this.render)}}class AS extends pN{constructor(){super(...arguments),this.KeyframeResolver=ZR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Os{constructor(e){this.isMounted=!1,this.node=e}update(){}}function CS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function im(t){return t===void 0||t===1}function rg({scale:t,scaleX:e,scaleY:n}){return!im(t)||!im(e)||!im(n)}function go(t){return rg(t)||bS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bS(t){return w0(t.x)||w0(t.y)}function w0(t){return t&&t!=="0%"}function gh(t,e,n){const r=t-n,s=e*r;return n+s}function _0(t,e,n,r,s){return s!==void 0&&(t=gh(t,s,r)),gh(t,n,r)+e}function ig(t,e=0,n=1,r,s){t.min=_0(t.min,e,n,r,s),t.max=_0(t.max,e,n,r,s)}function kS(t,{x:e,y:n}){ig(t.x,e.translate,e.scale,e.originPoint),ig(t.y,n.translate,n.scale,n.originPoint)}const E0=.999999999999,x0=1.0000000000001;function yN(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Na(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,kS(t,l)),r&&go(a.latestValues)&&Na(t,a.latestValues))}e.x<x0&&e.x>E0&&(e.x=1),e.y<x0&&e.y>E0&&(e.y=1)}function Ra(t,e){t.min=t.min+e,t.max=t.max+e}function T0(t,e,n,r,s=.5){const a=yt(t.min,t.max,s);ig(t,e,n,a,r)}function Na(t,e){T0(t.x,e.x,e.scaleX,e.scale,e.originX),T0(t.y,e.y,e.scaleY,e.scale,e.originY)}function PS(t,e){return CS(gN(t.getBoundingClientRect(),e))}function vN(t,e,n){const r=PS(t,n),{scroll:s}=e;return s&&(Ra(r.x,s.offset.x),Ra(r.y,s.offset.y)),r}const wN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_N=tl.length;function EN(t,e,n){let r="",s=!0;for(let a=0;a<_N;a++){const l=tl[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number")h=u===(l.startsWith("scale")?1:0);else{const p=parseFloat(u);h=l.startsWith("scale")?p===1:p===0}if(!h||n){const p=yS(u,yy[l]);if(!h){s=!1;const m=wN[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function xy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const p=e[h];if(nl.has(h)){l=!0;continue}else if(WT(h)){s[h]=p;continue}else{const m=yS(p,yy[h]);h.startsWith("origin")?(u=!0,a[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=EN(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}function RS(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function S0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=S0(t,e.target.x),r=S0(t,e.target.y);return`${n}% ${r}%`}},xN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=As.parse(t);if(s.length>5)return r;const a=As.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const p=yt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},sg={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:xN};function NS(t,{layout:e,layoutId:n}){return nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sg[t]||t==="opacity")}function Ty(t,e,n){var l;const r=t.style,s=e==null?void 0:e.style,a={};if(!r)return a;for(const u in r)(ln(r[u])||s&&ln(s[u])||NS(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}function TN(t){return window.getComputedStyle(t)}class SN extends AS{constructor(){super(...arguments),this.type="html",this.renderInstance=RS}readValueFromInstance(e,n){var r;if(nl.has(n))return(r=this.projection)!=null&&r.isProjecting?qm(n):eR(e,n);{const s=TN(e),a=(WT(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PS(e,n)}build(e,n,r){xy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ty(e,n,r)}}const IN={offset:"stroke-dashoffset",array:"stroke-dasharray"},AN={offset:"strokeDashoffset",array:"strokeDasharray"};function CN(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?IN:AN;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const bN=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function DS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,p,m){if(xy(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox);for(const T of bN)y[T]!==void 0&&(_[T]=y[T],delete y[T]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&CN(y,s,a,l,!1)}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),MS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kN(t,e,n,r){RS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VS.has(s)?s:gy(s),e.attrs[s])}function OS(t,e,n){const r=Ty(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const a=tl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class PN extends AS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nl.has(n)){const r=mS(n);return r&&r.default||0}return n=VS.has(n)?n:gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return OS(e,n,r)}build(e,n,r){DS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){kN(e,n,r,s)}mount(e){this.isSVGTag=MS(e.tagName),super.mount(e)}}const RN=Ey.length;function LS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RN;n++){const r=Ey[n],s=t.props[r];(Mc(s)||s===!1)&&(e[r]=s)}return e}function jS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NN=[..._y].reverse(),DN=_y.length;function VN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$R(t,n,r)))}function MN(t){let e=VN(t),n=I0(),r=!0;const s=h=>(p,m)=>{var _;const y=Va(t,m,h==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:T,transitionEnd:C,...S}=y;p={...p,...S,...C}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,m=LS(t.parent)||{},y=[],_=new Set;let T={},C=1/0;for(let R=0;R<DN;R++){const k=NN[R],M=n[k],F=p[k]!==void 0?p[k]:m[k],W=Mc(F),H=k===h?M.isActive:null;H===!1&&(C=R);let Z=F===m[k]&&F!==p[k]&&W;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),M.protectedKeys={...T},!M.isActive&&H===null||!F&&!M.prevProp||qh(F)||typeof F=="boolean")continue;const P=ON(M.prevProp,F);let I=P||k===h&&M.isActive&&!Z&&W||R>C&&W,V=!1;const j=Array.isArray(F)?F:[F];let D=j.reduce(s(k),{});H===!1&&(D={});const{prevResolvedValues:U={}}=M,O={...U,...D},ge=de=>{I=!0,_.has(de)&&(V=!0,_.delete(de)),M.needsAnimating[de]=!0;const $=t.getValue(de);$&&($.liveStyle=!1)};for(const de in O){const $=D[de],le=U[de];if(T.hasOwnProperty(de))continue;let ae=!1;Xm($)&&Xm(le)?ae=!jS($,le):ae=$!==le,ae?$!=null?ge(de):_.add(de):$!==void 0&&_.has(de)?ge(de):M.protectedKeys[de]=!0}M.prevProp=F,M.prevResolvedValues=D,M.isActive&&(T={...T,...D}),r&&t.blockInitialAnimation&&(I=!1);const be=Z&&P;I&&(!be||V)&&y.push(...j.map(de=>{const $={type:k};if(typeof de=="string"&&r&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,ae=Va(le,de);if(le.enteringChildren&&ae){const{delayChildren:q}=ae.transition||{};$.delay=aS(le.enteringChildren,t,q)}}return{animation:de,options:$}}))}if(_.size){const R={};if(typeof p.initial!="boolean"){const k=Va(t,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(R.transition=k.transition)}_.forEach(k=>{const M=t.getBaseTarget(k),F=t.getValue(k);F&&(F.liveStyle=!0),R[k]=M??null}),y.push({animation:R})}let S=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(h,p){var y;if(n[h].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(h,p)}),n[h].isActive=p;const m=l(h);for(const _ in n)n[_].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=I0()}}}function ON(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jS(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I0(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}function A0(t,e){t.min=e.min,t.max=e.max}function ur(t,e){A0(t.x,e.x),A0(t.y,e.y)}function C0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const FS=1e-4,LN=1-FS,jN=1+FS,US=.01,FN=0-US,UN=0+US;function pn(t){return t.max-t.min}function zN(t,e,n){return Math.abs(t-e)<=n}function b0(t,e,n,r=.5){t.origin=r,t.originPoint=yt(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LN&&t.scale<=jN||isNaN(t.scale))&&(t.scale=1),(t.translate>=FN&&t.translate<=UN||isNaN(t.translate))&&(t.translate=0)}function xc(t,e,n,r){b0(t.x,e.x,n.x,r?r.originX:void 0),b0(t.y,e.y,n.y,r?r.originY:void 0)}function k0(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function BN(t,e,n){k0(t.x,e.x,n.x),k0(t.y,e.y,n.y)}function P0(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function yh(t,e,n){P0(t.x,e.x,n.x),P0(t.y,e.y,n.y)}function R0(t,e,n,r,s){return t-=e,t=gh(t,1/n,r),s!==void 0&&(t=gh(t,1/s,r)),t}function $N(t,e=0,n=1,r=.5,s,a=t,l=t){if(Br.test(e)&&(e=parseFloat(e),e=yt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=yt(a.min,a.max,r);t===a&&(u-=e),t.min=R0(t.min,e,n,u,s),t.max=R0(t.max,e,n,u,s)}function N0(t,e,[n,r,s],a,l){$N(t,e[n],e[r],e[s],e.scale,a,l)}const WN=["x","scaleX","originX"],qN=["y","scaleY","originY"];function D0(t,e,n,r){N0(t.x,e,WN,n?n.x:void 0,r?r.x:void 0),N0(t.y,e,qN,n?n.y:void 0,r?r.y:void 0)}function V0(t){return t.translate===0&&t.scale===1}function zS(t){return V0(t.x)&&V0(t.y)}function M0(t,e){return t.min===e.min&&t.max===e.max}function HN(t,e){return M0(t.x,e.x)&&M0(t.y,e.y)}function O0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BS(t,e){return O0(t.x,e.x)&&O0(t.y,e.y)}function L0(t){return pn(t.x)/pn(t.y)}function j0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Gn(t){return[t("x"),t("y")]}function KN(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:_,skewX:T,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const $S=["TopLeft","TopRight","BottomLeft","BottomRight"],GN=$S.length,F0=t=>typeof t=="string"?parseFloat(t):t,U0=t=>typeof t=="number"||Ie.test(t);function QN(t,e,n,r,s,a){s?(t.opacity=yt(0,n.opacity??1,YN(r)),t.opacityExit=yt(e.opacity??1,0,XN(r))):a&&(t.opacity=yt(e.opacity??1,n.opacity??1,r));for(let l=0;l<GN;l++){const u=`border${$S[l]}Radius`;let h=z0(e,u),p=z0(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||U0(h)===U0(p)?(t[u]=Math.max(yt(F0(h),F0(p),r),0),(Br.test(p)||Br.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,r))}function z0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YN=WS(0,.5,jT),XN=WS(.5,.95,Zn);function WS(t,e,n){return r=>r<t?0:r>e?1:n(Nc(t,e,r))}function JN(t,e,n){const r=ln(t)?t:Wa(t);return r.start(py("",r,e,n)),r.animation}function Oc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const ZN=(t,e)=>t.depth-e.depth;class eD{constructor(){this.children=[],this.isDirty=!1}add(e){Xg(this.children,e),this.isDirty=!0}remove(e){Jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZN),this.isDirty=!1,this.children.forEach(e)}}function tD(t,e){const n=fn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(Is(r),t(a-e))};return dt.setup(r,!0),()=>Is(r)}function Yd(t){return ln(t)?t.get():t}class nD{constructor(){this.members=[]}add(e){Xg(this.members,e),e.scheduleRender()}remove(e){if(Jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,a=e.options.layoutDependency;s!==void 0&&a!==void 0&&s===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},sm=["","X","Y","Z"],rD=1e3;let iD=0;function om(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qS(r)}function HS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=iD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aD),this.nodes.forEach(dD),this.nodes.forEach(hD),this.nodes.forEach(lD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new eD)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ty),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=xS(l)&&!oN(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,y=0;const _=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{y=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,m&&m(),m=tD(_,250),Xd.hasAnimatedSinceResize&&(Xd.hasAnimatedSinceResize=!1,this.nodes.forEach(W0)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||yD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=p.getProps(),k=!this.targetLayout||!BS(this.targetLayout,T),M=!y&&_;if(this.options.layoutRoot||this.resumeFrom||M||y&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...fy(C,"layout"),onPlay:S,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(m,M)}else y||W0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uD),this.nodes.forEach(sD),this.nodes.forEach(oD)):this.nodes.forEach($0),this.clearAllSnapshots();const u=fn.now();Gt.delta=Qr(0,1e3/60,u-Gt.timestamp),Gt.timestamp=u,Gt.isProcessing=!0,Xp.update.process(Gt),Xp.preRender.process(Gt),Xp.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cD),this.sharedNodes.forEach(pD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!zS(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||go(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),vD(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Ot();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(wD))){const{scroll:m}=this.root;m&&(Ra(u.x,m.offset.x),Ra(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=Ot();if(ur(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ur(u,l),Ra(u.x,y.offset.x),Ra(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const h=Ot();ur(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Na(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),go(m.latestValues)&&Na(h,m.latestValues)}return go(this.latestValues)&&Na(h,this.latestValues),h}removeTransform(l){const u=Ot();ur(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!go(p.latestValues))continue;rg(p.latestValues)&&p.updateSnapshot();const m=Ot(),y=p.measurePageBox();ur(m,y),D0(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return go(this.latestValues)&&D0(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var T;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=Gt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),kS(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||bS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),yh(this.relativeTargetOrigin,u,h),ur(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;ur(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;yN(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ot());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C0(this.prevProjectionDelta.x,this.projectionDelta.x),C0(this.prevProjectionDelta.y,this.projectionDelta.y)),xc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!j0(this.projectionDelta.x,this.prevProjectionDelta.x)||!j0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pa(),this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Ot(),T=h?h.source:void 0,C=this.layout?this.layout.source:void 0,S=T!==C,R=this.getStack(),k=!R||R.members.length<=1,M=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(gD));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const H=W/1e3;q0(y.x,l.x,H),q0(y.y,l.y,H),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mD(this.relativeTarget,this.relativeTargetOrigin,_,H),F&&HN(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ot()),ur(F,this.relativeTarget)),S&&(this.animationValues=m,QN(m,p,this.latestValues,H,M,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Xd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=JN(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&KS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Ot();const y=pn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=pn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}ur(u,h),Na(u,m),xc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new nD),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&om("z",l,p,this.animationValues);for(let m=0;m<sm.length;m++)om(`rotate${sm[m]}`,l,p,this.animationValues),om(`skew${sm[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Yd(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Yd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=KN(this.projectionDeltaWithTransform,this.treeScale,m);h&&(y=h(m,y)),l.transform=y;const{x:_,y:T}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in sg){if(m[C]===void 0)continue;const{correct:S,applyTo:R,isCSSVariable:k}=sg[C],M=y==="none"?m[C]:S(m[C],p);if(R){const F=R.length;for(let W=0;W<F;W++)l[R[W]]=M}else k?this.options.visualElement.renderState.vars[C]=M:l[C]=M}this.options.layoutId&&(l.pointerEvents=p===this?Yd(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(B0),this.root.sharedNodes.clear()}}}function sD(t){t.updateLayout()}function oD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Gn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(_);_.min=r[y].min,_.max=_.min+T}):KS(a,e.layoutBox,r)&&Gn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=pn(r[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=Pa();xc(u,r,e.layoutBox);const h=Pa();l?xc(h,t.applyTransform(s,!0),e.measuredBox):xc(h,r,e.layoutBox);const p=!zS(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const C=Ot();yh(C,e.layoutBox,_.layoutBox);const S=Ot();yh(S,r,T.layoutBox),BS(C,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cD(t){t.clearSnapshot()}function B0(t){t.clearMeasurements()}function $0(t){t.isLayoutDirty=!1}function uD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dD(t){t.resolveTargetDelta()}function hD(t){t.calcProjection()}function fD(t){t.resetSkewAndRotation()}function pD(t){t.removeLeadSnapshot()}function q0(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H0(t,e,n,r){t.min=yt(e.min,n.min,r),t.max=yt(e.max,n.max,r)}function mD(t,e,n,r){H0(t.x,e.x,n.x,r),H0(t.y,e.y,n.y,r)}function gD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yD={duration:.45,ease:[.4,0,.1,1]},K0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),G0=K0("applewebkit/")&&!K0("chrome/")?Math.round:Zn;function Q0(t){t.min=G0(t.min),t.max=G0(t.max)}function vD(t){Q0(t.x),Q0(t.y)}function KS(t,e,n){return t==="position"||t==="preserve-aspect"&&!zN(L0(e),L0(n),.2)}function wD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _D=HS({attachResizeListener:(t,e)=>Oc(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),am={current:void 0},GS=HS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!am.current){const t=new _D({});t.mount(window),t.setOptions({layoutScroll:!0}),am.current=t}return am.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sy=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ED(...t){return e=>{let n=!1;const r=t.map(s=>{const a=Y0(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Y0(t[s],null)}}}}function xD(...t){return b.useCallback(ED(...t),t)}class TD extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=tg(r)&&r.offsetWidth||0,a=tg(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function SD({children:t,isPresent:e,anchorX:n,anchorY:r,root:s}){var y;const a=b.useId(),l=b.useRef(null),u=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=b.useContext(Sy),p=((y=t.props)==null?void 0:y.ref)??(t==null?void 0:t.ref),m=xD(l,p);return b.useInsertionEffect(()=>{const{width:_,height:T,top:C,left:S,right:R,bottom:k}=u.current;if(e||!l.current||!_||!T)return;const M=n==="left"?`left: ${S}`:`right: ${R}`,F=r==="bottom"?`bottom: ${k}`:`top: ${C}`;l.current.dataset.motionPopId=a;const W=document.createElement("style");h&&(W.nonce=h);const H=s??document.head;return H.appendChild(W),W.sheet&&W.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${T}px !important;
            ${M}px !important;
            ${F}px !important;
          }
        `),()=>{H.contains(W)&&H.removeChild(W)}},[e]),E.jsx(TD,{isPresent:e,childRef:l,sizeRef:u,children:b.cloneElement(t,{ref:m})})}const ID=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,anchorY:h,root:p})=>{const m=Yg(AD),y=b.useId();let _=!0,T=b.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:s,onExitComplete:C=>{m.set(C,!0);for(const S of m.values())if(!S)return;r&&r()},register:C=>(m.set(C,!1),()=>m.delete(C))}),[n,m,r]);return a&&_&&(T={...T}),b.useMemo(()=>{m.forEach((C,S)=>m.set(S,!1))},[n]),b.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),l==="popLayout"&&(t=E.jsx(SD,{isPresent:n,anchorX:u,anchorY:h,root:p,children:t})),E.jsx(Wh.Provider,{value:T,children:t})};function AD(){return new Map}function QS(t=!0){const e=b.useContext(Wh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{if(t)return s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Rd=t=>t.key||"";function X0(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const CD=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",anchorY:h="top",root:p})=>{const[m,y]=QS(l),_=b.useMemo(()=>X0(t),[t]),T=l&&!m?[]:_.map(Rd),C=b.useRef(!0),S=b.useRef(_),R=Yg(()=>new Map),k=b.useRef(new Set),[M,F]=b.useState(_),[W,H]=b.useState(_);CT(()=>{C.current=!1,S.current=_;for(let I=0;I<W.length;I++){const V=Rd(W[I]);T.includes(V)?(R.delete(V),k.current.delete(V)):R.get(V)!==!0&&R.set(V,!1)}},[W,T.length,T.join("-")]);const Z=[];if(_!==M){let I=[..._];for(let V=0;V<W.length;V++){const j=W[V],D=Rd(j);T.includes(D)||(I.splice(V,0,j),Z.push(j))}return a==="wait"&&Z.length&&(I=Z),H(X0(I)),F(_),null}const{forceRender:P}=b.useContext(Qg);return E.jsx(E.Fragment,{children:W.map(I=>{const V=Rd(I),j=l&&!m?!1:_===W||T.includes(V),D=()=>{if(k.current.has(V))return;if(k.current.add(V),R.has(V))R.set(V,!0);else return;let U=!0;R.forEach(O=>{O||(U=!1)}),U&&(P==null||P(),H(S.current),l&&(y==null||y()),r&&r())};return E.jsx(ID,{isPresent:j,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:p,onExitComplete:j?void 0:D,anchorX:u,anchorY:h,children:I},V)})})},YS=b.createContext({strict:!1}),J0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z0=!1;function bD(){if(Z0)return;const t={};for(const e in J0)t[e]={isEnabled:n=>J0[e].some(r=>!!n[r])};IS(t),Z0=!0}function XS(){return bD(),fN()}function kD(t){const e=XS();for(const n in t)e[n]={...e[n],...t[n]};IS(e)}const PD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PD.has(t)}let JS=t=>!vh(t);function RD(t){typeof t=="function"&&(JS=e=>e.startsWith("on")?!vh(e):t(e))}try{RD(require("@emotion/is-prop-valid").default)}catch{}function ND(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(JS(s)||n===!0&&vh(s)||!e&&!vh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Kh=b.createContext({});function DD(t,e){if(Hh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mc(n)?n:void 0,animate:Mc(r)?r:void 0}}return t.inherit!==!1?e:{}}function VD(t){const{initial:e,animate:n}=DD(t,b.useContext(Kh));return b.useMemo(()=>({initial:e,animate:n}),[eE(e),eE(n)])}function eE(t){return Array.isArray(t)?t.join(" "):t}const Iy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZS(t,e,n){for(const r in e)!ln(e[r])&&!NS(r,n)&&(t[r]=e[r])}function MD({transformTemplate:t},e){return b.useMemo(()=>{const n=Iy();return xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OD(t,e){const n=t.style||{},r={};return ZS(r,n,t),Object.assign(r,MD(t,e)),r}function LD(t,e){const n={},r=OD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const eI=()=>({...Iy(),attrs:{}});function jD(t,e,n,r){const s=b.useMemo(()=>{const a=eI();return DS(a,e,MS(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ZS(a,t.style,t),s.style={...a,...s.style}}return s}const FD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ay(t){return typeof t!="string"||t.includes("-")?!1:!!(FD.indexOf(t)>-1||/[A-Z]/u.test(t))}function UD(t,e,n,{latestValues:r},s,a=!1,l){const h=(l??Ay(t)?jD:LD)(e,r,s,t),p=ND(e,typeof t=="string",a),m=t!==b.Fragment?{...p,...h,ref:n}:{},{children:y}=e,_=b.useMemo(()=>ln(y)?y.get():y,[y]);return b.createElement(t,{...m,children:_})}function zD({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:BD(n,r,s,t),renderState:e()}}function BD(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=Yd(a[_]);let{initial:l,animate:u}=t;const h=Hh(t),p=SS(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!qh(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const C=my(t,_[T]);if(C){const{transitionEnd:S,transition:R,...k}=C;for(const M in k){let F=k[M];if(Array.isArray(F)){const W=m?F.length-1:0;F=F[W]}F!==null&&(s[M]=F)}for(const M in S)s[M]=S[M]}}}return s}const tI=t=>(e,n)=>{const r=b.useContext(Kh),s=b.useContext(Wh),a=()=>zD(t,e,r,s);return n?a():Yg(a)},$D=tI({scrapeMotionValuesFromProps:Ty,createRenderState:Iy}),WD=tI({scrapeMotionValuesFromProps:OS,createRenderState:eI}),qD=Symbol.for("motionComponentSymbol");function HD(t,e,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(a=>{var u;a&&((u=t.onMount)==null||u.call(t,a)),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const h=l(a);typeof h=="function"&&(s.current=h)}else s.current?(s.current(),s.current=null):l(a);else l&&(l.current=a)},[e])}const nI=b.createContext({});function fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KD(t,e,n,r,s,a){var k,M;const{visualElement:l}=b.useContext(Kh),u=b.useContext(YS),h=b.useContext(Wh),p=b.useContext(Sy).reducedMotion,m=b.useRef(null),y=b.useRef(!1);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p,isSVG:a}),y.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const _=m.current,T=b.useContext(nI);_&&!_.projection&&s&&(_.type==="html"||_.type==="svg")&&GD(m.current,n,s,T);const C=b.useRef(!1);b.useInsertionEffect(()=>{_&&C.current&&_.update(n,h)});const S=n[uS],R=b.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,S)));return CT(()=>{y.current=!0,_&&(C.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),R.current&&_.animationState&&_.animationState.animateChanges())}),b.useEffect(()=>{_&&(!R.current&&_.animationState&&_.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,S)}),R.current=!1),_.enteringChildren=void 0)}),_}function GD(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rI(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&fc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:p})}function rI(t){if(t)return t.options.allowProjection!==!1?t.projection:rI(t.parent)}function lm(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&kD(r);const a=n?n==="svg":Ay(t),l=a?WD:$D;function u(p,m){let y;const _={...b.useContext(Sy),...p,layoutId:QD(p)},{isStatic:T}=_,C=VD(p),S=l(p,T);if(!T&&AT){YD();const R=XD(_);y=R.MeasureLayout,C.visualElement=KD(t,S,_,s,R.ProjectionNode,a)}return E.jsxs(Kh.Provider,{value:C,children:[y&&C.visualElement?E.jsx(y,{visualElement:C.visualElement,..._}):null,UD(t,p,HD(S,C.visualElement,m),S,T,e,a)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const h=b.forwardRef(u);return h[qD]=t,h}function QD({layoutId:t}){const e=b.useContext(Qg).id;return e&&t!==void 0?e+"-"+t:t}function YD(t,e){b.useContext(YS).strict}function XD(t){const e=XS(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function JD(t,e){if(typeof Proxy>"u")return lm;const n=new Map,r=(a,l)=>lm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,lm(l,void 0,t,e)),n.get(l))})}const ZD=(t,e)=>e.isSVG??Ay(t)?new PN(e):new SN(e,{allowProjection:t!==b.Fragment});class e2 extends Os{constructor(e){super(e),e.animationState||(e.animationState=MN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let t2=0;class n2 extends Os{constructor(){super(...arguments),this.id=t2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const r2={animation:{Feature:e2},exit:{Feature:n2}};function Zc(t){return{point:{x:t.pageX,y:t.pageY}}}const i2=t=>e=>wy(e)&&t(e,Zc(e));function Tc(t,e,n,r){return Oc(t,e,i2(n),r)}const iI=({current:t})=>t?t.ownerDocument.defaultView:null,tE=(t,e)=>Math.abs(t-e);function s2(t,e){const n=tE(t.x,e.x),r=tE(t.y,e.y);return Math.sqrt(n**2+r**2)}const nE=new Set(["auto","scroll"]);class sI{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=um(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,S=s2(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!S)return;const{point:R}=T,{timestamp:k}=Gt;this.history.push({...R,timestamp:k});const{onStart:M,onMove:F}=this.handlers;C||(M&&M(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=cm(C,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=um(T.type==="pointercancel"?this.lastMoveEventInfo:cm(C,this.transformPagePoint),this.history);this.startEvent&&S&&S(T,M),R&&R(T,M)},!wy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const h=Zc(e),p=cm(h,this.transformPagePoint),{point:m}=p,{timestamp:y}=Gt;this.history=[{...m,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,um(p,this.history)),this.removeListeners=Yc(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(nE.has(r.overflowX)||nE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),dt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Is(this.updatePoint)}}function cm(t,e){return e?{point:e(t.point)}:t}function rE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function um({point:t},e){return{point:t,delta:rE(t,oI(e)),offset:rE(t,o2(e)),velocity:a2(e,.1)}}function o2(t){return t[0]}function oI(t){return t[t.length-1]}function a2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=oI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ei(e)));)n--;if(!r)return{x:0,y:0};const a=Jn(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function l2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yt(n,t,r.max):Math.min(t,n)),t}function iE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c2(t,{top:e,left:n,bottom:r,right:s}){return{x:iE(t.x,n,s),y:iE(t.y,e,r)}}function sE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function u2(t,e){return{x:sE(t.x,e.x),y:sE(t.y,e.y)}}function d2(t,e){let n=.5;const r=pn(t),s=pn(e);return s>r?n=Nc(e.min,e.max-r,t.min):r>s&&(n=Nc(t.min,t.max-s,e.min)),Qr(0,1,n)}function h2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const og=.35;function f2(t=og){return t===!1?t=0:t===!0&&(t=og),{x:oE(t,"left","right"),y:oE(t,"top","bottom")}}function oE(t,e,n){return{min:aE(t,e),max:aE(t,n)}}function aE(t,e){return typeof t=="number"?t:t[e]||0}const p2=new WeakMap;class m2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{n?(this.stopAnimation(),this.snapToCursor(Zc(y).point)):this.pauseAnimation()},l=(y,_)=>{this.stopAnimation();const{drag:T,dragPropagation:C,onDragStart:S}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tN(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(k=>{let M=this.getAxisMotionValue(k).get()||0;if(Br.test(M)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[k];W&&(M=pn(W)*(parseFloat(M)/100))}}this.originPoint[k]=M}),S&&dt.postRender(()=>S(y,_)),Jm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:S,onDrag:R}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:k}=_;if(C&&this.currentDirection===null){this.currentDirection=g2(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),R&&R(y,_)},h=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Gn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new sI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:iI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&dt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Nd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=l2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=c2(r.layoutBox,e):this.constraints=!1,this.elastic=f2(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=h2(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=vN(r,s.root,this.visualElement.getTransformPagePoint());let l=u2(s.layout.layoutBox,a);if(n){const u=n(mN(l));this.hasMutatedConstraints=!!u,u&&(l=CS(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Gn(m=>{if(!Nd(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const _=s?200:1e6,T=s?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jm(this.visualElement,e),r.start(py(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!Nd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n],h=a.get()||0;a.set(e[n]-yt(l,u,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=d2({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!Nd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(yt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;p2.set(this.visualElement,this);const e=this.visualElement.current,n=Tc(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps(),y=h.target,_=y!==e&&ES(y);p&&m&&!_&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();fc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const l=Oc(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=og,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Nd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class y2 extends Os{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new m2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const lE=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class v2 extends Os{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new sI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:lE(e),onStart:lE(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&dt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dm=!1;class w2 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),dm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),dm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||dt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;dm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aI(t){const[e,n]=QS(),r=b.useContext(Qg);return E.jsx(w2,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(nI),isPresent:e,safeToRemove:n})}const _2={pan:{Feature:v2},drag:{Feature:y2,ProjectionNode:GS,MeasureLayout:aI}};function cE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&dt.postRender(()=>a(e,Zc(e)))}class E2 extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=nN(e,(n,r)=>(cE(this.node,r,"Start"),s=>cE(this.node,s,"End"))))}unmount(){}}class x2 extends Os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Oc(this.node.current,"focus",()=>this.onFocus()),Oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&dt.postRender(()=>a(e,Zc(e)))}class T2 extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=sN(e,(n,r)=>(uE(this.node,r,"Start"),(s,{success:a})=>uE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ag=new WeakMap,hm=new WeakMap,S2=t=>{const e=ag.get(t.target);e&&e(t)},I2=t=>{t.forEach(S2)};function A2({root:t,...e}){const n=t||document;hm.has(n)||hm.set(n,{});const r=hm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(I2,{root:t,...e})),r[s]}function C2(t,e,n){const r=A2(e);return ag.set(t,n),r.observe(t),()=>{ag.delete(t),r.unobserve(t)}}const b2={some:0,all:1};class k2 extends Os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:b2[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=p?m:y;_&&_(h)};return C2(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(P2(e,n))&&this.startObserver()}unmount(){}}function P2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R2={inView:{Feature:k2},tap:{Feature:T2},focus:{Feature:x2},hover:{Feature:E2}},N2={layout:{ProjectionNode:GS,MeasureLayout:aI}},D2={...r2,...R2,..._2,...N2},pt=JD(D2,ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dE=t=>{const e=M2(t);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},h)=>b.createElement("svg",{ref:h,...O2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lI("lucide",s),...u},[...l.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(t,e)=>{const n=b.forwardRef(({className:r,...s},a)=>b.createElement(L2,{ref:a,iconNode:e,className:lI(`lucide-${V2(dE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=dE(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],F2=Jt("arrow-left",j2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],z2=Jt("arrow-right",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cI=Jt("check",B2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cy=Jt("chevron-down",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uI=Jt("chevron-up",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],H2=Jt("circle-check",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G2=Jt("circle",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Y2=Jt("download",Q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],J2=Jt("eye-off",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eV=Jt("eye",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nV=Jt("funnel",tV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jd=Jt("lock",rV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],sV=Jt("search",iV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aV=Jt("shield",oV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],cV=Jt("sparkles",lV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],hE=Jt("users",uV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hV=Jt("x",dV);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=()=>{};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,m=a>>2,y=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,T=p&63;h||(T=64,l||(_=64)),r.push(n[m],n[y],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||p==null||y==null)throw new mV;const _=a<<2|u>>4;if(r.push(_),p!==64){const T=u<<4&240|p>>2;if(r.push(T),y!==64){const C=p<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gV=function(t){const e=dI(t);return hI.encodeByteArray(e,!0)},wh=function(t){return gV(t).replace(/\./g,"")},fI=function(t){try{return hI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=()=>yV().__FIREBASE_DEFAULTS__,wV=()=>{if(typeof process>"u"||typeof fE>"u")return;const t=fE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fI(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return fV()||vV()||wV()||_V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pI=t=>{var e,n;return(n=(e=Gh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},EV=t=>{const e=pI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mI=()=>{var t;return(t=Gh())==null?void 0:t.config},gI=t=>{var e;return(e=Gh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wh(JSON.stringify(n)),wh(JSON.stringify(l)),""].join(".")}const Sc={};function SV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?t.emulator.push(e):t.prod.push(e);return t}function IV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pE=!1;function vI(t,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||Sc[t]===e||Sc[t]||pE)return;Sc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=SV().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{pE=!0,l()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=IV(r),T=n("text"),C=document.getElementById(T)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),k=n("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;u(F),m(R,S);const W=p();h(M,k),F.append(M,C,R,W),document.body.appendChild(F)}a?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function CV(){var e;const t=(e=Gh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RV(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NV(){return!CV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DV(){try{return typeof indexedDB=="object"}catch{return!1}}function VV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MV,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?OV(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Ri(s,u,r)}}function OV(t,e){return t.replace(LV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LV=/\{\$([^}]+)}/g;function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(mE(a)&&mE(l)){if(!xo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FV(t,e){const n=new UV(t,e);return n.subscribe.bind(n)}class UV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=fm),s.error===void 0&&(s.error=fm),s.complete===void 0&&(s.complete=fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class To{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WV(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $V(t){return t===yo?void 0:t}function WV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const HV={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},KV=qe.INFO,GV={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=GV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=KV,this._logHandler=QV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const YV=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function XV(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wI=new WeakMap,lg=new WeakMap,_I=new WeakMap,pm=new WeakMap,ky=new WeakMap;function ZV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(vs(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&wI.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function eM(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_I.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tM(t){cg=t(cg)}function nM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return _I.set(r,e.sort?e.sort():[e]),vs(r)}:JV().includes(t)?function(...e){return t.apply(mm(this),e),vs(wI.get(this))}:function(...e){return vs(t.apply(mm(this),e))}}function rM(t){return typeof t=="function"?nM(t):(t instanceof IDBTransaction&&eM(t),YV(t,XV())?new Proxy(t,cg):t)}function vs(t){if(t instanceof IDBRequest)return ZV(t);if(pm.has(t))return pm.get(t);const e=rM(t);return e!==t&&(pm.set(t,e),ky.set(e,t)),e}const mm=t=>ky.get(t);function iM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=vs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(vs(l.result),h.oldVersion,h.newVersion,vs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const sM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],gm=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sM.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return gm.set(e,a),a}tM(t=>({...t,get:(e,n,r)=>vE(e,n)||t.get(e,n,r),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",wE="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new by("@firebase/app"),cM="@firebase/app-compat",uM="@firebase/analytics-compat",dM="@firebase/analytics",hM="@firebase/app-check-compat",fM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",yM="@firebase/data-connect",vM="@firebase/database-compat",wM="@firebase/functions",_M="@firebase/functions-compat",EM="@firebase/installations",xM="@firebase/installations-compat",TM="@firebase/messaging",SM="@firebase/messaging-compat",IM="@firebase/performance",AM="@firebase/performance-compat",CM="@firebase/remote-config",bM="@firebase/remote-config-compat",kM="@firebase/storage",PM="@firebase/storage-compat",RM="@firebase/firestore",NM="@firebase/ai",DM="@firebase/firestore-compat",VM="firebase",MM="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",OM={[ug]:"fire-core",[cM]:"fire-core-compat",[dM]:"fire-analytics",[uM]:"fire-analytics-compat",[fM]:"fire-app-check",[hM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[yM]:"fire-data-connect",[vM]:"fire-rtdb-compat",[wM]:"fire-fn",[_M]:"fire-fn-compat",[EM]:"fire-iid",[xM]:"fire-iid-compat",[TM]:"fire-fcm",[SM]:"fire-fcm-compat",[IM]:"fire-perf",[AM]:"fire-perf-compat",[CM]:"fire-rc",[bM]:"fire-rc-compat",[kM]:"fire-gcs",[PM]:"fire-gcs-compat",[RM]:"fire-fst",[DM]:"fire-fst-compat",[NM]:"fire-vertex","fire-js":"fire-js",[VM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,LM=new Map,hg=new Map;function _E(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(hg.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of _h.values())_E(n,t);for(const n of LM.values())_E(n,t);return!0}function Py(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new eu("app","Firebase",jM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new To("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=MM;function EI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ws.create("bad-app-name",{appName:String(s)});if(n||(n=mI()),!n)throw ws.create("no-options");const a=_h.get(s);if(a){if(xo(n,a.options)&&xo(r,a.config))return a;throw ws.create("duplicate-app",{appName:s})}const l=new qV(s);for(const h of hg.values())l.addComponent(h);const u=new FM(n,r,l);return _h.set(s,u),u}function xI(t=dg){const e=_h.get(t);if(!e&&t===dg&&mI())return EI();if(!e)throw ws.create("no-app",{appName:t});return e}function _s(t,e,n){let r=OM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(l.join(" "));return}qa(new To(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="firebase-heartbeat-database",zM=1,Lc="firebase-heartbeat-store";let ym=null;function TI(){return ym||(ym=iM(UM,zM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),ym}async function BM(t){try{const n=(await TI()).transaction(Lc),r=await n.objectStore(Lc).get(SI(t));return await n.done,r}catch(e){if(e instanceof Ri)Ii.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function EE(t,e){try{const r=(await TI()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,SI(t)),await r.done}catch(n){if(n instanceof Ri)Ii.warn(n.message);else{const r=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function SI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=1024,WM=30;class qM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>WM){const l=GM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xE(),{heartbeatsToSend:r,unsentEntries:s}=HM(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ii.warn(n),""}}}function xE(){return new Date().toISOString().substring(0,10)}function HM(t,e=$M){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),TE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DV()?VV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TE(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}function GM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){qa(new To("platform-logger",e=>new aM(e),"PRIVATE")),qa(new To("heartbeat",e=>new qM(e),"PRIVATE")),_s(ug,wE,t),_s(ug,wE,"esm2020"),_s("fire-js","")}QM("");var YM="firebase",XM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(YM,XM,"app");function II(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JM=II,AI=new eu("auth","Firebase",II());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new by("@firebase/auth");function ZM(t,...e){Eh.logLevel<=qe.WARN&&Eh.warn(`Auth (${il}): ${t}`,...e)}function Zd(t,...e){Eh.logLevel<=qe.ERROR&&Eh.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw Ry(t,...e)}function $r(t,...e){return Ry(t,...e)}function CI(t,e,n){const r={...JM(),[e]:n};return new eu("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return CI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AI.create(t,...e)}function Me(t,e,...n){if(!t)throw Ry(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function Ai(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eO(){return SE()==="http:"||SE()==="https:"}function SE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eO()||kV()||"connection"in navigator)?navigator.onLine:!0}function nO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=AV()||PV()}get(){return tO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sO=new nu(3e4,6e4);function Ls(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function js(t,e,n,r,s={}){return kI(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=tu({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:h,...a};return bV()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&rl(t.emulatorConfig.host)&&(p.credentials="include"),bI.fetch()(await PI(t,t.config.apiHost,n,u),p)})}async function kI(t,e,n){t._canInitEmulator=!1;const r={...rO,...e};try{const s=new aO(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Dd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Dd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw CI(t,m,p);gr(t,m)}}catch(s){if(s instanceof Ri)throw s;gr(t,"network-request-failed",{message:String(s)})}}async function ru(t,e,n,r,s={}){const a=await js(t,e,n,r,s);return"mfaPendingCredential"in a&&gr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PI(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Ny(t.config,s):`${t.config.apiScheme}://${s}`;return iO.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function oO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),sO.get())})}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$r(t,e,r);return s.customData._tokenResponse=n,s}function IE(t){return t!==void 0&&t.enterprise!==void 0}class lO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cO(t,e){return js(t,"GET","/v2/recaptchaConfig",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function xh(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dO(t,e=!1){const n=Fn(t),r=await n.getIdToken(e),s=Dy(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ic(vm(s.auth_time)),issuedAtTime:Ic(vm(s.iat)),expirationTime:Ic(vm(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vm(t){return Number(t)*1e3}function Dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const s=fI(n);return s?JSON.parse(s):(Zd("Failed to decode base64 JWT payload"),null)}catch(s){return Zd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AE(t){const e=Dy(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&hO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var y;const e=t.auth,n=await t.getIdToken(),r=await jc(t,xh(e,{idToken:n}));Me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(y=s.providerUserInfo)!=null&&y.length?RI(s.providerUserInfo):[],l=mO(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new pg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function pO(t){const e=Fn(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function RI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e){const n=await kI(t,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await PI(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&rl(t.emulatorConfig.host)&&(h.credentials="include"),bI.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yO(t,e){return js(t,"POST","/v2/accounts:revokeToken",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await gO(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Ma;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new fO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dO(this,e)}reload(){return pO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await jc(this,uO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,p=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:T,providerData:C,stsTokenManager:S}=n;Me(y&&S,e,"internal-error");const R=Ma.fromJSON(this.name,S);Me(typeof y=="string",e,"internal-error"),as(r,e.name),as(s,e.name),Me(typeof _=="boolean",e,"internal-error"),Me(typeof T=="boolean",e,"internal-error"),as(a,e.name),as(l,e.name),as(u,e.name),as(h,e.name),as(p,e.name),as(m,e.name);const k=new fr({uid:y,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:m});return C&&Array.isArray(C)&&(k.providerData=C.map(M=>({...M}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ma;s.updateFromServerResponse(n);const a=new fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?RI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new Ma;u.updateFromIdToken(r);const h=new fr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function _i(t){Ai(t instanceof Function,"Expected a class definition");let e=CE.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NI.type="NONE";const bE=NI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=eh(this.userKey,s.apiKey,a),this.fullPersistenceKey=eh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oa(_i(bE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||_i(bE);const l=eh(r,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const _=await xh(e,{idToken:m}).catch(()=>{});if(!_)break;y=await fr._fromGetAccountInfoResponse(e,_,m)}else y=fr._fromJSON(e,m);p!==a&&(u=y),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Oa(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Oa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jI(e))return"Blackberry";if(FI(e))return"Webos";if(VI(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DI(t=cn()){return/firefox\//i.test(t)}function VI(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(t=cn()){return/crios\//i.test(t)}function OI(t=cn()){return/iemobile/i.test(t)}function LI(t=cn()){return/android/i.test(t)}function jI(t=cn()){return/blackberry/i.test(t)}function FI(t=cn()){return/webos/i.test(t)}function Vy(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vO(t=cn()){var e;return Vy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wO(){return RV()&&document.documentMode===10}function UI(t=cn()){return Vy(t)||LI(t)||FI(t)||jI(t)||/windows phone/i.test(t)||OI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e=[]){let n;switch(t){case"Browser":n=kE(cn());break;case"Worker":n=`${kE(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e={}){return js(t,"GET","/v2/passwordPolicy",Ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=6;class TO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(xi(this));const n=e?Fn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EO(this),n=new TO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&ZM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ko(t){return Fn(t)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=FV(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(t){Qh=t}function BI(t){return Qh.loadJS(t)}function AO(){return Qh.recaptchaEnterpriseScript}function CO(){return Qh.gapiScript}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kO{constructor(){this.enterprise=new PO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RO="recaptcha-enterprise",$I="NO_RECAPTCHA";class NO{constructor(e){this.type=RO,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{cO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new lO(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;IE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l($I)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&IE(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=AO();h.length!==0&&(h+=u),BI(h).then(()=>{s(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function RE(t,e,n,r=!1,s=!1){const a=new NO(t);let l;if(s)l=$I;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function NE(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await RE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await RE(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){const n=Py(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(xo(a,e??{}))return s;gr(s,"already-initialized")}return n.initialize({options:e})}function VO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MO(t,e,n){const r=ko(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=WI(e),{host:l,port:u}=OO(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(xo(p,r.config.emulator)&&xo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,rl(l)?(yI(`${a}//${l}${h}`),vI("Auth",!0)):LO()}function WI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OO(t){const e=WI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:DE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:DE(l)}}}function DE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function jO(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,e))}async function zO(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends My{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NE(e,n,"signInWithPassword",FO);case"emailLink":return UO(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NE(e,r,"signUpPassword",jO);case"emailLink":return zO(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="http://localhost";class So extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new So(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WO(t){const e=pc(mc(t)).link,n=e?pc(mc(e)).deep_link_id:null,r=pc(mc(t)).deep_link_id;return(r?pc(mc(r)).link:null)||r||n||e||t}class Oy{constructor(e){const n=pc(mc(e)),r=n.apiKey??null,s=n.oobCode??null,a=$O(n.mode??null);Me(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=WO(e);try{return new Oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,n){return Fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Oy.parseLink(n);return Me(r,"argument-error"),Fc._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends qI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends iu{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends iu{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends iu{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){return ru(t,"POST","/v1/accounts:signUp",Ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await fr._fromIdTokenResponse(e,r,s),l=VE(r);return new Cs({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VE(r);return new Cs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t){var s;if(Qn(t.app))return Promise.reject(xi(t));const e=ko(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await qO(e,{returnSecureToken:!0}),r=await Cs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Ri{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function HI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,a,e,r):a})}async function KO(t,e,n=!1){const r=await jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(xi(r));const s="reauthenticate";try{const a=await jc(t,HI(r,s,e,t),n);Me(a.idToken,r,"internal-error");const l=Dy(a.idToken);Me(l,r,"internal-error");const{sub:u}=l;return Me(t.uid===u,r,"user-mismatch"),Cs._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t,e,n=!1){if(Qn(t.app))return Promise.reject(xi(t));const r="signIn",s=await HI(t,r,e),a=await Cs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function QO(t,e){return KI(ko(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function XO(t,e,n){return Qn(t.app)?Promise.reject(xi(t)):QO(Fn(t),sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YO(t),r})}function JO(t,e,n,r){return Fn(t).onIdTokenChanged(e,n,r)}function ZO(t,e,n){return Fn(t).beforeAuthStateChanged(e,n)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1e3,tL=10;class QI extends GI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);wO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QI.type="LOCAL";const nL=QI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends GI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YI.type="SESSION";const XI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await rL(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=Ly("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function sL(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function oL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function lL(){return JI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebaseLocalStorageDb",cL=1,Ah="firebaseLocalStorage",eA="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(t,e){return t.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function uL(){const t=indexedDB.deleteDatabase(ZI);return new su(t).toPromise()}function mg(){const t=indexedDB.open(ZI,cL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ah,{keyPath:eA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await uL(),e(await mg()))})})}async function ME(t,e,n){const r=Xh(t,!0).put({[eA]:e,value:n});return new su(r).toPromise()}async function dL(t,e){const n=Xh(t,!1).get(e),r=await new su(n).toPromise();return r===void 0?null:r.value}function OE(t,e){const n=Xh(t,!0).delete(e);return new su(n).toPromise()}const hL=800,fL=3;class tA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(lL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oL(),!this.activeServiceWorker)return;this.sender=new iL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await ME(e,Ih,"1"),await OE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Xh(s,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tA.type="LOCAL";const pL=tA;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){return e?_i(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gL(t){return KI(t.auth,new jy(t),t.bypassAuthState)}function yL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),GO(n,new jy(t),t.bypassAuthState)}async function vL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),KO(n,new jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gL;case"linkViaPopup":case"linkViaRedirect":return vL;case"reauthViaPopup":case"reauthViaRedirect":return yL;default:gr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new nu(2e3,1e4);class Da extends nA{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wL.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="pendingRedirect",th=new Map;class EL extends nA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await xL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xL(t,e){const n=IL(e),r=SL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TL(t,e){th.set(t._key(),e)}function SL(t){return _i(t._redirectPersistence)}function IL(t){return eh(_L,t.config.apiKey,t.name)}async function AL(t,e,n=!1){if(Qn(t.app))return Promise.reject(xi(t));const r=ko(t),s=mL(r,e),l=await new EL(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=600*1e3;class bL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CL&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NL=/^https?/;async function DL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PL(t);for(const n of e)try{if(VL(n))return}catch{}gr(t,"unauthorized-domain")}function VL(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!NL.test(n))return!1;if(RL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new nu(3e4,6e4);function jE(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OL(t){return new Promise((e,n)=>{var s,a,l;function r(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),n($r(t,"network-request-failed"))},timeout:ML.get()})}if((a=(s=Wr().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=Wr().gapi)!=null&&l.load)r();else{const u=bO("iframefcb");return Wr()[u]=()=>{gapi.load?r():n($r(t,"network-request-failed"))},BI(`${CO()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw nh=null,e})}let nh=null;function LL(t){return nh=nh||OL(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new nu(5e3,15e3),FL="__/auth/iframe",UL="emulator/auth/iframe",zL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $L(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,UL):`https://${t.config.authDomain}/${FL}`,r={apiKey:e.apiKey,appName:t.name,v:il},s=BL.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${tu(r).slice(1)}`}async function WL(t){const e=await LL(t),n=Wr().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:$L(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zL,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=$r(t,"network-request-failed"),u=Wr().setTimeout(()=>{a(l)},jL.get());function h(){Wr().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HL=500,KL=600,GL="_blank",QL="http://localhost";class FE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YL(t,e,n,r=HL,s=KL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...qL,width:r.toString(),height:s.toString(),top:a,left:l},p=cn().toLowerCase();n&&(u=MI(p)?GL:n),DI(p)&&(e=e||QL,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[T,C])=>`${_}${T}=${C},`,"");if(vO(p)&&u!=="_self")return XL(e||"",u),new FE(null);const y=window.open(e||"",u,m);Me(y,t,"popup-blocked");try{y.focus()}catch{}return new FE(y)}function XL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="__/auth/handler",ZL="emulator/auth/handler",ej=encodeURIComponent("fac");async function UE(t,e,n,r,s,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:il,eventId:s};if(e instanceof qI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof iu){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),p=h?`#${ej}=${encodeURIComponent(h)}`:"";return`${tj(t)}?${tu(u).slice(1)}${p}`}function tj({config:t}){return t.emulator?Ny(t,ZL):`https://${t.authDomain}/${JL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class nj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XI,this._completeRedirectFn=AL,this._overrideRedirectResult=TL}async _openPopup(e,n,r,s){var l;Ai((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await UE(e,n,r,fg(),s);return YL(e,a,Ly())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await UE(e,n,r,fg(),s);return sL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WL(e),r=new bL(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[wm];a!==void 0&&n(!!a),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UI()||VI()||Vy()}}const rj=nj;var zE="@firebase/auth",BE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oj(t){qa(new To("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zI(t)},p=new SO(r,s,a,h);return VO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qa(new To("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new ij(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(zE,BE,sj(t)),_s(zE,BE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=300,lj=gI("authIdTokenMaxAge")||aj;let $E=null;const cj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lj)return;const s=n==null?void 0:n.token;$E!==s&&($E=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uj(t=xI()){const e=Py(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DO(t,{popupRedirectResolver:rj,persistence:[pL,nL,XI]}),r=gI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=cj(a.toString());ZO(n,l,()=>l(n.currentUser)),JO(n,u=>l(u))}}const s=pI("auth");return s&&MO(n,`http://${s}`),n}function dj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=$r("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",dj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oj("Browser");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,iA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function V(){}V.prototype=I.prototype,P.F=I.prototype,P.prototype=new V,P.prototype.constructor=P,P.D=function(j,D,U){for(var O=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)O[ge-2]=arguments[ge];return I.prototype[D].apply(j,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,I,V){V||(V=0);const j=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)j[D]=I.charCodeAt(V++)|I.charCodeAt(V++)<<8|I.charCodeAt(V++)<<16|I.charCodeAt(V++)<<24;else for(D=0;D<16;++D)j[D]=I[V++]|I[V++]<<8|I[V++]<<16|I[V++]<<24;I=P.g[0],V=P.g[1],D=P.g[2];let U=P.g[3],O;O=I+(U^V&(D^U))+j[0]+3614090360&4294967295,I=V+(O<<7&4294967295|O>>>25),O=U+(D^I&(V^D))+j[1]+3905402710&4294967295,U=I+(O<<12&4294967295|O>>>20),O=D+(V^U&(I^V))+j[2]+606105819&4294967295,D=U+(O<<17&4294967295|O>>>15),O=V+(I^D&(U^I))+j[3]+3250441966&4294967295,V=D+(O<<22&4294967295|O>>>10),O=I+(U^V&(D^U))+j[4]+4118548399&4294967295,I=V+(O<<7&4294967295|O>>>25),O=U+(D^I&(V^D))+j[5]+1200080426&4294967295,U=I+(O<<12&4294967295|O>>>20),O=D+(V^U&(I^V))+j[6]+2821735955&4294967295,D=U+(O<<17&4294967295|O>>>15),O=V+(I^D&(U^I))+j[7]+4249261313&4294967295,V=D+(O<<22&4294967295|O>>>10),O=I+(U^V&(D^U))+j[8]+1770035416&4294967295,I=V+(O<<7&4294967295|O>>>25),O=U+(D^I&(V^D))+j[9]+2336552879&4294967295,U=I+(O<<12&4294967295|O>>>20),O=D+(V^U&(I^V))+j[10]+4294925233&4294967295,D=U+(O<<17&4294967295|O>>>15),O=V+(I^D&(U^I))+j[11]+2304563134&4294967295,V=D+(O<<22&4294967295|O>>>10),O=I+(U^V&(D^U))+j[12]+1804603682&4294967295,I=V+(O<<7&4294967295|O>>>25),O=U+(D^I&(V^D))+j[13]+4254626195&4294967295,U=I+(O<<12&4294967295|O>>>20),O=D+(V^U&(I^V))+j[14]+2792965006&4294967295,D=U+(O<<17&4294967295|O>>>15),O=V+(I^D&(U^I))+j[15]+1236535329&4294967295,V=D+(O<<22&4294967295|O>>>10),O=I+(D^U&(V^D))+j[1]+4129170786&4294967295,I=V+(O<<5&4294967295|O>>>27),O=U+(V^D&(I^V))+j[6]+3225465664&4294967295,U=I+(O<<9&4294967295|O>>>23),O=D+(I^V&(U^I))+j[11]+643717713&4294967295,D=U+(O<<14&4294967295|O>>>18),O=V+(U^I&(D^U))+j[0]+3921069994&4294967295,V=D+(O<<20&4294967295|O>>>12),O=I+(D^U&(V^D))+j[5]+3593408605&4294967295,I=V+(O<<5&4294967295|O>>>27),O=U+(V^D&(I^V))+j[10]+38016083&4294967295,U=I+(O<<9&4294967295|O>>>23),O=D+(I^V&(U^I))+j[15]+3634488961&4294967295,D=U+(O<<14&4294967295|O>>>18),O=V+(U^I&(D^U))+j[4]+3889429448&4294967295,V=D+(O<<20&4294967295|O>>>12),O=I+(D^U&(V^D))+j[9]+568446438&4294967295,I=V+(O<<5&4294967295|O>>>27),O=U+(V^D&(I^V))+j[14]+3275163606&4294967295,U=I+(O<<9&4294967295|O>>>23),O=D+(I^V&(U^I))+j[3]+4107603335&4294967295,D=U+(O<<14&4294967295|O>>>18),O=V+(U^I&(D^U))+j[8]+1163531501&4294967295,V=D+(O<<20&4294967295|O>>>12),O=I+(D^U&(V^D))+j[13]+2850285829&4294967295,I=V+(O<<5&4294967295|O>>>27),O=U+(V^D&(I^V))+j[2]+4243563512&4294967295,U=I+(O<<9&4294967295|O>>>23),O=D+(I^V&(U^I))+j[7]+1735328473&4294967295,D=U+(O<<14&4294967295|O>>>18),O=V+(U^I&(D^U))+j[12]+2368359562&4294967295,V=D+(O<<20&4294967295|O>>>12),O=I+(V^D^U)+j[5]+4294588738&4294967295,I=V+(O<<4&4294967295|O>>>28),O=U+(I^V^D)+j[8]+2272392833&4294967295,U=I+(O<<11&4294967295|O>>>21),O=D+(U^I^V)+j[11]+1839030562&4294967295,D=U+(O<<16&4294967295|O>>>16),O=V+(D^U^I)+j[14]+4259657740&4294967295,V=D+(O<<23&4294967295|O>>>9),O=I+(V^D^U)+j[1]+2763975236&4294967295,I=V+(O<<4&4294967295|O>>>28),O=U+(I^V^D)+j[4]+1272893353&4294967295,U=I+(O<<11&4294967295|O>>>21),O=D+(U^I^V)+j[7]+4139469664&4294967295,D=U+(O<<16&4294967295|O>>>16),O=V+(D^U^I)+j[10]+3200236656&4294967295,V=D+(O<<23&4294967295|O>>>9),O=I+(V^D^U)+j[13]+681279174&4294967295,I=V+(O<<4&4294967295|O>>>28),O=U+(I^V^D)+j[0]+3936430074&4294967295,U=I+(O<<11&4294967295|O>>>21),O=D+(U^I^V)+j[3]+3572445317&4294967295,D=U+(O<<16&4294967295|O>>>16),O=V+(D^U^I)+j[6]+76029189&4294967295,V=D+(O<<23&4294967295|O>>>9),O=I+(V^D^U)+j[9]+3654602809&4294967295,I=V+(O<<4&4294967295|O>>>28),O=U+(I^V^D)+j[12]+3873151461&4294967295,U=I+(O<<11&4294967295|O>>>21),O=D+(U^I^V)+j[15]+530742520&4294967295,D=U+(O<<16&4294967295|O>>>16),O=V+(D^U^I)+j[2]+3299628645&4294967295,V=D+(O<<23&4294967295|O>>>9),O=I+(D^(V|~U))+j[0]+4096336452&4294967295,I=V+(O<<6&4294967295|O>>>26),O=U+(V^(I|~D))+j[7]+1126891415&4294967295,U=I+(O<<10&4294967295|O>>>22),O=D+(I^(U|~V))+j[14]+2878612391&4294967295,D=U+(O<<15&4294967295|O>>>17),O=V+(U^(D|~I))+j[5]+4237533241&4294967295,V=D+(O<<21&4294967295|O>>>11),O=I+(D^(V|~U))+j[12]+1700485571&4294967295,I=V+(O<<6&4294967295|O>>>26),O=U+(V^(I|~D))+j[3]+2399980690&4294967295,U=I+(O<<10&4294967295|O>>>22),O=D+(I^(U|~V))+j[10]+4293915773&4294967295,D=U+(O<<15&4294967295|O>>>17),O=V+(U^(D|~I))+j[1]+2240044497&4294967295,V=D+(O<<21&4294967295|O>>>11),O=I+(D^(V|~U))+j[8]+1873313359&4294967295,I=V+(O<<6&4294967295|O>>>26),O=U+(V^(I|~D))+j[15]+4264355552&4294967295,U=I+(O<<10&4294967295|O>>>22),O=D+(I^(U|~V))+j[6]+2734768916&4294967295,D=U+(O<<15&4294967295|O>>>17),O=V+(U^(D|~I))+j[13]+1309151649&4294967295,V=D+(O<<21&4294967295|O>>>11),O=I+(D^(V|~U))+j[4]+4149444226&4294967295,I=V+(O<<6&4294967295|O>>>26),O=U+(V^(I|~D))+j[11]+3174756917&4294967295,U=I+(O<<10&4294967295|O>>>22),O=D+(I^(U|~V))+j[2]+718787259&4294967295,D=U+(O<<15&4294967295|O>>>17),O=V+(U^(D|~I))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(D+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.v=function(P,I){I===void 0&&(I=P.length);const V=I-this.blockSize,j=this.C;let D=this.h,U=0;for(;U<I;){if(D==0)for(;U<=V;)s(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<I;)if(j[D++]=P.charCodeAt(U++),D==this.blockSize){s(this,j),D=0;break}}else for(;U<I;)if(j[D++]=P[U++],D==this.blockSize){s(this,j),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;I=this.o*8;for(var V=P.length-8;V<P.length;++V)P[V]=I&255,I/=256;for(this.v(P),P=Array(16),I=0,V=0;V<4;++V)for(let j=0;j<32;j+=8)P[I++]=this.g[V]>>>j&255;return P};function a(P,I){var V=u;return Object.prototype.hasOwnProperty.call(V,P)?V[P]:V[P]=I(P)}function l(P,I){this.h=I;const V=[];let j=!0;for(let D=P.length-1;D>=0;D--){const U=P[D]|0;j&&U==I||(V[D]=U,j=!1)}this.g=V}var u={};function h(P){return-128<=P&&P<128?a(P,function(I){return new l([I|0],I<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return y;if(P<0)return R(p(-P));const I=[];let V=1;for(let j=0;P>=V;j++)I[j]=P/V|0,V*=4294967296;return new l(I,0)}function m(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return R(m(P.substring(1),I));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=p(Math.pow(I,8));let j=y;for(let U=0;U<P.length;U+=8){var D=Math.min(8,P.length-U);const O=parseInt(P.substring(U,U+D),I);D<8?(D=p(Math.pow(I,D)),j=j.j(D).add(p(O))):(j=j.j(V),j=j.add(p(O)))}return j}var y=h(0),_=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-R(this).m();let P=0,I=1;for(let V=0;V<this.g.length;V++){const j=this.i(V);P+=(j>=0?j:4294967296+j)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(S(this))return"-"+R(this).toString(P);const I=p(Math.pow(P,6));var V=this;let j="";for(;;){const D=W(V,I).g;V=k(V,D.j(I));let U=((V.g.length>0?V.g[0]:V.h)>>>0).toString(P);if(V=D,C(V))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(let I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=k(this,P),S(P)?-1:C(P)?0:1};function R(P){const I=P.g.length,V=[];for(let j=0;j<I;j++)V[j]=~P.g[j];return new l(V,~P.h).add(_)}t.abs=function(){return S(this)?R(this):this},t.add=function(P){const I=Math.max(this.g.length,P.g.length),V=[];let j=0;for(let D=0;D<=I;D++){let U=j+(this.i(D)&65535)+(P.i(D)&65535),O=(U>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);j=O>>>16,U&=65535,O&=65535,V[D]=O<<16|U}return new l(V,V[V.length-1]&-2147483648?-1:0)};function k(P,I){return P.add(R(I))}t.j=function(P){if(C(this)||C(P))return y;if(S(this))return S(P)?R(this).j(R(P)):R(R(this).j(P));if(S(P))return R(this.j(R(P)));if(this.l(T)<0&&P.l(T)<0)return p(this.m()*P.m());const I=this.g.length+P.g.length,V=[];for(var j=0;j<2*I;j++)V[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<P.g.length;D++){const U=this.i(j)>>>16,O=this.i(j)&65535,ge=P.i(D)>>>16,be=P.i(D)&65535;V[2*j+2*D]+=O*be,M(V,2*j+2*D),V[2*j+2*D+1]+=U*be,M(V,2*j+2*D+1),V[2*j+2*D+1]+=O*ge,M(V,2*j+2*D+1),V[2*j+2*D+2]+=U*ge,M(V,2*j+2*D+2)}for(P=0;P<I;P++)V[P]=V[2*P+1]<<16|V[2*P];for(P=I;P<2*I;P++)V[P]=0;return new l(V,0)};function M(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function F(P,I){this.g=P,this.h=I}function W(P,I){if(C(I))throw Error("division by zero");if(C(P))return new F(y,y);if(S(P))return I=W(R(P),I),new F(R(I.g),R(I.h));if(S(I))return I=W(P,R(I)),new F(R(I.g),I.h);if(P.g.length>30){if(S(P)||S(I))throw Error("slowDivide_ only works with positive integers.");for(var V=_,j=I;j.l(P)<=0;)V=H(V),j=H(j);var D=Z(V,1),U=Z(j,1);for(j=Z(j,2),V=Z(V,2);!C(j);){var O=U.add(j);O.l(P)<=0&&(D=D.add(V),U=O),j=Z(j,1),V=Z(V,1)}return I=k(P,D.j(I)),new F(D,I)}for(D=y;P.l(I)>=0;){for(V=Math.max(1,Math.floor(P.m()/I.m())),j=Math.ceil(Math.log(V)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=p(V),O=U.j(I);S(O)||O.l(P)>0;)V-=j,U=p(V),O=U.j(I);C(U)&&(U=_),D=D.add(U),P=k(P,O)}return new F(D,P)}t.B=function(P){return W(this,P).h},t.and=function(P){const I=Math.max(this.g.length,P.g.length),V=[];for(let j=0;j<I;j++)V[j]=this.i(j)&P.i(j);return new l(V,this.h&P.h)},t.or=function(P){const I=Math.max(this.g.length,P.g.length),V=[];for(let j=0;j<I;j++)V[j]=this.i(j)|P.i(j);return new l(V,this.h|P.h)},t.xor=function(P){const I=Math.max(this.g.length,P.g.length),V=[];for(let j=0;j<I;j++)V[j]=this.i(j)^P.i(j);return new l(V,this.h^P.h)};function H(P){const I=P.g.length+1,V=[];for(let j=0;j<I;j++)V[j]=P.i(j)<<1|P.i(j-1)>>>31;return new l(V,P.h)}function Z(P,I){const V=I>>5;I%=32;const j=P.g.length-V,D=[];for(let U=0;U<j;U++)D[U]=I>0?P.i(U+V)>>>I|P.i(U+V+1)<<32-I:P.i(U+V);return new l(D,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Es=l}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sA,gc,oA,rh,gg,aA,lA,cA;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var w=0;w<d.length;++w){var x=d[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(d,w){if(w)e:{var x=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var G=d[N];if(!(G in x))break e;x=x[G]}d=d[d.length-1],N=x[d],w=w(N),w!=N&&w!=null&&e(x,d,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(w){var x=[],N;for(N in w)Object.prototype.hasOwnProperty.call(w,N)&&x.push([N,w[N]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,x){return d.call.apply(d.bind,arguments)}function p(d,w,x){return p=h,p.apply(null,arguments)}function m(d,w){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function y(d,w){function x(){}x.prototype=w.prototype,d.Z=w.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(N,G,J){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return w.prototype[G].apply(N,he)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const w=d.length;if(w>0){const x=Array(w);for(let N=0;N<w;N++)x[N]=d[N];return x}return[]}function C(d,w){for(let N=1;N<arguments.length;N++){const G=arguments[N];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=d.length||0;const J=G.length||0;d.length=x+J;for(let he=0;he<J;he++)d[x+he]=G[he]}else d.push(G)}}class S{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(d){l.setTimeout(()=>{throw d},0)}function k(){var d=P;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,x){const N=F.get();N.set(w,x),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new S(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Z=!1,P=new M,I=()=>{const d=Promise.resolve(void 0);H=()=>{d.then(V)}};function V(){for(var d;d=k();){try{d.h.call(d.g)}catch(x){R(x)}var w=F;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Z=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};l.addEventListener("test",x,w),l.removeEventListener("test",x,w)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function ge(d,w){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}y(ge,D),ge.prototype.init=function(d,w){const x=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(x=="mouseover"?w=d.fromElement:x=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),fe=0;function de(d,w,x,N,G){this.listener=d,this.proxy=null,this.src=w,this.type=x,this.capture=!!N,this.ha=G,this.key=++fe,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function le(d,w,x){for(const N in d)w.call(x,d[N],N,d)}function ae(d,w){for(const x in d)w.call(void 0,d[x],x,d)}function q(d){const w={};for(const x in d)w[x]=d[x];return w}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(d,w){let x,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(x in N)d[x]=N[x];for(let J=0;J<ee.length;J++)x=ee[J],Object.prototype.hasOwnProperty.call(N,x)&&(d[x]=N[x])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,w,x,N,G){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const he=De(d,w,N,G);return he>-1?(w=d[he],x||(w.fa=!1)):(w=new de(w,this.src,J,!!N,G),w.fa=x,d.push(w)),w};function Pe(d,w){const x=w.type;if(x in d.g){var N=d.g[x],G=Array.prototype.indexOf.call(N,w,void 0),J;(J=G>=0)&&Array.prototype.splice.call(N,G,1),J&&($(w),d.g[x].length==0&&(delete d.g[x],d.h--))}}function De(d,w,x,N){for(let G=0;G<d.length;++G){const J=d[G];if(!J.da&&J.listener==w&&J.capture==!!x&&J.ha==N)return G}return-1}var se="closure_lm_"+(Math.random()*1e6|0),Ee={};function Y(d,w,x,N,G){if(Array.isArray(w)){for(let J=0;J<w.length;J++)Y(d,w[J],x,N,G);return null}return x=er(x),d&&d[be]?d.J(w,x,u(N)?!!N.capture:!1,G):ce(d,w,x,!1,N,G)}function ce(d,w,x,N,G,J){if(!w)throw Error("Invalid event type");const he=u(G)?!!G.capture:!!G;let ze=yn(d);if(ze||(d[se]=ze=new ye(d)),x=ze.add(w,x,N,he,J),x.proxy)return x;if(N=Ve(),x.proxy=N,N.src=d,N.listener=x,d.addEventListener)U||(G=he),G===void 0&&(G=!1),d.addEventListener(w.toString(),N,G);else if(d.attachEvent)d.attachEvent(Nt(w.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ve(){function d(x){return w.call(d.src,d.listener,x)}const w=gn;return d}function Fe(d,w,x,N,G){if(Array.isArray(w))for(var J=0;J<w.length;J++)Fe(d,w[J],x,N,G);else N=u(N)?!!N.capture:!!N,x=er(x),d&&d[be]?(d=d.i,J=String(w).toString(),J in d.g&&(w=d.g[J],x=De(w,x,N,G),x>-1&&($(w[x]),Array.prototype.splice.call(w,x,1),w.length==0&&(delete d.g[J],d.h--)))):d&&(d=yn(d))&&(w=d.g[w.toString()],d=-1,w&&(d=De(w,x,N,G)),(x=d>-1?w[d]:null)&&ht(x))}function ht(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[be])Pe(w.i,d);else{var x=d.type,N=d.proxy;w.removeEventListener?w.removeEventListener(x,N,d.capture):w.detachEvent?w.detachEvent(Nt(x),N):w.addListener&&w.removeListener&&w.removeListener(N),(x=yn(w))?(Pe(x,d),x.h==0&&(x.src=null,w[se]=null)):$(d)}}}function Nt(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function gn(d,w){if(d.da)d=!0;else{w=new ge(w,this);const x=d.listener,N=d.ha||d.src;d.fa&&ht(d),d=x.call(N,w)}return d}function yn(d){return d=d[se],d instanceof ye?d:null}var un="__closure_events_fn_"+(Math.random()*1e9>>>0);function er(d){return typeof d=="function"?d:(d[un]||(d[un]=function(w){return d.handleEvent(w)}),d[un])}function je(){j.call(this),this.i=new ye(this),this.M=this,this.G=null}y(je,j),je.prototype[be]=!0,je.prototype.removeEventListener=function(d,w,x,N){Fe(this,d,w,x,N)};function rt(d,w){var x,N=d.G;if(N)for(x=[];N;N=N.G)x.push(N);if(d=d.M,N=w.type||w,typeof w=="string")w=new D(w,d);else if(w instanceof D)w.target=w.target||d;else{var G=w;w=new D(N,d),we(w,G)}G=!0;let J,he;if(x)for(he=x.length-1;he>=0;he--)J=w.g=x[he],G=$t(J,N,!0,w)&&G;if(J=w.g=d,G=$t(J,N,!0,w)&&G,G=$t(J,N,!1,w)&&G,x)for(he=0;he<x.length;he++)J=w.g=x[he],G=$t(J,N,!1,w)&&G}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const x=d.g[w];for(let N=0;N<x.length;N++)$(x[N]);delete d.g[w],d.h--}}this.G=null},je.prototype.J=function(d,w,x,N){return this.i.add(String(d),w,!1,x,N)},je.prototype.K=function(d,w,x,N){return this.i.add(String(d),w,!0,x,N)};function $t(d,w,x,N){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let J=0;J<w.length;++J){const he=w[J];if(he&&!he.da&&he.capture==x){const ze=he.listener,Tt=he.ha||he.src;he.fa&&Pe(d.i,he),G=ze.call(Tt,N)!==!1&&G}}return G&&!N.defaultPrevented}function gl(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function yl(d){d.g=gl(()=>{d.g=null,d.i&&(d.i=!1,yl(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class pu extends j{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(d){j.call(this),this.h=d,this.g={}}y(Ni,j);var vl=[];function Oo(d){le(d.g,function(w,x){this.g.hasOwnProperty(x)&&ht(w)},d),d.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),Oo(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=l.JSON.stringify,mu=l.JSON.parse,zs=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Vi(){}function gu(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lo(){D.call(this,"d")}y(Lo,D);function wl(){D.call(this,"c")}y(wl,D);var tr={},jo=null;function Oi(){return jo=jo||new je}tr.Ia="serverreachability";function Fo(d){D.call(this,tr.Ia,d)}y(Fo,D);function ei(d){const w=Oi();rt(w,new Fo(w))}tr.STAT_EVENT="statevent";function ti(d,w){D.call(this,tr.STAT_EVENT,d),this.stat=w}y(ti,D);function wt(d){const w=Oi();rt(w,new ti(w,d))}tr.Ja="timingevent";function _l(d,w){D.call(this,tr.Ja,d),this.size=w}y(_l,D);function Li(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function yu(d,w,x,N,G,J){d.info(function(){if(d.g)if(J){var he="",ze=J.split("&");for(let tt=0;tt<ze.length;tt++){var Tt=ze[tt].split("=");if(Tt.length>1){const At=Tt[0];Tt=Tt[1];const Dn=At.split("_");he=Dn.length>=2&&Dn[1]=="type"?he+(At+"="+Tt+"&"):he+(At+"=redacted&")}}}else he=null;else he=J;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+w+`
`+x+`
`+he})}function vu(d,w,x,N,G,J,he){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+w+`
`+x+`
`+J+" "+he})}function _r(d,w,x,N){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Bs(d,x)+(N?" "+N:"")})}function wu(d,w){d.info(function(){return"TIMEOUT: "+w})}ji.prototype.info=function(){};function Bs(d,w){if(!d.g)return w;if(!w)return null;try{const J=JSON.parse(w);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var x=J[d];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var G=N[0];if(G!="noop"&&G!="stop"&&G!="close")for(let he=1;he<N.length;he++)N[he]=""}}}}return Di(J)}catch{return w}}var Fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ui={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_u;function ni(){}y(ni,Vi),ni.prototype.g=function(){return new XMLHttpRequest},_u=new ni;function Er(d){return encodeURIComponent(String(d))}function Uo(d){var w=1;d=d.split(":");const x=[];for(;w>0&&d.length;)x.push(d.shift()),w--;return d.length&&x.push(d.join(":")),x}function Un(d,w,x,N){this.j=d,this.i=w,this.l=x,this.S=N||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Eu}function Eu(){this.i=null,this.g="",this.h=!1}var xu={},El={};function nr(d,w,x){d.M=1,d.A=ii(zn(w)),d.u=x,d.R=!0,xl(d,null)}function xl(d,w){d.F=Date.now(),$s(d),d.B=zn(d.A);var x=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Nl(x.i,"t",N),d.C=0,x=d.j.L,d.h=new Eu,d.g=Nu(d.j,x?w:null,!d.u),d.P>0&&(d.O=new pu(p(d.Y,d,d.g),d.P)),w=d.V,x=d.g,N=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(vl[0]=G.toString()),G=vl);for(let J=0;J<G.length;J++){const he=Y(x,G[J],N||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),ei(),yu(d.i,d.v,d.B,d.l,d.S,d.u)}Un.prototype.ba=function(d){d=d.target;const w=this.O;w&&br(d)==3?w.j():this.Y(d)},Un.prototype.Y=function(d){try{if(d==this.g)e:{const ze=br(this.g),Tt=this.g.ya(),tt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Pu(this.g)))){this.K||ze!=4||Tt==7||(Tt==8||tt<=0?ei(3):ei(2)),zo(this);var w=this.g.ca();this.X=w;var x=Tu(this);if(this.o=w==200,vu(this.i,this.v,this.B,this.l,this.S,ze,w),this.o){if(this.U&&!this.L){t:{if(this.g){var N,G=this.g;if((N=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var J=N;break t}}J=null}if(d=J)_r(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,d);else{this.o=!1,this.m=3,wt(12),ri(this),Ws(this);break e}}if(this.R){d=!0;let At;for(;!this.K&&this.C<x.length;)if(At=Iu(this,x),At==El){ze==4&&(this.m=4,wt(14),d=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(At==xu){this.m=4,wt(15),_r(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else _r(this.i,this.l,At,null),lt(this,At);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||x.length!=0||this.h.h||(this.m=1,wt(16),d=!1),this.o=this.o&&d,!d)_r(this.i,this.l,x,"[Invalid Chunked Response]"),ri(this),Ws(this);else if(x.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Zs(he),he.P=!0,wt(11))}}else _r(this.i,this.l,x,null),lt(this,x);ze==4&&ri(this),this.o&&!this.K&&(ze==4?Xo(this.j,this):(this.o=!1,$s(this)))}else Vl(this.g),w==400&&x.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),ri(this),Ws(this)}}}catch{}finally{}};function Tu(d){if(!Su(d))return d.g.la();const w=Pu(d.g);if(w==="")return"";let x="";const N=w.length,G=br(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ri(d),Ws(d),"";d.h.i=new l.TextDecoder}for(let J=0;J<N;J++)d.h.h=!0,x+=d.h.i.decode(w[J],{stream:!(G&&J==N-1)});return w.length=0,d.h.g+=x,d.C=0,d.h.g}function Su(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Iu(d,w){var x=d.C,N=w.indexOf(`
`,x);return N==-1?El:(x=Number(w.substring(x,N)),isNaN(x)?xu:(N+=1,N+x>w.length?El:(w=w.slice(N,N+x),d.C=N+x,w)))}Un.prototype.cancel=function(){this.K=!0,ri(this)};function $s(d){d.T=Date.now()+d.H,Tl(d,d.H)}function Tl(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Li(p(d.aa,d),w)}function zo(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Un.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(wu(this.i,this.B),this.M!=2&&(ei(),wt(17)),ri(this),this.m=2,Ws(this)):Tl(this,this.T-d)};function Ws(d){d.j.I==0||d.K||Xo(d.j,d)}function ri(d){zo(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,Oo(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function lt(d,w){try{var x=d.j;if(x.I!=0&&(x.g==d||Il(x.h,d))){if(!d.L&&Il(x.h,d)&&x.I==3){try{var N=x.Ba.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)Yo(x),Rn(x);else break e;Rr(x),wt(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Li(p(x.Va,x),6e3));qs(x.h)<=1&&x.ta&&(x.ta=void 0)}else Nn(x,11)}else if((d.L||x.g==d)&&Yo(x),!O(w))for(G=x.Ba.g.parse(w),w=0;w<G.length;w++){let tt=G[w];const At=tt[0];if(!(At<=x.K))if(x.K=At,tt=tt[1],x.I==2)if(tt[0]=="c"){x.M=tt[1],x.ba=tt[2];const Dn=tt[3];Dn!=null&&(x.ka=Dn,x.j.info("VER="+x.ka));const ci=tt[4];ci!=null&&(x.za=ci,x.j.info("SVER="+x.za));const Nr=tt[5];Nr!=null&&typeof Nr=="number"&&Nr>0&&(N=1.5*Nr,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Dr=d.g;if(Dr){const ea=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var J=N.h;J.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&($o(J,J.h),J.h=null))}if(N.G){const Ll=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(N.wa=Ll,Je(N.J,N.G,Ll))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var he=d;if(N.na=Ol(N,N.L?N.ba:null,N.W),he.L){Hs(N.h,he);var ze=he,Tt=N.O;Tt&&(ze.H=Tt),ze.D&&(zo(ze),$s(ze)),N.g=he}else Zt(N);x.i.length>0&&li(x)}else tt[0]!="stop"&&tt[0]!="close"||Nn(x,7);else x.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Nn(x,7):Go(x):tt[0]!="noop"&&x.l&&x.l.qa(tt),x.A=0)}}ei(4)}catch{}}var Tf=class{constructor(d,w){this.g=d,this.map=w}};function Bo(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qs(d){return d.h?1:d.g?d.g.size:0}function Il(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function $o(d,w){d.g?d.g.add(w):d.h=w}function Hs(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Bo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const x of d.g.values())w=w.concat(x.G);return w}return T(d.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kn(d,w){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const N=d[x].indexOf("=");let G,J=null;N>=0?(G=d[x].substring(0,N),J=d[x].substring(N+1)):G=d[x],w(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function xr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof xr?(this.l=d.l,Ks(this,d.j),this.o=d.o,this.g=d.g,Tr(this,d.u),this.h=d.h,zi(this,Dl(d.i)),this.m=d.m):d&&(w=String(d).match(Au))?(this.l=!1,Ks(this,w[1]||"",!0),this.o=Gs(w[2]||""),this.g=Gs(w[3]||"",!0),Tr(this,w[4]),this.h=Gs(w[5]||"",!0),zi(this,w[6]||"",!0),this.m=Gs(w[7]||"")):(this.l=!1,this.i=new Ge(null,this.l))}xr.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(Qs(w,Cl,!0),":");var x=this.g;return(x||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Qs(w,Cl,!0),"@"),d.push(Er(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Qs(x,x.charAt(0)=="/"?Ys:bl,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Qs(x,kl)),d.join("")},xr.prototype.resolve=function(d){const w=zn(this);let x=!!d.j;x?Ks(w,d.j):x=!!d.o,x?w.o=d.o:x=!!d.g,x?w.g=d.g:x=d.u!=null;var N=d.h;if(x)Tr(w,d.u);else if(x=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var G=w.h.lastIndexOf("/");G!=-1&&(N=w.h.slice(0,G+1)+N)}if(G=N,G==".."||G==".")N="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){N=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let he=0;he<G.length;){const ze=G[he++];ze=="."?N&&he==G.length&&J.push(""):ze==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),N&&he==G.length&&J.push("")):(J.push(ze),N=!0)}N=J.join("/")}else N=G}return x?w.h=N:x=d.i.toString()!=="",x?zi(w,Dl(d.i)):x=!!d.m,x&&(w.m=d.m),w};function zn(d){return new xr(d)}function Ks(d,w,x){d.j=x?Gs(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Tr(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function zi(d,w,x){w instanceof Ge?(d.i=w,qo(d.i,d.l)):(x||(w=Qs(w,Sf)),d.i=new Ge(w,d.l))}function Je(d,w,x){d.i.set(w,x)}function ii(d){return Je(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Gs(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qs(d,w,x){return typeof d=="string"?(d=encodeURI(d).replace(w,Al),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Al(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cl=/[#\/\?@]/g,bl=/[#\?:]/g,Ys=/[#\?]/g,Sf=/[#\?@]/g,kl=/#/g;function Ge(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Sr(d){d.g||(d.g=new Map,d.h=0,d.i&&kn(d.i,function(w,x){d.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}t=Ge.prototype,t.add=function(d,w){Sr(this),this.i=null,d=Ir(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(w),this.h+=1,this};function Pl(d,w){Sr(d),w=Ir(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Wo(d,w){return Sr(d),w=Ir(d,w),d.g.has(w)}t.forEach=function(d,w){Sr(this),this.g.forEach(function(x,N){x.forEach(function(G){d.call(w,G,N,this)},this)},this)};function Rl(d,w){Sr(d);let x=[];if(typeof w=="string")Wo(d,w)&&(x=x.concat(d.g.get(Ir(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)x=x.concat(d[w]);return x}t.set=function(d,w){return Sr(this),this.i=null,d=Ir(this,d),Wo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=Rl(this,d),d.length>0?String(d[0]):w):w};function Nl(d,w,x){Pl(d,w),x.length>0&&(d.i=null,d.g.set(Ir(d,w),T(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let N=0;N<w.length;N++){var x=w[N];const G=Er(x);x=Rl(this,x);for(let J=0;J<x.length;J++){let he=G;x[J]!==""&&(he+="="+Er(x[J])),d.push(he)}}return this.i=d.join("&")};function Dl(d){const w=new Ge;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function Ir(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function qo(d,w){w&&!d.j&&(Sr(d),d.i=null,d.g.forEach(function(x,N){const G=N.toLowerCase();N!=G&&(Pl(this,N),Nl(this,G,x))},d)),d.j=w}function Ar(d,w){const x=new ji;if(l.Image){const N=new Image;N.onload=m(Wt,x,"TestLoadImage: loaded",!0,w,N),N.onerror=m(Wt,x,"TestLoadImage: error",!1,w,N),N.onabort=m(Wt,x,"TestLoadImage: abort",!1,w,N),N.ontimeout=m(Wt,x,"TestLoadImage: timeout",!1,w,N),l.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else w(!1)}function Cr(d,w){const x=new ji,N=new AbortController,G=setTimeout(()=>{N.abort(),Wt(x,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:N.signal}).then(J=>{clearTimeout(G),J.ok?Wt(x,"TestPingServer: ok",!0,w):Wt(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Wt(x,"TestPingServer: error",!1,w)})}function Wt(d,w,x,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(x)}catch{}}function Xs(){this.g=new zs}function si(d){this.i=d.Sb||null,this.h=d.ab||!1}y(si,Vi),si.prototype.g=function(){return new Pn(this.i,this.h)};function Pn(d,w){je.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Pn,je),t=Pn.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,rr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Bi(this):rr(this),this.readyState==3&&Cu(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Bi(this))},t.Na=function(d){this.g&&(this.response=d,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,rr(d)}t.setRequestHeader=function(d,w){this.A.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=w.next();return d.join(`\r
`)};function rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function bu(d){let w="";return le(d,function(x,N){w+=N,w+=":",w+=x,w+=`\r
`}),w}function Ho(d,w,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=bu(x),typeof d=="string"?x!=null&&Er(x):Je(d,w,x))}function it(d){je.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(it,je);var ku=/^https?$/i,If=["POST","PUT"];t=it.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,w,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_u.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(J){$i(this,J);return}if(d=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)x.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())x.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(If,w,void 0)>=0)||N||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of x)this.g.setRequestHeader(J,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){$i(this,J)}};function $i(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Wi(d),ai(d)}function Wi(d){d.A||(d.A=!0,rt(d,"complete"),rt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,rt(this,"complete"),rt(this,"abort"),ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oi(this):this.Xa())},t.Xa=function(){oi(this)};function oi(d){if(d.h&&typeof a<"u"){if(d.v&&br(d)==4)setTimeout(d.Ca.bind(d),0);else if(rt(d,"readystatechange"),br(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var N;if(N=J===0){let he=String(d.D).match(Au)[1]||null;!he&&l.self&&l.self.location&&(he=l.self.location.protocol.slice(0,-1)),N=!ku.test(he?he.toLowerCase():"")}x=N}if(x)rt(d,"complete"),rt(d,"success");else{d.o=6;try{var G=br(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Wi(d)}}finally{ai(d)}}}}function ai(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,w||rt(d,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function br(d){return d.g?d.g.readyState:0}t.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),mu(w)}};function Pu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Vl(d){const w={};d=(d.g&&br(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(O(d[N]))continue;var x=Uo(d[N]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=w[G]||[];w[G]=J,J.push(x)}ae(w,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(d,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||w}function Ko(d){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=kr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=kr("baseRetryDelayMs",5e3,d),this.Za=kr("retryDelaySeedMs",1e4,d),this.Ta=kr("forwardChannelMaxRetries",2,d),this.va=kr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(d&&d.concurrentRequestLimit),this.Ba=new Xs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ko.prototype,t.ka=8,t.I=1,t.connect=function(d,w,x,N){wt(0),this.W=d,this.H=w||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=Ol(this,null,this.W),li(this)};function Go(d){if(Qo(d),d.I==3){var w=d.V++,x=zn(d.J);if(Je(x,"SID",d.M),Je(x,"RID",w),Je(x,"TYPE","terminate"),Pr(d,x),w=new Un(d,d.j,w),w.M=2,w.A=ii(zn(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=w.A,x=!0),x||(w.g=Nu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),$s(w)}eo(d)}function Rn(d){d.g&&(Zs(d),d.g.cancel(),d.g=null)}function Qo(d){Rn(d),d.v&&(l.clearTimeout(d.v),d.v=null),Yo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function li(d){if(!Sl(d.h)&&!d.m){d.m=!0;var w=d.Ea;H||I(),Z||(H(),Z=!0),P.add(w,d),d.D=0}}function Ru(d,w){return qs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Li(p(d.Ea,d,w),Jo(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new Un(this,this.j,d);let J=this.o;if(this.U&&(J?(J=q(J),we(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,w>4096){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Ml(this,G,w),x=zn(this.J),Je(x,"RID",d),Je(x,"CVER",22),this.G&&Je(x,"X-HTTP-Session-Id",this.G),Pr(this,x),J&&(this.R?w="headers="+Er(bu(J))+"&"+w:this.u&&Ho(x,this.u,J)),$o(this.h,G),this.Ra&&Je(x,"TYPE","init"),this.S?(Je(x,"$req",w),Je(x,"SID","null"),G.U=!0,nr(G,x,null)):nr(G,x,w),this.I=2}}else this.I==3&&(d?Js(this,d):this.i.length==0||Sl(this.h)||Js(this))};function Js(d,w){var x;w?x=w.l:x=d.V++;const N=zn(d.J);Je(N,"SID",d.M),Je(N,"RID",x),Je(N,"AID",d.K),Pr(d,N),d.u&&d.o&&Ho(N,d.u,d.o),x=new Un(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Ml(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),$o(d.h,x),nr(x,N,w)}function Pr(d,w){d.H&&le(d.H,function(x,N){Je(w,N,x)}),d.l&&le({},function(x,N){Je(w,N,x)})}function Ml(d,w,x){x=Math.min(d.i.length,x);const N=d.l?p(d.l.Ka,d.l,d):null;e:{var G=d.i;let ze=-1;for(;;){const Tt=["count="+x];ze==-1?x>0?(ze=G[0].g,Tt.push("ofs="+ze)):ze=0:Tt.push("ofs="+ze);let tt=!0;for(let At=0;At<x;At++){var J=G[At].g;const Dn=G[At].map;if(J-=ze,J<0)ze=Math.max(0,G[At].g-100),tt=!1;else try{J="req"+J+"_"||"";try{var he=Dn instanceof Map?Dn:Object.entries(Dn);for(const[ci,Nr]of he){let Dr=Nr;u(Nr)&&(Dr=Di(Nr)),Tt.push(J+ci+"="+encodeURIComponent(Dr))}}catch(ci){throw Tt.push(J+"type="+encodeURIComponent("_badmap")),ci}}catch{N&&N(Dn)}}if(tt){he=Tt.join("&");break e}}he=void 0}return d=d.i.splice(0,x),w.G=d,he}function Zt(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;H||I(),Z||(H(),Z=!0),P.add(w,d),d.A=0}}function Rr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Li(p(d.Da,d),Jo(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,qi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Li(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Rn(this),qi(this))};function Zs(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function qi(d){d.g=new Un(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=zn(d.na);Je(w,"RID","rpc"),Je(w,"SID",d.M),Je(w,"AID",d.K),Je(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Je(w,"TO",d.ia),Je(w,"TYPE","xmlhttp"),Pr(d,w),d.u&&d.o&&Ho(w,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=ii(zn(w)),x.u=null,x.R=!0,xl(x,d)}t.Va=function(){this.C!=null&&(this.C=null,Rn(this),Rr(this),wt(19))};function Yo(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Xo(d,w){var x=null;if(d.g==w){Yo(d),Zs(d),d.g=null;var N=2}else if(Il(d.h,w))x=w.G,Hs(d.h,w),N=1;else return;if(d.I!=0){if(w.o)if(N==1){x=w.u?w.u.length:0,w=Date.now()-w.F;var G=d.D;N=Oi(),rt(N,new _l(N,x)),li(d)}else Zt(d);else if(G=w.m,G==3||G==0&&w.X>0||!(N==1&&Ru(d,w)||N==2&&Rr(d)))switch(x&&x.length>0&&(w=d.h,w.i=w.i.concat(x)),G){case 1:Nn(d,5);break;case 4:Nn(d,10);break;case 3:Nn(d,6);break;default:Nn(d,2)}}}function Jo(d,w){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*w}function Nn(d,w){if(d.j.info("Error code "+w),w==2){var x=p(d.bb,d),N=d.Ua;const G=!N;N=new xr(N||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ks(N,"https"),ii(N),G?Ar(N.toString(),x):Cr(N.toString(),x)}else wt(2);d.I=0,d.l&&d.l.pa(w),eo(d),Qo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function eo(d){if(d.I=0,d.ja=[],d.l){const w=bn(d.h);(w.length!=0||d.i.length!=0)&&(C(d.ja,w),C(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function Ol(d,w,x){var N=x instanceof xr?zn(x):new xr(x);if(N.g!="")w&&(N.g=w+"."+N.g),Tr(N,N.u);else{var G=l.location;N=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const J=new xr(null);N&&Ks(J,N),w&&(J.g=w),G&&Tr(J,G),x&&(J.h=x),N=J}return x=d.G,w=d.wa,x&&w&&Je(N,x,w),Je(N,"VER",d.ka),Pr(d,N),N}function Nu(d,w,x){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new it(new si({ab:x})):new it(d.ma),w.Fa(d.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}t=Du.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zo(){}Zo.prototype.g=function(d,w){return new qt(d,w)};function qt(d,w){je.call(this),this.g=new Ko(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!O(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Hi(this)}y(qt,je),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Go(this.g)},qt.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Di(d),d=x);w.i.push(new Tf(w.Ya++,d)),w.I==3&&li(w)},qt.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,qt.Z.N.call(this)};function Vu(d){Lo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const x in w){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}y(Vu,Lo);function Mu(){wl.call(this),this.status=1}y(Mu,wl);function Hi(d){this.g=d}y(Hi,Du),Hi.prototype.ra=function(){rt(this.g,"a")},Hi.prototype.qa=function(d){rt(this.g,new Vu(d))},Hi.prototype.pa=function(d){rt(this.g,new Mu)},Hi.prototype.oa=function(){rt(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,cA=function(){return new Zo},lA=function(){return Oi()},aA=tr,gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,rh=Fi,Ui.COMPLETE="complete",oA=Ui,gu.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",je.prototype.listen=je.prototype.J,gc=gu,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,sA=it}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.8.0";function hj(t){ol=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new by("@firebase/firestore");function Ia(){return Io.logLevel}function ve(t,...e){if(Io.logLevel<=qe.DEBUG){const n=e.map(Fy);Io.debug(`Firestore (${ol}): ${t}`,...n)}}function Ci(t,...e){if(Io.logLevel<=qe.ERROR){const n=e.map(Fy);Io.error(`Firestore (${ol}): ${t}`,...n)}}function Ha(t,...e){if(Io.logLevel<=qe.WARN){const n=e.map(Fy);Io.warn(`Firestore (${ol}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uA(t,r,n)}function uA(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ci(r),new Error(r)}function et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||uA(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new dA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class gj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=wj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function yg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return _m(s)===_m(a)?He(s,a):_m(s)?1:-1}return He(t.length,e.length)}const _j=55296,Ej=57343;function _m(t){const e=t.charCodeAt(0);return e>=_j&&e<=Ej}function Ka(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=jr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const r=jr.isNumericId(e),s=jr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?jr.extractNumericId(e).compare(jr.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class ot extends jr{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const xj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends jr{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return xj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new Yt([HE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(ot.fromString(e))}static fromName(e){return new ke(ot.fromString(e).popFirst(5))}static empty(){return new ke(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){if(!n)throw new me(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tj(t,e,n,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KE(t){if(!ke.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GE(t){if(ke.isDocumentKey(t))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Ch(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(t);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ou(t,e){if(!fA(t))throw new me(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new me(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,YE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Rt("string",at._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new at(0,0))}static max(){return new Ue(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;function Sj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new bs(s,ke.empty(),e)}function Ij(t){return new bs(t.readTime,t.key,Uc)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(Ue.min(),ke.empty(),Uc)}static max(){return new bs(Ue.max(),ke.empty(),Uc)}}function Aj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==Cj)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(h=>r(h)))})),l=!0,a===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next((m=>{l[p]=m,++u,u===a&&r(l)}),(m=>s(m)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function kj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function ef(t){return t==null}function bh(t){return t===0&&1/t==-1/0}function Pj(t){return typeof t=="number"&&Number.isInteger(t)&&!bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="";function Rj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XE(e)),e=Nj(t.get(n),e);return XE(e)}function Nj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case pA:n+="";break;default:n+=a}}return n}function XE(t){return t+pA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Lt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gA("Invalid base64 string: "+a):a}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=Dj.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="server_timestamp",vA="__type__",wA="__previous_value__",_A="__local_write_time__";function By(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vA])==null?void 0:r.stringValue)===yA}function tf(t){const e=t.mapValue.fields[wA];return By(e)?tf(e):e}function zc(t){const e=ks(t.mapValue.fields[_A].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,s,a,l,u,h,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m,this.apiKey=y}}const kh="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}function Mj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="__type__",Oj="__max__",Od={mapValue:{}},xA="__vector__",Ph="value";function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:jj(t)?9007199254740991:Lj(t)?10:11:Oe(28295,{value:t})}function Yr(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ks(s.timestampValue),u=ks(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Ps(s.bytesValue).isEqual(Ps(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return It(s.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return It(s.integerValue)===It(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=It(s.doubleValue),u=It(a.doubleValue);return l===u?bh(l)===bh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(JE(l)!==JE(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Yr(l[h],u[h])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function $c(t,e){return(t.values||[]).find((n=>Yr(n,e)))!==void 0}function Ga(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=It(a.integerValue||a.doubleValue),h=It(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return ex(t.timestampValue,e.timestampValue);case 4:return ex(zc(t),zc(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Ps(a),h=Ps(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=He(u[p],h[p]);if(m!==0)return m}return He(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=He(It(a.latitude),It(l.latitude));return u!==0?u:He(It(a.longitude),It(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tx(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var _,T,C,S;const u=a.fields||{},h=l.fields||{},p=(_=u[Ph])==null?void 0:_.arrayValue,m=(T=h[Ph])==null?void 0:T.arrayValue,y=He(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((S=m==null?void 0:m.values)==null?void 0:S.length)||0);return y!==0?y:tx(p,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Od.mapValue&&l===Od.mapValue)return 0;if(a===Od.mapValue)return 1;if(l===Od.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=yg(h[y],m[y]);if(_!==0)return _;const T=Ga(u[h[y]],p[m[y]]);if(T!==0)return T}return He(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function ex(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ks(t),r=ks(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function tx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ga(n[s],r[s]);if(a)return a}return He(n.length,r.length)}function Qa(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ps(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=vg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${vg(n.fields[l])}`;return s+"}"})(t.mapValue):Oe(61005,{value:t})}function ih(t){switch(Rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(t);return e?16+ih(e):16;case 5:return 2*t.stringValue.length;case 6:return Ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+ih(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Po(r.fields,((a,l)=>{s+=a.length+ih(l)})),s})(t.mapValue);default:throw Oe(13486,{value:t})}}function nx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wg(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function rx(t){return!!t&&"nullValue"in t}function ix(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function Lj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EA])==null?void 0:r.stringValue)===xA}function Ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ac(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return{...t}}function jj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Oj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=Ac(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Po(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Yn(Ac(this.value))}}function TA(t){const e=[];return Po(t.fields,((n,r)=>{const s=new Yt([n]);if(sh(r)){const a=TA(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new an(e,0,Ue.min(),Ue.min(),Ue.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,Ue.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,Ue.min(),Ue.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ue.min(),Ue.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function sx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=Ga(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{}class Pt extends SA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zj(e,n,r):n==="array-contains"?new Wj(e,r):n==="in"?new qj(e,r):n==="not-in"?new Hj(e,r):n==="array-contains-any"?new Kj(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bj(e,r):new $j(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends SA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return IA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IA(t){return t.op==="and"}function AA(t){return Uj(t)&&IA(t)}function Uj(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function _g(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(AA(t))return t.filters.map((e=>_g(e))).join(",");{const e=t.filters.map((n=>_g(n))).join(",");return`${t.op}(${e})`}}function CA(t,e){return t instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)})(t,e):t instanceof yr?(function(r,s){return s instanceof yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&CA(l,s.filters[u])),!0):!1})(t,e):void Oe(19439)}function bA(t){return t instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(t):t instanceof yr?(function(n){return n.op.toString()+" {"+n.getFilters().map(bA).join(" ,")+"}"})(t):"Filter"}class zj extends Pt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bj extends Pt{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $j extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class Wj extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&$c(n.arrayValue,this.value)}}class qj extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class Hj extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$c(this.value.arrayValue,n)}}class Kj extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$c(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function ax(t,e=null,n=[],r=[],s=null,a=null,l=null){return new Gj(t,e,n,r,s,a,l)}function Wy(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_g(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qa(r))).join(",")),e.Te=n}return e.Te}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ox(t.startAt,e.startAt)&&ox(t.endAt,e.endAt)}function Eg(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Qj(t,e,n,r,s,a,l,u){return new cl(t,e,n,r,s,a,l,u)}function PA(t){return new cl(t)}function lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yj(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function RA(t){return t.collectionGroup!==null}function Cc(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Lt(Yt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Wc(a,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Wc(Yt.keyField(),r))}return e.Ie}function qr(t){const e=Be(t);return e.Ee||(e.Ee=Xj(e,Cc(t))),e.Ee}function Xj(t,e){if(t.limitType==="F")return ax(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Wc(s.field,a)}));const n=t.endAt?new Rh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rh(t.startAt.position,t.startAt.inclusive):null;return ax(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jj(t,e){const n=t.explicitOrderBy.concat([e]);return new cl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nf(t,e){return qy(qr(t),qr(e))&&t.limitType===e.limitType}function NA(t){return`${Wy(qr(t))}|lt:${t.limitType}`}function Aa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>bA(s))).join(", ")}]`),ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(qr(t))}; limitType=${t.limitType})`}function rf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Cc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const p=sx(l,u,h);return l.inclusive?p<=0:p<0})(r.startAt,Cc(r),s)||r.endAt&&!(function(l,u,h){const p=sx(l,u,h);return l.inclusive?p>=0:p>0})(r.endAt,Cc(r),s))})(t,e)}function Zj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DA(t){return(e,n)=>{let r=!1;for(const s of Cc(t)){const a=e4(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function e4(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?Ga(h,p):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new vt(ke.comparator);function bi(){return t4}const VA=new vt(ke.comparator);function yc(...t){let e=VA;for(const n of t)e=e.insert(n.key,n);return e}function MA(t){let e=VA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _o(){return bc()}function OA(){return bc()}function bc(){return new Ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const n4=new vt(ke.comparator),r4=new Lt(ke.comparator);function Ke(...t){let e=r4;for(const n of t)e=e.add(n);return e}const i4=new Lt(He);function s4(){return i4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function LA(t){return{integerValue:""+t}}function o4(t,e){return Pj(e)?LA(e):Hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function a4(t,e,n){return t instanceof Nh?(function(s,a){const l={fields:{[vA]:{stringValue:yA},[_A]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&By(a)&&(a=tf(a)),a&&(l.fields[wA]=a),{mapValue:l}})(n,e):t instanceof qc?FA(t,e):t instanceof Hc?UA(t,e):(function(s,a){const l=jA(s,a),u=cx(l)+cx(s.Ae);return wg(l)&&wg(s.Ae)?LA(u):Hy(s.serializer,u)})(t,e)}function l4(t,e,n){return t instanceof qc?FA(t,e):t instanceof Hc?UA(t,e):n}function jA(t,e){return t instanceof Dh?(function(r){return wg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Nh extends sf{}class qc extends sf{constructor(e){super(),this.elements=e}}function FA(t,e){const n=zA(e);for(const r of t.elements)n.some((s=>Yr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Hc extends sf{constructor(e){super(),this.elements=e}}function UA(t,e){let n=zA(e);for(const r of t.elements)n=n.filter((s=>!Yr(s,r)));return{arrayValue:{values:n}}}class Dh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cx(t){return It(t.integerValue||t.doubleValue)}function zA(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c4(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof qc&&s instanceof qc||r instanceof Hc&&s instanceof Hc?Ka(r.elements,s.elements,Yr):r instanceof Dh&&s instanceof Dh?Yr(r.Ae,s.Ae):r instanceof Nh&&s instanceof Nh})(t.transform,e.transform)}class u4{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class of{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WA(t.key,Ti.none()):new au(t.key,t.data,Ti.none());{const n=t.data,r=Yn.empty();let s=new Lt(Yt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new No(t.key,r,new pr(s.toArray()),Ti.none())}}function d4(t,e,n){t instanceof au?(function(s,a,l){const u=s.value.clone(),h=dx(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof No?(function(s,a,l){if(!oh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=dx(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll($A(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function kc(t,e,n,r){return t instanceof au?(function(a,l,u,h){if(!oh(a.precondition,l))return u;const p=a.value.clone(),m=hx(a.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof No?(function(a,l,u,h){if(!oh(a.precondition,l))return u;const p=hx(a.fieldTransforms,h,l),m=l.data;return m.setAll($A(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,u){return oh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function h4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=jA(r.transform,s||null);a!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,a))}return n||null}function ux(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ka(r,s,((a,l)=>c4(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends of{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class No extends of{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $A(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function dx(t,e,n){const r=new Map;et(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,l4(l,u,n[s]))}return r}function hx(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,a4(a,l,e))}return r}class WA extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f4 extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&d4(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OA();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=BA(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,((n,r)=>ux(n,r)))&&Ka(this.baseMutations,e.baseMutations,((n,r)=>ux(n,r)))}}class Ky{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return n4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Ky(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Qe;function y4(t){switch(t){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function qA(t){if(t===void 0)return Ci("GRPC error has no .code"),te.UNKNOWN;switch(t){case bt.OK:return te.OK;case bt.CANCELLED:return te.CANCELLED;case bt.UNKNOWN:return te.UNKNOWN;case bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case bt.INTERNAL:return te.INTERNAL;case bt.UNAVAILABLE:return te.UNAVAILABLE;case bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case bt.NOT_FOUND:return te.NOT_FOUND;case bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case bt.ABORTED:return te.ABORTED;case bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case bt.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:t})}}(Qe=bt||(bt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Es([4294967295,4294967295],0);function fx(t){const e=v4().encode(t),n=new iA;return n.update(e),new Uint8Array(n.digest())}function px(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Es([n,r],0),new Es([s,a],0)]}class Gy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Es.fromNumber(r)));return s.compare(w4)===1&&(s=new Es([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fx(e),[r,s]=px(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Gy(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=fx(e),[r,s]=px(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new af(Ue.min(),s,new vt(He),bi(),Ke())}}class lu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class HA{constructor(e,n){this.targetId=e,this.Ce=n}}class KA{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mx{constructor(){this.ve=0,this.Fe=gx(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}})),new lu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=gx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _4{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.He=Ld(),this.Je=Ld(),this.Ze=new vt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Eg(a))if(r===0){const l=new ke(a.path);this.et(n,l,an.newNoDocument(l,Ue.min()))}else et(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=Ps(r).toUint8Array()}catch(h){if(h instanceof gA)return Ha("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Gy(l,s,a)}catch(h){return Ha(h instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Eg(u.target)){const h=new ke(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,an.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=Ke();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new af(e,n,this.Ze,this.je,r);return this.je=bi(),this.He=Ld(),this.Je=Ld(),this.Ze=new vt(He),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new vt(ke.comparator)}function gx(){return new vt(ke.comparator)}const E4={asc:"ASCENDING",desc:"DESCENDING"},x4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T4={and:"AND",or:"OR"};class S4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sg(t,e){return t.useProto3Json||ef(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I4(t,e){return Vh(t,e.toTimestamp())}function Hr(t){return et(!!t,49232),Ue.fromTimestamp((function(n){const r=ks(n);return new at(r.seconds,r.nanos)})(t))}function Qy(t,e){return Ig(t,e).canonicalString()}function Ig(t,e){const n=(function(s){return new ot(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function QA(t){const e=ot.fromString(t);return et(eC(e),10190,{key:e.toString()}),e}function Ag(t,e){return Qy(t.databaseId,e.path)}function Em(t,e){const n=QA(e);if(n.get(1)!==t.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(XA(n))}function YA(t,e){return Qy(t.databaseId,e)}function A4(t){const e=QA(t);return e.length===4?ot.emptyPath():XA(e)}function Cg(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XA(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yx(t,e,n){return{name:Ag(t,e),fields:n.value.mapValue.fields}}function C4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(et(m===void 0||typeof m=="string",58123),Xt.fromBase64String(m||"")):(et(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const m=p.code===void 0?te.UNKNOWN:qA(p.code);return new me(m,p.message||"")})(l);n=new KA(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Em(t,r.document.name),a=Hr(r.document.updateTime),l=r.document.createTime?Hr(r.document.createTime):Ue.min(),u=new Yn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(s,a,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];n=new ah(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Em(t,r.document),a=r.readTime?Hr(r.readTime):Ue.min(),l=an.newNoDocument(s,a),u=r.removedTargetIds||[];n=new ah([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Em(t,r.document),a=r.removedTargetIds||[];n=new ah([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new g4(s,a),u=r.targetId;n=new HA(u,l)}}return n}function b4(t,e){let n;if(e instanceof au)n={update:yx(t,e.key,e.value)};else if(e instanceof WA)n={delete:Ag(t,e.key)};else if(e instanceof No)n={update:yx(t,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof f4))return Oe(16599,{dt:e.type});n={verify:Ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Nh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:I4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function k4(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Hr(s.updateTime):Hr(a);return l.isEqual(Ue.min())&&(l=Hr(a)),new u4(l,s.transformResults||[])})(n,e)))):[]}function P4(t,e){return{documents:[YA(t,e.path)]}}function R4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YA(t,s);const a=(function(p){if(p.length!==0)return ZA(yr.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((m=>(function(_){return{field:Ca(_.field),direction:V4(_.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Sg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function N4(t){let e=A4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){et(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(y){const _=JA(y);return _ instanceof yr&&AA(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((_=>(function(C){return new Wc(ba(C.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,ef(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(y){const _=!!y.before,T=y.values||[];return new Rh(T,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const _=!y.before,T=y.values||[];return new Rh(T,_)})(n.endAt)),Qj(e,s,l,a,u,"F",h,p)}function D4(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ba(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ba(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ba(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ba(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pt.create(ba(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return yr.create(n.compositeFilter.filters.map((r=>JA(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function V4(t){return E4[t]}function M4(t){return x4[t]}function O4(t){return T4[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function ba(t){return Yt.fromServerFormat(t.fieldPath)}function ZA(t){return t instanceof Pt?(function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(rx(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(rx(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:M4(n.op),value:n.value}}})(t):t instanceof yr?(function(n){const r=n.getFilters().map((s=>ZA(s)));return r.length===1?r[0]:{compositeFilter:{op:O4(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function L4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function tC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r,s,a=Ue.min(),l=Ue.min(),u=Xt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.yt=e}}function F4(t){const e=N4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Sn=new z4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(bs.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class z4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(ot.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(nC,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ya(0)}static ar(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="LruGarbageCollector",B4=1048576;function _x([t,e],[n,r]){const s=He(t,n);return s===0?He(e,r):s}class $4{constructor(e){this.Pr=e,this.buffer=new Lt(_x),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_x(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(wx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?ve(wx,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Ar(3e5)}))}}class q4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Zh.ce);const r=new $4(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(vx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,a,l,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Ia()<=qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function H4(t,e){return new q4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&kc(r.mutation,s,pr.empty(),at.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const s=_o();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=yc();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=_o();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=bi();const l=bc(),u=(function(){return bc()})();return n.forEach(((h,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof No)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),kc(m.mutation,p,m.mutation.getFieldMask(),at.now())):l.set(p.key,pr.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,m)=>l.set(p,m))),n.forEach(((p,m)=>u.set(p,new G4(m,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=bc();let s=new vt(((l,u)=>l-u)),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||pr.empty();m=u.applyToLocalView(p,m),r.set(h,m);const y=(s.get(u.batchId)||Ke()).add(h);s=s.insert(u.batchId,y)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,y=OA();m.forEach((_=>{if(!a.has(_)){const T=BA(n.get(_),r.get(_));T!==null&&y.set(_,T),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return Yj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ne.resolve(_o());let u=Uc,h=a;return l.next((p=>ne.forEach(p,((m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next((_=>{h=h.insert(m,_)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,Ke()))).next((m=>({batchId:u,changes:MA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let s=yc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=yc();return this.indexManager.getCollectionParents(e,a).next((u=>ne.forEach(u,(h=>{const p=(function(y,_){return new cl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((m=>{m.forEach(((y,_)=>{l=l.insert(y,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,an.newInvalidDocument(m)))}));let u=yc();return l.forEach(((h,p)=>{const m=a.get(h);m!==void 0&&kc(m.mutation,p,pr.empty(),at.now()),rf(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Hr(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:F4(s.bundledQuery),readTime:Hr(s.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.overlays=new vt(ke.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_o();return ne.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.bt(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=_o(),a=n.length+1,l=new ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new vt(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=_o(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=_o(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>u.set(p,m))),!(u.size()>=s)););return ne.resolve(u)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new m4(n,r));let a=this.Lr.get(n);a===void 0&&(a=Ke(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.kr=new Lt(zt.Kr),this.qr=new Lt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new ot([])),r=new zt(n,e),s=new zt(n,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new ot([])),r=new zt(n,e),s=new zt(n,e+1);let a=Ke();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(zt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new p4(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.Jr=this.Jr.add(new zt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?zy:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);a.push(u)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(He);return n.forEach((s=>{const a=new zt(s,0),l=new zt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(u=>{r=r.add(u.Hr)}))})),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new zt(new ke(a),0);let u=new Lt(He);return this.Jr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Hr)),!0)}),l),ne.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,(s=>{const a=new zt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),s=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.ti=e,this.docs=(function(){return new vt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=bi();const l=n.path,u=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Aj(Ij(m),r)<=0||(s.has(m.key)||rf(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Oe(9500)}ni(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new tF(this)}getSize(e){return ne.resolve(this.size)}}class tF extends K4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.persistence=e,this.ri=new Ro((n=>Wy(n)),qy),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ii=0,this.si=new Yy,this.targetCount=0,this.oi=Ya._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ne.waitFor(a).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new J4,this.referenceDelegate=e(this),this.li=new nF(this),this.indexManager=new U4,this.remoteDocumentCache=(function(s){return new eF(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new j4(n),this.Pi=new Y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Z4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new rF(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,n){return ne.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class rF extends bj{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.Ri=new Yy,this.Ai=null}static Vi(e){return new Xy(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(r=>{const s=ke.fromPath(r);return this.mi(e,s).next((a=>{a||n.removeEntry(s,Ue.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.fi=new Ro((r=>Rj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=H4(this,n)}static Vi(e,n){return new Mh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?ne.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Ke(),s=Ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Jy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NV()?8:kj(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new iF;return this.ys(e,n,l).next((u=>{if(a.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>a.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Ia()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Ia()<=qe.DEBUG&&ve("QueryEngine","Query:",Aa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Ia()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ne.resolve())}gs(e,n){if(lx(n))return ne.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ke(...a);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.bs(n,u);return this.Ss(n,p,l,h.readTime)?this.gs(e,Tg(n,null,"F")):this.Ds(e,p,n,h)}))))})))))}ps(e,n,r,s){return lx(n)||s.isEqual(Ue.min())?ne.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,s)?ne.resolve(null):(Ia()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Aa(n)),this.Ds(e,l,n,Sj(s,Uc)).next((u=>u)))}))}bs(e,n){let r=new Lt(DA(e));return n.forEach(((s,a)=>{rf(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,n,r){return Ia()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Aa(n)),this.fs.getDocumentsMatchingQuery(e,n,bs.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",oF=3e8;class aF{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new vt(He),this.Fs=new Ro((a=>Wy(a)),qy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function lF(t,e,n,r){return new aF(t,e,n,r)}async function iC(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=Ke();for(const p of s){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of a){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function cF(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,m){const y=p.batch,_=y.keys();let T=ne.resolve();return _.forEach((C=>{T=T.next((()=>m.getEntry(h,C))).next((S=>{const R=p.docVersions.get(C);et(R!==null,48541),S.version.compareTo(R)<0&&(y.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),m.addEntry(S)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Ke();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function sC(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function uF(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const u=[];e.targetChanges.forEach(((m,y)=>{const _=s.get(y);if(!_)return;u.push(n.li.removeMatchingKeys(a,m.removedDocuments,y).next((()=>n.li.addMatchingKeys(a,m.addedDocuments,y))));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Xt.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),s=s.insert(y,T),(function(S,R,k){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=oF?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(_,T,m)&&u.push(n.li.updateTargetData(a,T))}));let h=bi(),p=Ke();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),u.push(dF(a,l,e.documentUpdates).next((m=>{h=m.Bs,p=m.Ls}))),!r.isEqual(Ue.min())){const m=n.li.getLastRemoteSnapshotVersion(a).next((y=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(m)}return ne.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(n.vs=s,a)))}function dF(t,e,n){let r=Ke(),s=Ke();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=bi();return n.forEach(((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ve(Zy,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{Bs:l,Ls:s}}))}function hF(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fF(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((a=>a?(s=a,ne.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new ys(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function bg(t,e,n){const r=Be(t),s=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ll(l))throw l;ve(Zy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Ex(t,e,n){const r=Be(t);let s=Ue.min(),a=Ke();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,m){const y=Be(h),_=y.Fs.get(m);return _!==void 0?ne.resolve(y.vs.get(_)):y.li.getTargetData(p,m)})(r,l,qr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Ue.min(),n?a:Ke()))).next((u=>(pF(r,Zj(e),u),{documents:u,ks:a})))))}function pF(t,e,n){let r=t.Ms.get(e)||Ue.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class xx{constructor(){this.activeTargetIds=s4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mF{constructor(){this.vo=new xx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="ConnectivityMonitor";class Sx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function kg(){return jd===null?jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",yF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vF{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=kg(),u=this.Qo(e,n.toUriEncodedString());ve(xm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,s,a);const{host:p}=new URL(u),m=rl(p);return this.zo(e,u,h,r,m).then((y=>(ve(xm,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Ha(xm,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,n){const r=yF[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",uc=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class ja extends vF{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ja.c_){const e=lA();uc(e,aA.STAT_EVENT,(n=>{n.stat===gg.PROXY?ve(sn,"STAT_EVENT: detected buffering proxy"):n.stat===gg.NOPROXY&&ve(sn,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(e,n,r,s,a){const l=kg();return new Promise(((u,h)=>{const p=new sA;p.setWithCredentials(!0),p.listenOnce(oA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const y=p.getResponseJson();ve(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case rh.TIMEOUT:ve(sn,`RPC '${e}' ${l} timed out`),h(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const _=p.getStatus();if(ve(sn,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const S=(function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(M)>=0?M:te.UNKNOWN})(C.status);h(new me(S,C.message))}else h(new me(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new me(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(sn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);ve(sn,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=kg(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");ve(sn,`Creating RPC '${e}' stream ${s}: ${p}`,u);const m=l.createWebChannel(p,u);this.I_(m);let y=!1,_=!1;const T=new wF({Ho:C=>{_?ve(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(y||(ve(sn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),y=!0),ve(sn,`RPC '${e}' stream ${s} sending:`,C),m.send(C))},Jo:()=>m.close()});return uc(m,gc.EventType.OPEN,(()=>{_||(ve(sn,`RPC '${e}' stream ${s} transport opened.`),T.i_())})),uc(m,gc.EventType.CLOSE,(()=>{_||(_=!0,ve(sn,`RPC '${e}' stream ${s} transport closed`),T.o_(),this.E_(m))})),uc(m,gc.EventType.ERROR,(C=>{_||(_=!0,Ha(sn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),T.o_(new me(te.UNAVAILABLE,"The operation could not be completed")))})),uc(m,gc.EventType.MESSAGE,(C=>{var S;if(!_){const R=C.data[0];et(!!R,16349);const k=R,M=(k==null?void 0:k.error)||((S=k[0])==null?void 0:S.error);if(M){ve(sn,`RPC '${e}' stream ${s} received error:`,M);const F=M.status;let W=(function(P){const I=bt[P];if(I!==void 0)return qA(I)})(F),H=M.message;W===void 0&&(W=te.INTERNAL,H="Unknown error status: "+F+" with message "+M.message),_=!0,T.o_(new me(W,H)),m.close()}else ve(sn,`RPC '${e}' stream ${s} received:`,R),T.__(R)}})),ja.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return new ja(t)}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){return new S4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja.c_=!1;class oC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="PersistentStream";class aC{constructor(e,n,r,s,a,l,u,h){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(Ix,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ve(Ix,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EF extends aC{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=C4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Hr(l.readTime):Ue.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Cg(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=Eg(h)?{documents:P4(a,h)}:{query:R4(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=GA(a,l.resumeToken);const p=Sg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=Vh(a,l.snapshotVersion.toTimestamp());const p=Sg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=D4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.K_(n)}}class xF extends aC{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k4(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>b4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{}class SF extends TF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Ig(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())}))}jo(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,Ig(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IF(t,e,n,r){return new SF(t,e,n,r)}class AF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class CF{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Do(this)&&(ve(Ao,"Restarting streams for network reachability change."),await(async function(h){const p=Be(h);p.Ea.add(4),await cu(p),p.Va.set("Unknown"),p.Ea.delete(4),await cf(p)})(this))}))})),this.Va=new AF(r,s)}}async function cf(t){if(Do(t))for(const e of t.Ra)await e(!0)}async function cu(t){for(const e of t.Ra)await e(!1)}function lC(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rv(n)?nv(n):ul(n).O_()&&tv(n,e))}function ev(t,e){const n=Be(t),r=ul(n);n.Ia.delete(e),r.O_()&&cC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Va.set("Unknown"))}function tv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).Z_(e)}function cC(t,e){t.da.$e(e),ul(t).X_(e)}function nv(t){t.da=new _4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.Va.ua()}function rv(t){return Do(t)&&!ul(t).x_()&&t.Ia.size>0}function Do(t){return Be(t).Ea.size===0}function uC(t){t.da=void 0}async function bF(t){t.Va.set("Online")}async function kF(t){t.Ia.forEach(((e,n)=>{tv(t,e)}))}async function PF(t,e){uC(t),rv(t)?(t.Va.ha(e),nv(t)):t.Va.set("Unknown")}async function RF(t,e,n){if(t.Va.set("Online"),e instanceof KA&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.da.removeTarget(u))})(t,e)}catch(r){ve(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof ah?t.da.Xe(e):e instanceof HA?t.da.st(e):t.da.tt(e),!n.isEqual(Ue.min()))try{const r=await sC(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.da.Tt(l);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,p)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),cC(a,h);const y=new ys(m.target,h,p,m.sequenceNumber);tv(a,y)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ve(Ao,"Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!ll(e))throw e;t.Ea.add(1),await cu(t),t.Va.set("Offline"),n||(n=()=>sC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cf(t)}))}function dC(t,e){return e().catch((n=>Oh(t,n,e)))}async function uf(t){const e=Be(t),n=Ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;NF(e);)try{const s=await hF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,DF(e,s)}catch(s){await Oh(e,s)}hC(e)&&fC(e)}function NF(t){return Do(t)&&t.Ta.length<10}function DF(t,e){t.Ta.push(e);const n=Ns(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function hC(t){return Do(t)&&!Ns(t).x_()&&t.Ta.length>0}function fC(t){Ns(t).start()}async function VF(t){Ns(t).ra()}async function MF(t){const e=Ns(t);for(const n of t.Ta)e.ea(n.mutations)}async function OF(t,e,n){const r=t.Ta.shift(),s=Ky.from(r,e,n);await dC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await uf(t)}async function LF(t,e){e&&Ns(t).Y_&&await(async function(r,s){if((function(l){return y4(l)&&l!==te.ABORTED})(s.code)){const a=r.Ta.shift();Ns(r).B_(),await dC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await uf(r)}})(t,e),hC(t)&&fC(t)}async function Ax(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),ve(Ao,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await cu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function jF(t,e){const n=Be(t);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function ul(t){return t.ma||(t.ma=(function(n,r,s){const a=Be(n);return a.sa(),new EF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:bF.bind(null,t),Yo:kF.bind(null,t),t_:PF.bind(null,t),J_:RF.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),rv(t)?nv(t):t.Va.set("Unknown")):(await t.ma.stop(),uC(t))}))),t.ma}function Ns(t){return t.fa||(t.fa=(function(n,r,s){const a=Be(n);return a.sa(),new xF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VF.bind(null,t),t_:LF.bind(null,t),ta:MF.bind(null,t),na:OF.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await uf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new iv(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),ll(t))return new me(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.ga=new vt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xa{constructor(e,n,r,s,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Xa(e,n,Fa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class UF{constructor(){this.queries=bx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),a=s.queries;s.queries=bx(),a.forEach(((l,u)=>{for(const h of u.ba)h.onError(r)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function bx(){return new Ro((t=>NA(t)),nf)}async function zF(t,e){const n=Be(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new FF,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=sv(l,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ov(n)}async function BF(t,e){const n=Be(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $F(t,e){const n=Be(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.ba)u.Fa(s)&&(r=!0);l.wa=s}}r&&ov(n)}function WF(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(n);r.queries.delete(e)}function ov(t){t.Ca.forEach((e=>{e.next()}))}var Pg,kx;(kx=Pg||(Pg={})).Ma="default",kx.Cache="cache";class qF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.key=e}}class mC{constructor(e){this.key=e}}class HF{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=DA(e),this.tu=new Fa(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Cx,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,y)=>{const _=s.get(m),T=rf(this.query,y)?y:null,C=!!_&&this.mutatedKeys.has(_.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;_&&T?_.data.isEqual(T.data)?C!==S&&(r.track({type:3,doc:T}),R=!0):this.su(_,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.eu(T,h)>0||p&&this.eu(T,p)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),R=!0):_&&!T&&(r.track({type:1,doc:_}),R=!0,(h||p)&&(u=!0)),R&&(T?(l=l.add(T),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Ss:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(T,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:R})}};return S(T)-S(C)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Xa;return this.Xa=h,l.length!==0||p?{snapshot:new Xa(this.query,e.tu,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new mC(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new pC(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const av="SyncEngine";class KF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GF{constructor(e){this.key=e,this.hu=!1}}class QF{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ro((u=>NA(u)),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(ke.comparator),this.Au=new Map,this.Vu=new Yy,this.du={},this.mu=new Map,this.fu=Ya.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YF(t,e,n=!0){const r=EC(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await gC(r,e,n,!0),s}async function XF(t,e){const n=EC(t);await gC(n,e,!0,!1)}async function gC(t,e,n,r){const s=await fF(t.localStore,qr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await JF(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&lC(t.remoteStore,s),u}async function JF(t,e,n,r,s){t.pu=(y,_,T)=>(async function(S,R,k,M){let F=R.view.ru(k);F.Ss&&(F=await Ex(S.localStore,R.query,!1).then((({documents:P})=>R.view.ru(P,F))));const W=M&&M.targetChanges.get(R.targetId),H=M&&M.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(F,S.isPrimaryClient,W,H);return Rx(S,R.targetId,Z.au),Z.snapshot})(t,y,_,T);const a=await Ex(t.localStore,e,!0),l=new HF(e,a.ks),u=l.ru(a.documents),h=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,h);Rx(t,n,p.au);const m=new KF(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function ZF(t,e,n){const r=Be(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!nf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ev(r.remoteStore,s.targetId),Rg(r,s.targetId)})).catch(al)):(Rg(r,s.targetId),await bg(r.localStore,s.targetId,!0))}async function e3(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ev(n.remoteStore,r.targetId))}async function t3(t,e,n){const r=l3(t);try{const s=await(function(l,u){const h=Be(l),p=at.now(),m=u.reduce(((T,C)=>T.add(C.key)),Ke());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let C=bi(),S=Ke();return h.xs.getEntries(T,m).next((R=>{C=R,C.forEach(((k,M)=>{M.isValidDocument()||(S=S.add(k))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,C))).next((R=>{y=R;const k=[];for(const M of u){const F=h4(M,y.get(M.key).overlayedDocument);F!=null&&k.push(new No(M.key,F,TA(F.value.mapValue),Ti.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,k,u)})).next((R=>{_=R;const k=R.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(T,R.batchId,k)}))})).then((()=>({batchId:_.batchId,changes:MA(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let p=l.du[l.currentUser.toKey()];p||(p=new vt(He)),p=p.insert(u,h),l.du[l.currentUser.toKey()]=p})(r,s.batchId,n),await uu(r,s.changes),await uf(r.remoteStore)}catch(s){const a=sv(s,"Failed to persist write");n.reject(a)}}async function yC(t,e){const n=Be(t);try{const r=await uF(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?et(l.hu,14607):s.removedDocuments.size>0&&(et(l.hu,42227),l.hu=!1))})),await uu(n,r,e)}catch(r){await al(r)}}function Px(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Be(l);h.onlineState=u;let p=!1;h.queries.forEach(((m,y)=>{for(const _ of y.ba)_.va(u)&&(p=!0)})),p&&ov(h)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n3(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new vt(ke.comparator);l=l.insert(a,an.newNoDocument(a,Ue.min()));const u=Ke().add(a),h=new af(Ue.min(),new Map,new vt(He),l,u);await yC(r,h),r.Ru=r.Ru.remove(a),r.Au.delete(e),lv(r)}else await bg(r.localStore,e,!1).then((()=>Rg(r,e,n))).catch(al)}async function r3(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await cF(n.localStore,e);wC(n,r,null),vC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,s)}catch(s){await al(s)}}async function i3(t,e,n){const r=Be(t);try{const s=await(function(l,u){const h=Be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next((y=>(et(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);wC(r,e,n),vC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,s)}catch(s){await al(s)}}function vC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wC(t,e,n){const r=Be(t);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||_C(t,r)}))}function _C(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ev(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),lv(t))}function Rx(t,e,n){for(const r of n)r instanceof pC?(t.Vu.addReference(r.key,e),s3(t,r)):r instanceof mC?(ve(av,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||_C(t,r.key)):Oe(19791,{wu:r})}function s3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ve(av,"New document in limbo: "+n),t.Eu.add(r),lv(t))}function lv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new GF(n)),t.Ru=t.Ru.insert(n,r),lC(t.remoteStore,new ys(qr(PA(n.path)),r,"TargetPurposeLimboResolution",Zh.ce))}}async function uu(t,e,n){const r=Be(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=Jy.Es(h.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(h,p){const m=Be(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ne.forEach(p,(_=>ne.forEach(_.Ts,(T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T))).next((()=>ne.forEach(_.Is,(T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))))))}catch(y){if(!ll(y))throw y;ve(Zy,"Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const T=m.vs.get(_),C=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(C);m.vs=m.vs.insert(_,S)}}})(r.localStore,a))}async function o3(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){ve(av,"User change. New user:",e.toKey());const r=await iC(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new me(te.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Ns)}}function a3(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let s=Ke();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function EC(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n3.bind(null,e),e.Pu.J_=$F.bind(null,e.eventManager),e.Pu.yu=WF.bind(null,e.eventManager),e}function l3(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i3.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lF(this.persistence,new sF,e.initialUser,this.serializer)}Cu(e){return new rC(Xy.Vi,this.serializer)}Du(e){return new mF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class c3 extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new rC((r=>Mh.Vi(r,n)),this.serializer)}}class Ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Px(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o3.bind(null,this.syncEngine),await jF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UF})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),r=_F(e.databaseInfo);return IF(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new CF(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Px(this.syncEngine,n,0)),(function(){return Sx.v()?new Sx:new gF})())}createSyncEngine(e,n){return(function(s,a,l,u,h,p,m){const y=new QF(s,a,l,u,h,p);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Be(s);ve(Ao,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class d3{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=Uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ve(Ds,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(Ds,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await iC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Nx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h3(t);ve(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Ax(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Ax(e.remoteStore,s))),t._onlineComponents=e}async function h3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Ds,"Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new Lh)}}else ve(Ds,"Using default OfflineComponentProvider"),await Sm(t,new c3(void 0));return t._offlineComponents}async function xC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Ds,"Using user provided OnlineComponentProvider"),await Nx(t,t._uninitializedComponentsProvider._online)):(ve(Ds,"Using default OnlineComponentProvider"),await Nx(t,new Ng))),t._onlineComponents}function f3(t){return xC(t).then((e=>e.syncEngine))}async function p3(t){const e=await xC(t),n=e.eventManager;return n.onListen=YF.bind(null,e.syncEngine),n.onUnlisten=ZF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e3.bind(null,e.syncEngine),n}function m3(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,p){const m=new u3({next:_=>{m.Nu(),l.enqueueAndForget((()=>BF(a,y))),_.fromCache&&h.source==="server"?p.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new qF(u,m,{includeMetadataChanges:!0,Ka:!0});return zF(a,y)})(await p3(t),t.asyncQueue,e,n,r))),r.promise}function g3(t,e){const n=new xs;return t.asyncQueue.enqueueAndForget((async()=>t3(await f3(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="ComponentProvider",Dx=new Map;function v3(t,e,n,r,s){return new Vj(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,TC(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firestore.googleapis.com",Vx=!0;class Mx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SC,this.ssl=Vx}else this.host=e.host,this.ssl=e.ssl??Vx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B4)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fj;switch(r.type){case"firstParty":return new yj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Dx.get(n);r&&(ve(y3,"Removing Datastore"),Dx.delete(n),r.terminate())})(this),Promise.resolve()}}function w3(t,e,n,r={}){var p;t=Ch(t,df);const s=rl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(yI(`https://${u}`),vI("Firestore",!0)),a.host!==SC&&a.host!==u&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:s,emulatorOptions:r};if(!xo(h,l)&&(t._setSettings(h),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=on.MOCK_USER;else{m=TV(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(_)}t._authCredentials=new pj(new dA(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ou(n,Bt._jsonSchema))return new Bt(e,r||null,new ke(ot.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Rt("string",Bt._jsonSchemaVersion),referencePath:Rt("string")};class Ts extends Vo{constructor(e,n,r){super(e,n,PA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ke(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function IC(t,e,...n){if(t=Fn(t),hA("collection","path",e),t instanceof df){const r=ot.fromString(e,...n);return GE(r),new Ts(t,null,r)}{if(!(t instanceof Bt||t instanceof Ts))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return GE(r),new Ts(t.firestore,null,r)}}function _3(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=Uy.newId()),hA("doc","path",e),t instanceof df){const r=ot.fromString(e,...n);return KE(r),new Bt(t,null,new ke(r))}{if(!(t instanceof Bt||t instanceof Ts))throw new me(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return KE(r),new Bt(t.firestore,t instanceof Ts?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="AsyncQueue";class Lx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oC(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&ve(Ox,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;ve(Ox,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",jx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=iv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Oe(47125,{Pc:jx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class cv extends df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Lx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lx(e),this._firestoreClient=void 0,await e}}}function E3(t,e){const n=typeof t=="object"?t:xI(),r=typeof t=="string"?t:kh,s=Py(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=EV("firestore");a&&w3(s,...a)}return s}function AC(t){if(t._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x3(t),t._firestoreClient}function x3(t){var r,s,a,l;const e=t._freezeSettings(),n=v3(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new d3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Xt.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Rt("string",Xn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:Rt("string",Kr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mr(e.vectorValues);throw new me(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:Rt("string",mr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=/^__.*__$/;class S3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function kC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:t})}}class uv{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kC(this.dataSource)&&T3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class I3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lf(e)}createContext(e,n,r,s=!1){return new uv({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PC(t){const e=t._freezeSettings(),n=lf(t._databaseId);return new I3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A3(t,e,n,r,s,a={}){const l=t.createContext(a.merge||a.mergeFields?2:0,e,n,s);DC("Data must be an object, but it was:",l,r);const u=RC(r,l);let h,p;if(a.merge)h=new pr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const _=hf(e,y,n);if(!l.contains(_))throw new me(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);P3(m,_)||m.push(_)}h=new pr(m),p=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,p=l.fieldTransforms;return new S3(new Yn(u),h,p)}function C3(t,e,n,r=!1){return dv(n,t.createContext(r?4:3,e))}function dv(t,e){if(NC(t=Fn(t)))return DC("Unsupported field value:",e,t),RC(t,e);if(t instanceof bC)return(function(r,s){if(!kC(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let h=dv(u,s.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=at.fromDate(r);return{timestampValue:Vh(s.serializer,a)}}if(r instanceof at){const a=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(s.serializer,a)}}if(r instanceof Kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:GA(s.serializer,r._byteString)};if(r instanceof Bt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mr)return(function(l,u){const h=l instanceof mr?l.toArray():l;return{mapValue:{fields:{[EA]:{stringValue:xA},[Ph]:{arrayValue:{values:h.map((m=>{if(typeof m!="number")throw u.createError("VectorValues must only contain numeric values.");return Hy(u.serializer,m)}))}}}}}})(r,s);if(tC(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Jh(r)}`)})(t,e)}function RC(t,e){const n={};return mA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,((r,s)=>{const a=dv(s,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function NC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Kr||t instanceof Xn||t instanceof Bt||t instanceof bC||t instanceof mr||tC(t))}function DC(t,e,n){if(!NC(n)||!fA(n)){const r=Jh(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function hf(t,e,n){if((e=Fn(e))instanceof CC)return e._internalPath;if(typeof e=="string")return k3(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const b3=new RegExp("[~\\*/\\[\\]]");function k3(t,e,n){if(e.search(b3)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new CC(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new me(te.INVALID_ARGUMENT,u+t+h)}function P3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[Ph].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>It(l.doubleValue)));return new mr(n)}convertGeoPoint(e){return new Kr(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=ks(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);et(eC(r),9688,{name:e});const s=new Bc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return s.isEqual(n)||Ci(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3 extends R3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}const Fx="@firebase/firestore",Ux="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D3 extends VC{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class MC extends hv{}function M3(t,e,...n){let r=[];e instanceof hv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof pv)).length,u=a.filter((h=>h instanceof fv)).length;if(l>1||l>0&&u>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class fv extends MC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fv(e,n,r)}_apply(e){const n=this._parse(e);return OC(e._query,n),new Vo(e.firestore,e.converter,xg(e._query,n))}_parse(e){const n=PC(e.firestore);return(function(a,l,u,h,p,m,y){let _;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Bx(y,m);const C=[];for(const S of y)C.push(zx(h,a,S));_={arrayValue:{values:C}}}else _=zx(h,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Bx(y,m),_=C3(u,l,y,m==="in"||m==="not-in");return Pt.create(p,m,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pv extends hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)OC(l,h),l=xg(l,h)})(e._query,n),new Vo(e.firestore,e.converter,xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends MC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mv(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(a,l)})(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,Jj(e._query,n))}}function O3(t,e="asc"){const n=e,r=hf("orderBy",t);return mv._create(r,n)}function zx(t,e,n){if(typeof(n=Fn(n))=="string"){if(n==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RA(e)&&n.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!ke.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nx(t,new ke(r))}if(n instanceof Bt)return nx(t,n._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function Bx(t,e){if(!Array.isArray(t)||t.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function L3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Fd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends VC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Rt("string",Ua._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class lh extends Ua{data(e={}){return super.data(e)}}class za{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lh(this._firestore,this._userDataWriter,r.key,r,new Fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new lh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Fd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new lh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Fd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:j3(u.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Rt("string",za._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};function F3(t){t=Ch(t,Vo);const e=Ch(t.firestore,cv),n=AC(e),r=new N3(e);return V3(t._query),m3(n,t._query).then((s=>new za(e,r,t,s)))}function U3(t,e){const n=Ch(t.firestore,cv),r=_3(t),s=L3(t.converter,e),a=PC(t.firestore);return z3(n,[A3(a,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then((()=>r))}function z3(t,e){const n=AC(t);return g3(n,e)}(function(e,n=!0){hj(il),qa(new To("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new cv(new mj(r.getProvider("auth-internal")),new vj(l,r.getProvider("app-check-internal")),Mj(l,s),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),_s(Fx,Ux,e),_s(Fx,Ux,"esm2020")})();const B3={apiKey:"AIzaSyBn0nbZ1XQsxkiD9Cefj_FTGNpK3VhTpMY",authDomain:"kyozoverse.firebaseapp.com",projectId:"kyozoverse",storageBucket:"kyozoverse.appspot.com",messagingSenderId:"1061297794599",appId:"1:1061297794599:web:23a0dd107dc36cff44a802",measurementId:"G-33S7RT90CJ"},LC=EI(B3),Pc=uj(LC),jC=E3(LC),$3=async()=>{try{return(await HO(Pc)).user}catch(t){throw console.error("Error authenticating anonymously:",t),t}},W3=async t=>{try{return(await U3(IC(jC,"waitlist"),{...t,timestamp:at.now()})).id}catch(e){throw console.error("Error saving waitlist submission:",e),e}},q3=async()=>{try{const t=M3(IC(jC,"waitlist"),O3("timestamp","desc"));return(await F3(t)).docs.map(n=>{var r;return{id:n.id,...n.data(),timestamp:((r=n.data().timestamp)==null?void 0:r.toDate().toISOString())||new Date().toISOString()}})}catch(t){throw console.error("Error getting waitlist submissions:",t),t}};function $x(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FC(...t){return e=>{let n=!1;const r=t.map(s=>{const a=$x(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():$x(t[s],null)}}}}function xt(...t){return b.useCallback(FC(...t),t)}var Ja=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),a=s.find(K3);if(a){const l=a.props.children,u=s.map(h=>h===a?b.Children.count(l)>1?b.Children.only(null):b.isValidElement(l)?l.props.children:null:h);return E.jsx(Dg,{...r,ref:e,children:b.isValidElement(l)?b.cloneElement(l,void 0,u):null})}return E.jsx(Dg,{...r,ref:e,children:n})});Ja.displayName="Slot";var Dg=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=Q3(n),a=G3(r,n.props);return n.type!==b.Fragment&&(a.ref=e?FC(e,s):s),b.cloneElement(n,a)}return b.Children.count(n)>1?b.Children.only(null):null});Dg.displayName="SlotClone";var H3=({children:t})=>E.jsx(E.Fragment,{children:t});function K3(t){return b.isValidElement(t)&&t.type===H3}function G3(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...u)=>{a(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function Q3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function UC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UC(t))&&(r&&(r+=" "),r+=e);return r}const Wx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qx=zC,Y3=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const m=n==null?void 0:n[p],y=a==null?void 0:a[p];if(m===null)return null;const _=Wx(m)||Wx(y);return s[p][_]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,_]=m;return _===void 0||(p[y]=_),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:y,className:_,...T}=m;return Object.entries(T).every(C=>{let[S,R]=C;return Array.isArray(R)?R.includes({...a,...u}[S]):{...a,...u}[S]===R})?[...p,y,_]:p},[]);return qx(t,l,h,n==null?void 0:n.class,n==null?void 0:n.className)},gv="-",X3=t=>{const e=Z3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(gv);return u[0]===""&&u.length!==1&&u.shift(),BC(u,e)||J3(l)},getConflictingClassGroupIds:(l,u)=>{const h=n[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},BC=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?BC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(gv);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},Hx=/^\[(.+)\]$/,J3=t=>{if(Hx.test(t)){const e=Hx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Z3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Vg(n[s],r,s,e);return r},Vg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:Kx(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(eU(s)){Vg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{Vg(l,Kx(e,a),n,r)})})},Kx=(t,e)=>{let n=t;return e.split(gv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eU=t=>t.isThemeGetter,tU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},Mg="!",Og=":",nU=Og.length,rU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,u=0,h=0,p;for(let C=0;C<s.length;C++){let S=s[C];if(l===0&&u===0){if(S===Og){a.push(s.slice(h,C)),h=C+nU;continue}if(S==="/"){p=C;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const m=a.length===0?s:s.substring(h),y=iU(m),_=y!==m,T=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:T}};if(e){const s=e+Og,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},iU=t=>t.endsWith(Mg)?t.substring(0,t.length-1):t.startsWith(Mg)?t.substring(1):t,sU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},oU=t=>({cache:tU(t.cacheSize),parseClassName:rU(t),sortModifiers:sU(t),...X3(t)}),aU=/\s+/,lU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],u=t.trim().split(aU);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:_,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:S}=n(m);if(y){h=m+(h.length>0?" "+h:h);continue}let R=!!S,k=r(R?C.substring(0,S):C);if(!k){if(!R){h=m+(h.length>0?" "+h:h);continue}if(k=r(C),!k){h=m+(h.length>0?" "+h:h);continue}R=!1}const M=a(_).join(":"),F=T?M+Mg:M,W=F+k;if(l.includes(W))continue;l.push(W);const H=s(k,R);for(let Z=0;Z<H.length;++Z){const P=H[Z];l.push(F+P)}h=m+(h.length>0?" "+h:h)}return h};function cU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$C(e))&&(r&&(r+=" "),r+=n);return r}const $C=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$C(t[r]))&&(n&&(n+=" "),n+=e);return n};function uU(t,...e){let n,r,s,a=l;function l(h){const p=e.reduce((m,y)=>y(m),t());return n=oU(p),r=n.cache.get,s=n.cache.set,a=u,u(h)}function u(h){const p=r(h);if(p)return p;const m=lU(h,n);return s(h,m),m}return function(){return a(cU.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dU=/^\d+\/\d+$/,hU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ea=t=>dU.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),ls=t=>!!t&&Number.isInteger(Number(t)),Im=t=>t.endsWith("%")&&$e(t.slice(0,-1)),vi=t=>hU.test(t),yU=()=>!0,vU=t=>fU.test(t)&&!pU.test(t),HC=()=>!1,wU=t=>mU.test(t),_U=t=>gU.test(t),EU=t=>!Te(t)&&!Se(t),xU=t=>dl(t,QC,HC),Te=t=>WC.test(t),mo=t=>dl(t,YC,vU),Am=t=>dl(t,CU,$e),Gx=t=>dl(t,KC,HC),TU=t=>dl(t,GC,_U),Ud=t=>dl(t,XC,wU),Se=t=>qC.test(t),dc=t=>hl(t,YC),SU=t=>hl(t,bU),Qx=t=>hl(t,KC),IU=t=>hl(t,QC),AU=t=>hl(t,GC),zd=t=>hl(t,XC,!0),dl=(t,e,n)=>{const r=WC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},hl=(t,e,n=!1)=>{const r=qC.exec(t);return r?r[1]?e(r[1]):n:!1},KC=t=>t==="position"||t==="percentage",GC=t=>t==="image"||t==="url",QC=t=>t==="length"||t==="size"||t==="bg-size",YC=t=>t==="length",CU=t=>t==="number",bU=t=>t==="family-name",XC=t=>t==="shadow",kU=()=>{const t=Mt("color"),e=Mt("font"),n=Mt("text"),r=Mt("font-weight"),s=Mt("tracking"),a=Mt("leading"),l=Mt("breakpoint"),u=Mt("container"),h=Mt("spacing"),p=Mt("radius"),m=Mt("shadow"),y=Mt("inset-shadow"),_=Mt("text-shadow"),T=Mt("drop-shadow"),C=Mt("blur"),S=Mt("perspective"),R=Mt("aspect"),k=Mt("ease"),M=Mt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...W(),Se,Te],Z=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[Se,Te,h],V=()=>[Ea,"full","auto",...I()],j=()=>[ls,"none","subgrid",Se,Te],D=()=>["auto",{span:["full",ls,Se,Te]},ls,Se,Te],U=()=>[ls,"auto",Se,Te],O=()=>["auto","min","max","fr",Se,Te],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...I()],de=()=>[Ea,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],$=()=>[t,Se,Te],le=()=>[...W(),Qx,Gx,{position:[Se,Te]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",IU,xU,{size:[Se,Te]}],ee=()=>[Im,dc,mo],we=()=>["","none","full",p,Se,Te],ye=()=>["",$e,dc,mo],Pe=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[$e,Im,Qx,Gx],Ee=()=>["","none",C,Se,Te],Y=()=>["none",$e,Se,Te],ce=()=>["none",$e,Se,Te],Ve=()=>[$e,Se,Te],Fe=()=>[Ea,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vi],breakpoint:[vi],color:[yU],container:[vi],"drop-shadow":[vi],ease:["in","out","in-out"],font:[EU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vi],shadow:[vi],spacing:["px",$e],text:[vi],"text-shadow":[vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ea,Te,Se,R]}],container:["container"],columns:[{columns:[$e,Te,Se,u]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",Se,Te]}],basis:[{basis:[Ea,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ea,"auto","initial","none",Te]}],grow:[{grow:["",$e,Se,Te]}],shrink:[{shrink:["",$e,Se,Te]}],order:[{order:[ls,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[u,"screen",...de()]}],"min-w":[{"min-w":[u,"screen","none",...de()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...de()]}],h:[{h:["screen",...de()]}],"min-h":[{"min-h":["screen","none",...de()]}],"max-h":[{"max-h":["screen",...de()]}],"font-size":[{text:["base",n,dc,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Im,Te]}],"font-family":[{font:[SU,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,Te]}],"line-clamp":[{"line-clamp":[$e,"none",Se,Am]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Se,mo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[$e,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,Se,Te],radial:["",Se,Te],conic:[ls,Se,Te]},AU,TU]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:we()}],"rounded-s":[{"rounded-s":we()}],"rounded-e":[{"rounded-e":we()}],"rounded-t":[{"rounded-t":we()}],"rounded-r":[{"rounded-r":we()}],"rounded-b":[{"rounded-b":we()}],"rounded-l":[{"rounded-l":we()}],"rounded-ss":[{"rounded-ss":we()}],"rounded-se":[{"rounded-se":we()}],"rounded-ee":[{"rounded-ee":we()}],"rounded-es":[{"rounded-es":we()}],"rounded-tl":[{"rounded-tl":we()}],"rounded-tr":[{"rounded-tr":we()}],"rounded-br":[{"rounded-br":we()}],"rounded-bl":[{"rounded-bl":we()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Se,Te]}],"outline-w":[{outline:["",$e,dc,mo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",m,zd,Ud]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",y,zd,Ud]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[$e,mo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",_,zd,Ud]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[$e,Se,Te]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:Ee()}],brightness:[{brightness:[$e,Se,Te]}],contrast:[{contrast:[$e,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",T,zd,Ud]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",$e,Se,Te]}],"hue-rotate":[{"hue-rotate":[$e,Se,Te]}],invert:[{invert:["",$e,Se,Te]}],saturate:[{saturate:[$e,Se,Te]}],sepia:[{sepia:["",$e,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",$e,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Se,Te]}],ease:[{ease:["linear","initial",k,Se,Te]}],delay:[{delay:[$e,Se,Te]}],animate:[{animate:["none",M,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Se,Te]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fe()}],"translate-x":[{"translate-x":Fe()}],"translate-y":[{"translate-y":Fe()}],"translate-z":[{"translate-z":Fe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[$e,dc,mo,Am]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PU=uU(kU);function Cn(...t){return PU(zC(t))}const RU=Y3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-lg",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2 has-[>svg]:px-4",sm:"h-9 rounded-full gap-1.5 px-4 has-[>svg]:px-3",lg:"h-12 rounded-full px-8 has-[>svg]:px-6",icon:"size-10 rounded-full"}},defaultVariants:{variant:"default",size:"default"}});function In({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?Ja:"button";return E.jsx(a,{"data-slot":"button",className:Cn(RU({variant:e,size:n,className:t})),...s})}function Fr({className:t,type:e,...n}){return E.jsx("input",{type:e,"data-slot":"input",className:Cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-xl border px-4 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-[var(--kyozo-teal)] focus-visible:ring-[var(--kyozo-teal)]/20 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Yx({className:t,...e}){return E.jsx("textarea",{"data-slot":"textarea",className:Cn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-[var(--kyozo-teal)] focus-visible:ring-[var(--kyozo-teal)]/20 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-xl border bg-input-background px-4 py-3 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var du=IT();const NU=ST(du);var DU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=DU.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:a,...l}=r,u=a?Ja:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function VU(t,e){t&&du.flushSync(()=>t.dispatchEvent(e))}var MU="Label",JC=b.forwardRef((t,e)=>E.jsx(nt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JC.displayName=MU;var OU=JC;function Sn({className:t,...e}){return E.jsx(OU,{"data-slot":"label",className:Cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Mo(t,e=[]){let n=[];function r(a,l){const u=b.createContext(l),h=n.length;n=[...n,l];const p=y=>{var k;const{scope:_,children:T,...C}=y,S=((k=_==null?void 0:_[t])==null?void 0:k[h])||u,R=b.useMemo(()=>C,Object.values(C));return E.jsx(S.Provider,{value:R,children:T})};p.displayName=a+"Provider";function m(y,_){var S;const T=((S=_==null?void 0:_[t])==null?void 0:S[h])||u,C=b.useContext(T);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const s=()=>{const a=n.map(l=>b.createContext(l));return function(u){const h=(u==null?void 0:u[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,LU(s,...e)]}function LU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((u,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function ZC(t){const e=t+"CollectionProvider",[n,r]=Mo(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:C,children:S}=T,R=cs.useRef(null),k=cs.useRef(new Map).current;return E.jsx(s,{scope:C,itemMap:k,collectionRef:R,children:S})};l.displayName=e;const u=t+"CollectionSlot",h=cs.forwardRef((T,C)=>{const{scope:S,children:R}=T,k=a(u,S),M=xt(C,k.collectionRef);return E.jsx(Ja,{ref:M,children:R})});h.displayName=u;const p=t+"CollectionItemSlot",m="data-radix-collection-item",y=cs.forwardRef((T,C)=>{const{scope:S,children:R,...k}=T,M=cs.useRef(null),F=xt(C,M),W=a(p,S);return cs.useEffect(()=>(W.itemMap.set(M,{ref:M,...k}),()=>void W.itemMap.delete(M))),E.jsx(Ja,{[m]:"",ref:F,children:R})});y.displayName=p;function _(T){const C=a(t+"CollectionConsumer",T);return cs.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const k=Array.from(R.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((W,H)=>k.indexOf(W.ref.current)-k.indexOf(H.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},_,r]}var mn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},jU=Xk.useId||(()=>{}),FU=0;function ff(t){const[e,n]=b.useState(jU());return mn(()=>{n(r=>r??String(FU++))},[t]),t||(e?`radix-${e}`:"")}function Xr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Kc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=UU({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,u=Xr(n),h=b.useCallback(p=>{if(a){const y=typeof p=="function"?p(t):p;y!==t&&u(y)}else s(p)},[a,t,s,u]);return[l,h]}function UU({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,s=b.useRef(r),a=Xr(e);return b.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var zU=b.createContext(void 0);function yv(t){const e=b.useContext(zU);return t||e||"ltr"}var Cm="rovingFocusGroup.onEntryFocus",BU={bubbles:!1,cancelable:!0},pf="RovingFocusGroup",[Lg,e1,$U]=ZC(pf),[WU,t1]=Mo(pf,[$U]),[qU,HU]=WU(pf),n1=b.forwardRef((t,e)=>E.jsx(Lg.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(Lg.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(KU,{...t,ref:e})})}));n1.displayName=pf;var KU=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,_=b.useRef(null),T=xt(e,_),C=yv(a),[S=null,R]=Kc({prop:l,defaultProp:u,onChange:h}),[k,M]=b.useState(!1),F=Xr(p),W=e1(n),H=b.useRef(!1),[Z,P]=b.useState(0);return b.useEffect(()=>{const I=_.current;if(I)return I.addEventListener(Cm,F),()=>I.removeEventListener(Cm,F)},[F]),E.jsx(qU,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:S,onItemFocus:b.useCallback(I=>R(I),[R]),onItemShiftTab:b.useCallback(()=>M(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>P(I=>I-1),[]),children:E.jsx(nt.div,{tabIndex:k||Z===0?-1:0,"data-orientation":r,...y,ref:T,style:{outline:"none",...t.style},onMouseDown:Ze(t.onMouseDown,()=>{H.current=!0}),onFocus:Ze(t.onFocus,I=>{const V=!H.current;if(I.target===I.currentTarget&&V&&!k){const j=new CustomEvent(Cm,BU);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=W().filter(fe=>fe.focusable),U=D.find(fe=>fe.active),O=D.find(fe=>fe.id===S),be=[U,O,...D].filter(Boolean).map(fe=>fe.ref.current);s1(be,m)}}H.current=!1}),onBlur:Ze(t.onBlur,()=>M(!1))})})}),r1="RovingFocusGroupItem",i1=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...l}=t,u=ff(),h=a||u,p=HU(r1,n),m=p.currentTabStopId===h,y=e1(n),{onFocusableItemAdd:_,onFocusableItemRemove:T}=p;return b.useEffect(()=>{if(r)return _(),()=>T()},[r,_,T]),E.jsx(Lg.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:E.jsx(nt.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:Ze(t.onMouseDown,C=>{r?p.onItemFocus(h):C.preventDefault()}),onFocus:Ze(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ze(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const S=YU(C,p.orientation,p.dir);if(S!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let k=y().filter(M=>M.focusable).map(M=>M.ref.current);if(S==="last")k.reverse();else if(S==="prev"||S==="next"){S==="prev"&&k.reverse();const M=k.indexOf(C.currentTarget);k=p.loop?XU(k,M+1):k.slice(M+1)}setTimeout(()=>s1(k))}})})})});i1.displayName=r1;var GU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YU(t,e,n){const r=QU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GU[r]}function s1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function XU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JU=n1,ZU=i1;function vv(t){const[e,n]=b.useState(void 0);return mn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function wv(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function e6(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var _v=t=>{const{present:e,children:n}=t,r=t6(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=xt(r.ref,n6(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:a}):null};_v.displayName="Presence";function t6(t){const[e,n]=b.useState(),r=b.useRef({}),s=b.useRef(t),a=b.useRef("none"),l=t?"mounted":"unmounted",[u,h]=e6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Bd(r.current);a.current=u==="mounted"?p:"none"},[u]),mn(()=>{const p=r.current,m=s.current;if(m!==t){const _=a.current,T=Bd(p);t?h("MOUNT"):T==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(m&&_!==T?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),mn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=T=>{const S=Bd(r.current).includes(T.animationName);if(T.target===e&&S&&(h("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},_=T=>{T.target===e&&(a.current=Bd(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Bd(t){return(t==null?void 0:t.animationName)||"none"}function n6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ev="Radio",[r6,o1]=Mo(Ev),[i6,s6]=r6(Ev),a1=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:l,value:u="on",onCheck:h,form:p,...m}=t,[y,_]=b.useState(null),T=xt(e,R=>_(R)),C=b.useRef(!1),S=y?p||!!y.closest("form"):!0;return E.jsxs(i6,{scope:n,checked:s,disabled:l,children:[E.jsx(nt.button,{type:"button",role:"radio","aria-checked":s,"data-state":u1(s),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:T,onClick:Ze(t.onClick,R=>{s||h==null||h(),S&&(C.current=R.isPropagationStopped(),C.current||R.stopPropagation())})}),S&&E.jsx(o6,{control:y,bubbles:!C.current,name:r,value:u,checked:s,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});a1.displayName=Ev;var l1="RadioIndicator",c1=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,a=s6(l1,n);return E.jsx(_v,{present:r||a.checked,children:E.jsx(nt.span,{"data-state":u1(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});c1.displayName=l1;var o6=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,a=b.useRef(null),l=wv(n),u=vv(e);return b.useEffect(()=>{const h=a.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&y){const _=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(_)}},[l,n,r]),E.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function u1(t){return t?"checked":"unchecked"}var a6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xv="RadioGroup",[l6]=Mo(xv,[t1,o1]),d1=t1(),h1=o1(),[c6,u6]=l6(xv),f1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:l=!1,disabled:u=!1,orientation:h,dir:p,loop:m=!0,onValueChange:y,..._}=t,T=d1(n),C=yv(p),[S,R]=Kc({prop:a,defaultProp:s,onChange:y});return E.jsx(c6,{scope:n,name:r,required:l,disabled:u,value:S,onValueChange:R,children:E.jsx(JU,{asChild:!0,...T,orientation:h,dir:C,loop:m,children:E.jsx(nt.div,{role:"radiogroup","aria-required":l,"aria-orientation":h,"data-disabled":u?"":void 0,dir:C,..._,ref:e})})})});f1.displayName=xv;var p1="RadioGroupItem",m1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,a=u6(p1,n),l=a.disabled||r,u=d1(n),h=h1(n),p=b.useRef(null),m=xt(e,p),y=a.value===s.value,_=b.useRef(!1);return b.useEffect(()=>{const T=S=>{a6.includes(S.key)&&(_.current=!0)},C=()=>_.current=!1;return document.addEventListener("keydown",T),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",T),document.removeEventListener("keyup",C)}},[]),E.jsx(ZU,{asChild:!0,...u,focusable:!l,active:y,children:E.jsx(a1,{disabled:l,required:a.required,checked:y,...h,...s,name:a.name,ref:m,onCheck:()=>a.onValueChange(s.value),onKeyDown:Ze(T=>{T.key==="Enter"&&T.preventDefault()}),onFocus:Ze(s.onFocus,()=>{var T;_.current&&((T=p.current)==null||T.click())})})})});m1.displayName=p1;var d6="RadioGroupIndicator",g1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=h1(n);return E.jsx(c1,{...s,...r,ref:e})});g1.displayName=d6;var h6=f1,f6=m1,p6=g1;function m6({className:t,...e}){return E.jsx(h6,{"data-slot":"radio-group",className:Cn("grid gap-3",t),...e})}function Xx({className:t,...e}){return E.jsx(f6,{"data-slot":"radio-group-item",className:Cn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:E.jsx(p6,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:E.jsx(G2,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var Tv="Checkbox",[g6]=Mo(Tv),[y6,v6]=g6(Tv),y1=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:l,disabled:u,value:h="on",onCheckedChange:p,form:m,...y}=t,[_,T]=b.useState(null),C=xt(e,W=>T(W)),S=b.useRef(!1),R=_?m||!!_.closest("form"):!0,[k=!1,M]=Kc({prop:s,defaultProp:a,onChange:p}),F=b.useRef(k);return b.useEffect(()=>{const W=_==null?void 0:_.form;if(W){const H=()=>M(F.current);return W.addEventListener("reset",H),()=>W.removeEventListener("reset",H)}},[_,M]),E.jsxs(y6,{scope:n,state:k,disabled:u,children:[E.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":Ss(k)?"mixed":k,"aria-required":l,"data-state":_1(k),"data-disabled":u?"":void 0,disabled:u,value:h,...y,ref:C,onKeyDown:Ze(t.onKeyDown,W=>{W.key==="Enter"&&W.preventDefault()}),onClick:Ze(t.onClick,W=>{M(H=>Ss(H)?!0:!H),R&&(S.current=W.isPropagationStopped(),S.current||W.stopPropagation())})}),R&&E.jsx(w6,{control:_,bubbles:!S.current,name:r,value:h,checked:k,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Ss(a)?!1:a})]})});y1.displayName=Tv;var v1="CheckboxIndicator",w1=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,a=v6(v1,n);return E.jsx(_v,{present:r||Ss(a.state)||a.state===!0,children:E.jsx(nt.span,{"data-state":_1(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});w1.displayName=v1;var w6=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...a}=t,l=b.useRef(null),u=wv(n),h=vv(e);b.useEffect(()=>{const m=l.current,y=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(y,"checked").set;if(u!==n&&T){const C=new Event("click",{bubbles:r});m.indeterminate=Ss(n),T.call(m,Ss(n)?!1:n),m.dispatchEvent(C)}},[u,n,r]);const p=b.useRef(Ss(n)?!1:n);return E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??p.current,...a,tabIndex:-1,ref:l,style:{...t.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ss(t){return t==="indeterminate"}function _1(t){return Ss(t)?"indeterminate":t?"checked":"unchecked"}var _6=y1,E6=w1;function bm({className:t,...e}){return E.jsx(_6,{"data-slot":"checkbox",className:Cn("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:E.jsx(E6,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:E.jsx(cI,{className:"size-3.5"})})})}function x6({currentStep:t,totalSteps:e}){const n=t/e*100;return E.jsxs("div",{className:"w-full max-w-3xl mx-auto mb-12",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsxs("span",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:["Step ",t," of ",e]}),E.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(n),"%"]})]}),E.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:E.jsx(pt.div,{className:"h-full bg-gradient-to-r from-[var(--kyozo-teal)] to-[var(--kyozo-purple)]",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5,ease:"easeInOut"}})})]})}function T6(){return E.jsxs(pt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center px-4 max-w-3xl mx-auto",children:[E.jsx(pt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mb-6",children:E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-24 h-24 bg-[var(--kyozo-dark)] rounded-full flex items-center justify-center",children:E.jsx(H2,{className:"w-12 h-12 text-white"})}),E.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-[var(--kyozo-secondary)] rounded-full flex items-center justify-center",children:E.jsx(cV,{className:"w-4 h-4 text-white"})})]})}),E.jsx(pt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl md:text-5xl mb-4 text-[var(--kyozo-dark)]",children:"You're on the list!"}),E.jsx(pt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-lg text-muted-foreground max-w-md mb-8 text-center",children:"Thank you for joining Kyozo. We've received your information and will be in touch soon with exclusive early access."}),E.jsxs(pt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center gap-2 text-sm text-muted-foreground",children:[E.jsx("div",{className:"w-2 h-2 bg-[var(--kyozo-secondary)] rounded-full animate-pulse"}),E.jsx("span",{children:"Your submission has been securely stored"})]})]})}function Jx(t,[e,n]){return Math.min(n,Math.max(e,t))}function S6(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var I6="DismissableLayer",jg="dismissableLayer.update",A6="dismissableLayer.pointerDownOutside",C6="dismissableLayer.focusOutside",Zx,E1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),x1=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...h}=t,p=b.useContext(E1),[m,y]=b.useState(null),_=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=b.useState({}),C=xt(e,P=>y(P)),S=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(R),M=m?S.indexOf(m):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,W=M>=k,H=P6(P=>{const I=P.target,V=[...p.branches].some(j=>j.contains(I));!W||V||(s==null||s(P),l==null||l(P),P.defaultPrevented||u==null||u())},_),Z=R6(P=>{const I=P.target;[...p.branches].some(j=>j.contains(I))||(a==null||a(P),l==null||l(P),P.defaultPrevented||u==null||u())},_);return S6(P=>{M===p.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},_),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Zx=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),eT(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=Zx)}},[m,_,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),eT())},[m,p]),b.useEffect(()=>{const P=()=>T({});return document.addEventListener(jg,P),()=>document.removeEventListener(jg,P)},[]),E.jsx(nt.div,{...h,ref:C,style:{pointerEvents:F?W?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,H.onPointerDownCapture)})});x1.displayName=I6;var b6="DismissableLayerBranch",k6=b.forwardRef((t,e)=>{const n=b.useContext(E1),r=b.useRef(null),s=xt(e,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),E.jsx(nt.div,{...t,ref:s})});k6.displayName=b6;function P6(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let h=function(){T1(A6,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function R6(t,e=globalThis==null?void 0:globalThis.document){const n=Xr(t),r=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!r.current&&T1(C6,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eT(){const t=new CustomEvent(jg);document.dispatchEvent(t)}function T1(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?VU(s,a):s.dispatchEvent(a)}var km=0;function N6(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tT()),document.body.insertAdjacentElement("beforeend",t[1]??tT()),km++,()=>{km===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),km--}},[])}function tT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pm="focusScope.autoFocusOnMount",Rm="focusScope.autoFocusOnUnmount",nT={bubbles:!1,cancelable:!0},D6="FocusScope",S1=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=t,[u,h]=b.useState(null),p=Xr(s),m=Xr(a),y=b.useRef(null),_=xt(e,S=>h(S)),T=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let S=function(F){if(T.paused||!u)return;const W=F.target;u.contains(W)?y.current=W:ds(y.current,{select:!0})},R=function(F){if(T.paused||!u)return;const W=F.relatedTarget;W!==null&&(u.contains(W)||ds(y.current,{select:!0}))},k=function(F){if(document.activeElement===document.body)for(const H of F)H.removedNodes.length>0&&ds(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",R);const M=new MutationObserver(k);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",R),M.disconnect()}}},[r,u,T.paused]),b.useEffect(()=>{if(u){iT.add(T);const S=document.activeElement;if(!u.contains(S)){const k=new CustomEvent(Pm,nT);u.addEventListener(Pm,p),u.dispatchEvent(k),k.defaultPrevented||(V6(F6(I1(u)),{select:!0}),document.activeElement===S&&ds(u))}return()=>{u.removeEventListener(Pm,p),setTimeout(()=>{const k=new CustomEvent(Rm,nT);u.addEventListener(Rm,m),u.dispatchEvent(k),k.defaultPrevented||ds(S??document.body,{select:!0}),u.removeEventListener(Rm,m),iT.remove(T)},0)}}},[u,p,m,T]);const C=b.useCallback(S=>{if(!n&&!r||T.paused)return;const R=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(R&&k){const M=S.currentTarget,[F,W]=M6(M);F&&W?!S.shiftKey&&k===W?(S.preventDefault(),n&&ds(F,{select:!0})):S.shiftKey&&k===F&&(S.preventDefault(),n&&ds(W,{select:!0})):k===M&&S.preventDefault()}},[n,r,T.paused]);return E.jsx(nt.div,{tabIndex:-1,...l,ref:_,onKeyDown:C})});S1.displayName=D6;function V6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ds(r,{select:e}),document.activeElement!==n)return}function M6(t){const e=I1(t),n=rT(e,t),r=rT(e.reverse(),t);return[n,r]}function I1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rT(t,e){for(const n of t)if(!O6(n,{upTo:e}))return n}function O6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function L6(t){return t instanceof HTMLInputElement&&"select"in t}function ds(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&L6(t)&&e&&t.select()}}var iT=j6();function j6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sT(t,e),t.unshift(e)},remove(e){var n;t=sT(t,e),(n=t[0])==null||n.resume()}}}function sT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function F6(t){return t.filter(e=>e.tagName!=="A")}const U6=["top","right","bottom","left"],Vs=Math.min,Ln=Math.max,Fh=Math.round,$d=Math.floor,Gr=t=>({x:t,y:t}),z6={left:"right",right:"left",bottom:"top",top:"bottom"},B6={start:"end",end:"start"};function Fg(t,e,n){return Ln(t,Vs(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function Pi(t){return t.split("-")[0]}function fl(t){return t.split("-")[1]}function Sv(t){return t==="x"?"y":"x"}function Iv(t){return t==="y"?"height":"width"}const $6=new Set(["top","bottom"]);function zr(t){return $6.has(Pi(t))?"y":"x"}function Av(t){return Sv(zr(t))}function W6(t,e,n){n===void 0&&(n=!1);const r=fl(t),s=Av(t),a=Iv(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Uh(l)),[l,Uh(l)]}function q6(t){const e=Uh(t);return[Ug(t),e,Ug(e)]}function Ug(t){return t.replace(/start|end/g,e=>B6[e])}const oT=["left","right"],aT=["right","left"],H6=["top","bottom"],K6=["bottom","top"];function G6(t,e,n){switch(t){case"top":case"bottom":return n?e?aT:oT:e?oT:aT;case"left":case"right":return e?H6:K6;default:return[]}}function Q6(t,e,n,r){const s=fl(t);let a=G6(Pi(t),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Ug)))),a}function Uh(t){return t.replace(/left|right|bottom|top/g,e=>z6[e])}function Y6(t){return{top:0,right:0,bottom:0,left:0,...t}}function A1(t){return typeof t!="number"?Y6(t):{top:t,right:t,bottom:t,left:t}}function zh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lT(t,e,n){let{reference:r,floating:s}=t;const a=zr(e),l=Av(e),u=Iv(l),h=Pi(e),p=a==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,_=r[u]/2-s[u]/2;let T;switch(h){case"top":T={x:m,y:r.y-s.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y};break;case"left":T={x:r.x-s.width,y};break;default:T={x:r.x,y:r.y}}switch(fl(e)){case"start":T[l]-=_*(n&&p?-1:1);break;case"end":T[l]+=_*(n&&p?-1:1);break}return T}const X6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=lT(p,r,h),_=r,T={},C=0;for(let S=0;S<u.length;S++){const{name:R,fn:k}=u[S],{x:M,y:F,data:W,reset:H}=await k({x:m,y,initialPlacement:r,placement:_,strategy:s,middlewareData:T,rects:p,platform:l,elements:{reference:t,floating:e}});m=M??m,y=F??y,T={...T,[R]:{...T[R],...W}},H&&C<=50&&(C++,typeof H=="object"&&(H.placement&&(_=H.placement),H.rects&&(p=H.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):H.rects),{x:m,y}=lT(p,_,h)),S=-1)}return{x:m,y,placement:_,strategy:s,middlewareData:T}};async function Gc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:_=!1,padding:T=0}=ki(e,t),C=A1(T),R=u[_?y==="floating"?"reference":"floating":y],k=zh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),M=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),W=await(a.isElement==null?void 0:a.isElement(F))?await(a.getScale==null?void 0:a.getScale(F))||{x:1,y:1}:{x:1,y:1},H=zh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:F,strategy:h}):M);return{top:(k.top-H.top+C.top)/W.y,bottom:(H.bottom-k.bottom+C.bottom)/W.y,left:(k.left-H.left+C.left)/W.x,right:(H.right-k.right+C.right)/W.x}}const J6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:l,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=ki(t,e)||{};if(p==null)return{};const y=A1(m),_={x:n,y:r},T=Av(s),C=Iv(T),S=await l.getDimensions(p),R=T==="y",k=R?"top":"left",M=R?"bottom":"right",F=R?"clientHeight":"clientWidth",W=a.reference[C]+a.reference[T]-_[T]-a.floating[C],H=_[T]-a.reference[T],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let P=Z?Z[F]:0;(!P||!await(l.isElement==null?void 0:l.isElement(Z)))&&(P=u.floating[F]||a.floating[C]);const I=W/2-H/2,V=P/2-S[C]/2-1,j=Vs(y[k],V),D=Vs(y[M],V),U=j,O=P-S[C]-D,ge=P/2-S[C]/2+I,be=Fg(U,ge,O),fe=!h.arrow&&fl(s)!=null&&ge!==be&&a.reference[C]/2-(ge<U?j:D)-S[C]/2<0,de=fe?ge<U?ge-U:ge-O:0;return{[T]:_[T]+de,data:{[T]:be,centerOffset:ge-be-de,...fe&&{alignmentOffset:de}},reset:fe}}}),Z6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...R}=ki(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Pi(s),M=zr(u),F=Pi(u)===u,W=await(h.isRTL==null?void 0:h.isRTL(p.floating)),H=_||(F||!S?[Uh(u)]:q6(u)),Z=C!=="none";!_&&Z&&H.push(...Q6(u,S,C,W));const P=[u,...H],I=await Gc(e,R),V=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&V.push(I[k]),y){const ge=W6(s,l,W);V.push(I[ge[0]],I[ge[1]])}if(j=[...j,{placement:s,overflows:V}],!V.every(ge=>ge<=0)){var D,U;const ge=(((D=a.flip)==null?void 0:D.index)||0)+1,be=P[ge];if(be&&(!(y==="alignment"?M!==zr(be):!1)||j.every($=>zr($.placement)===M?$.overflows[0]>0:!0)))return{data:{index:ge,overflows:j},reset:{placement:be}};let fe=(U=j.filter(de=>de.overflows[0]<=0).sort((de,$)=>de.overflows[1]-$.overflows[1])[0])==null?void 0:U.placement;if(!fe)switch(T){case"bestFit":{var O;const de=(O=j.filter($=>{if(Z){const le=zr($.placement);return le===M||le==="y"}return!0}).map($=>[$.placement,$.overflows.filter(le=>le>0).reduce((le,ae)=>le+ae,0)]).sort(($,le)=>$[1]-le[1])[0])==null?void 0:O[0];de&&(fe=de);break}case"initialPlacement":fe=u;break}if(s!==fe)return{reset:{placement:fe}}}return{}}}};function cT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uT(t){return U6.some(e=>t[e]>=0)}const e5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ki(t,e);switch(r){case"referenceHidden":{const a=await Gc(e,{...s,elementContext:"reference"}),l=cT(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:uT(l)}}}case"escaped":{const a=await Gc(e,{...s,altBoundary:!0}),l=cT(a,n.floating);return{data:{escapedOffsets:l,escaped:uT(l)}}}default:return{}}}}},C1=new Set(["left","top"]);async function t5(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Pi(n),u=fl(n),h=zr(n)==="y",p=C1.has(l)?-1:1,m=a&&h?-1:1,y=ki(e,t);let{mainAxis:_,crossAxis:T,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof C=="number"&&(T=u==="end"?C*-1:C),h?{x:T*m,y:_*p}:{x:_*p,y:T*m}}const n5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:l,middlewareData:u}=e,h=await t5(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:a+h.y,data:{...h,placement:l}}}}},r5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:k,y:M}=R;return{x:k,y:M}}},...h}=ki(t,e),p={x:n,y:r},m=await Gc(e,h),y=zr(Pi(s)),_=Sv(y);let T=p[_],C=p[y];if(a){const R=_==="y"?"top":"left",k=_==="y"?"bottom":"right",M=T+m[R],F=T-m[k];T=Fg(M,T,F)}if(l){const R=y==="y"?"top":"left",k=y==="y"?"bottom":"right",M=C+m[R],F=C-m[k];C=Fg(M,C,F)}const S=u.fn({...e,[_]:T,[y]:C});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[_]:a,[y]:l}}}}}},i5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=ki(t,e),m={x:n,y:r},y=zr(s),_=Sv(y);let T=m[_],C=m[y];const S=ki(u,e),R=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const F=_==="y"?"height":"width",W=a.reference[_]-a.floating[F]+R.mainAxis,H=a.reference[_]+a.reference[F]-R.mainAxis;T<W?T=W:T>H&&(T=H)}if(p){var k,M;const F=_==="y"?"width":"height",W=C1.has(Pi(s)),H=a.reference[y]-a.floating[F]+(W&&((k=l.offset)==null?void 0:k[y])||0)+(W?0:R.crossAxis),Z=a.reference[y]+a.reference[F]+(W?0:((M=l.offset)==null?void 0:M[y])||0)-(W?R.crossAxis:0);C<H?C=H:C>Z&&(C=Z)}return{[_]:T,[y]:C}}}},s5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:h=()=>{},...p}=ki(t,e),m=await Gc(e,p),y=Pi(s),_=fl(s),T=zr(s)==="y",{width:C,height:S}=a.floating;let R,k;y==="top"||y==="bottom"?(R=y,k=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(k=y,R=_==="end"?"top":"bottom");const M=S-m.top-m.bottom,F=C-m.left-m.right,W=Vs(S-m[R],M),H=Vs(C-m[k],F),Z=!e.middlewareData.shift;let P=W,I=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=M),Z&&!_){const j=Ln(m.left,0),D=Ln(m.right,0),U=Ln(m.top,0),O=Ln(m.bottom,0);T?I=C-2*(j!==0||D!==0?j+D:Ln(m.left,m.right)):P=S-2*(U!==0||O!==0?U+O:Ln(m.top,m.bottom))}await h({...e,availableWidth:I,availableHeight:P});const V=await l.getDimensions(u.floating);return C!==V.width||S!==V.height?{reset:{rects:!0}}:{}}}};function mf(){return typeof window<"u"}function pl(t){return b1(t)?(t.nodeName||"").toLowerCase():"#document"}function jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(b1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b1(t){return mf()?t instanceof Node||t instanceof jn(t).Node:!1}function vr(t){return mf()?t instanceof Element||t instanceof jn(t).Element:!1}function Jr(t){return mf()?t instanceof HTMLElement||t instanceof jn(t).HTMLElement:!1}function dT(t){return!mf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jn(t).ShadowRoot}const o5=new Set(["inline","contents"]);function hu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!o5.has(s)}const a5=new Set(["table","td","th"]);function l5(t){return a5.has(pl(t))}const c5=[":popover-open",":modal"];function gf(t){return c5.some(e=>{try{return t.matches(e)}catch{return!1}})}const u5=["transform","translate","scale","rotate","perspective"],d5=["transform","translate","scale","rotate","perspective","filter"],h5=["paint","layout","strict","content"];function Cv(t){const e=bv(),n=vr(t)?wr(t):t;return u5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||d5.some(r=>(n.willChange||"").includes(r))||h5.some(r=>(n.contain||"").includes(r))}function f5(t){let e=Ms(t);for(;Jr(e)&&!Za(e);){if(Cv(e))return e;if(gf(e))return null;e=Ms(e)}return null}function bv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p5=new Set(["html","body","#document"]);function Za(t){return p5.has(pl(t))}function wr(t){return jn(t).getComputedStyle(t)}function yf(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ms(t){if(pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dT(t)&&t.host||Zr(t);return dT(e)?e.host:e}function k1(t){const e=Ms(t);return Za(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&hu(e)?e:k1(e)}function Qc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=k1(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),l=jn(s);if(a){const u=zg(l);return e.concat(l,l.visualViewport||[],hu(s)?s:[],u&&n?Qc(u):[])}return e.concat(s,Qc(s,[],n))}function zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P1(t){const e=wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jr(t),a=s?t.offsetWidth:n,l=s?t.offsetHeight:r,u=Fh(n)!==a||Fh(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function kv(t){return vr(t)?t:t.contextElement}function Ba(t){const e=kv(t);if(!Jr(e))return Gr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=P1(e);let l=(a?Fh(n.width):n.width)/r,u=(a?Fh(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const m5=Gr(0);function R1(t){const e=jn(t);return!bv()||!e.visualViewport?m5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jn(t)?!1:e}function Co(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=kv(t);let l=Gr(1);e&&(r?vr(r)&&(l=Ba(r)):l=Ba(t));const u=g5(a,n,r)?R1(a):Gr(0);let h=(s.left+u.x)/l.x,p=(s.top+u.y)/l.y,m=s.width/l.x,y=s.height/l.y;if(a){const _=jn(a),T=r&&vr(r)?jn(r):r;let C=_,S=zg(C);for(;S&&r&&T!==C;){const R=Ba(S),k=S.getBoundingClientRect(),M=wr(S),F=k.left+(S.clientLeft+parseFloat(M.paddingLeft))*R.x,W=k.top+(S.clientTop+parseFloat(M.paddingTop))*R.y;h*=R.x,p*=R.y,m*=R.x,y*=R.y,h+=F,p+=W,C=jn(S),S=zg(C)}}return zh({width:m,height:y,x:h,y:p})}function vf(t,e){const n=yf(t).scrollLeft;return e?e.left+n:Co(Zr(t)).left+n}function N1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function y5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",l=Zr(r),u=e?gf(e.floating):!1;if(r===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Gr(1);const m=Gr(0),y=Jr(r);if((y||!y&&!a)&&((pl(r)!=="body"||hu(l))&&(h=yf(r)),Jr(r))){const T=Co(r);p=Ba(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const _=l&&!y&&!a?N1(l,h):Gr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+m.x+_.x,y:n.y*p.y-h.scrollTop*p.y+m.y+_.y}}function v5(t){return Array.from(t.getClientRects())}function w5(t){const e=Zr(t),n=yf(t),r=t.ownerDocument.body,s=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+vf(t);const u=-n.scrollTop;return wr(r).direction==="rtl"&&(l+=Ln(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:u}}const hT=25;function _5(t,e){const n=jn(t),r=Zr(t),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,h=0;if(s){a=s.width,l=s.height;const m=bv();(!m||m&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const p=vf(r);if(p<=0){const m=r.ownerDocument,y=m.body,_=getComputedStyle(y),T=m.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-T);C<=hT&&(a-=C)}else p<=hT&&(a+=p);return{width:a,height:l,x:u,y:h}}const E5=new Set(["absolute","fixed"]);function x5(t,e){const n=Co(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=Jr(t)?Ba(t):Gr(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,h=s*a.x,p=r*a.y;return{width:l,height:u,x:h,y:p}}function fT(t,e,n){let r;if(e==="viewport")r=_5(t,n);else if(e==="document")r=w5(Zr(t));else if(vr(e))r=x5(e,n);else{const s=R1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return zh(r)}function D1(t,e){const n=Ms(t);return n===e||!vr(n)||Za(n)?!1:wr(n).position==="fixed"||D1(n,e)}function T5(t,e){const n=e.get(t);if(n)return n;let r=Qc(t,[],!1).filter(u=>vr(u)&&pl(u)!=="body"),s=null;const a=wr(t).position==="fixed";let l=a?Ms(t):t;for(;vr(l)&&!Za(l);){const u=wr(l),h=Cv(l);!h&&u.position==="fixed"&&(s=null),(a?!h&&!s:!h&&u.position==="static"&&!!s&&E5.has(s.position)||hu(l)&&!h&&D1(t,l))?r=r.filter(m=>m!==l):s=u,l=Ms(l)}return e.set(t,r),r}function S5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?gf(e)?[]:T5(e,this._c):[].concat(n),r],u=l[0],h=l.reduce((p,m)=>{const y=fT(e,m,s);return p.top=Ln(y.top,p.top),p.right=Vs(y.right,p.right),p.bottom=Vs(y.bottom,p.bottom),p.left=Ln(y.left,p.left),p},fT(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function I5(t){const{width:e,height:n}=P1(t);return{width:e,height:n}}function A5(t,e,n){const r=Jr(e),s=Zr(e),a=n==="fixed",l=Co(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=Gr(0);function p(){h.x=vf(s)}if(r||!r&&!a)if((pl(e)!=="body"||hu(s))&&(u=yf(e)),r){const T=Co(e,!0,a,e);h.x=T.x+e.clientLeft,h.y=T.y+e.clientTop}else s&&p();a&&!r&&s&&p();const m=s&&!r&&!a?N1(s,u):Gr(0),y=l.left+u.scrollLeft-h.x-m.x,_=l.top+u.scrollTop-h.y-m.y;return{x:y,y:_,width:l.width,height:l.height}}function Nm(t){return wr(t).position==="static"}function pT(t,e){if(!Jr(t)||wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function V1(t,e){const n=jn(t);if(gf(t))return n;if(!Jr(t)){let s=Ms(t);for(;s&&!Za(s);){if(vr(s)&&!Nm(s))return s;s=Ms(s)}return n}let r=pT(t,e);for(;r&&l5(r)&&Nm(r);)r=pT(r,e);return r&&Za(r)&&Nm(r)&&!Cv(r)?n:r||f5(t)||n}const C5=async function(t){const e=this.getOffsetParent||V1,n=this.getDimensions,r=await n(t.floating);return{reference:A5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b5(t){return wr(t).direction==="rtl"}const k5={convertOffsetParentRelativeRectToViewportRelativeRect:y5,getDocumentElement:Zr,getClippingRect:S5,getOffsetParent:V1,getElementRects:C5,getClientRects:v5,getDimensions:I5,getScale:Ba,isElement:vr,isRTL:b5};function M1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P5(t,e){let n=null,r;const s=Zr(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:_,height:T}=p;if(u||e(),!_||!T)return;const C=$d(y),S=$d(s.clientWidth-(m+_)),R=$d(s.clientHeight-(y+T)),k=$d(m),F={rootMargin:-C+"px "+-S+"px "+-R+"px "+-k+"px",threshold:Ln(0,Vs(1,h))||1};let W=!0;function H(Z){const P=Z[0].intersectionRatio;if(P!==h){if(!W)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!M1(p,t.getBoundingClientRect())&&l(),W=!1}try{n=new IntersectionObserver(H,{...F,root:s.ownerDocument})}catch{n=new IntersectionObserver(H,F)}n.observe(t)}return l(!0),a}function R5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=kv(t),m=s||a?[...p?Qc(p):[],...Qc(e)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const y=p&&u?P5(p,n):null;let _=-1,T=null;l&&(T=new ResizeObserver(k=>{let[M]=k;M&&M.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var F;(F=T)==null||F.observe(e)})),n()}),p&&!h&&T.observe(p),T.observe(e));let C,S=h?Co(t):null;h&&R();function R(){const k=Co(t);S&&!M1(S,k)&&n(),S=k,C=requestAnimationFrame(R)}return n(),()=>{var k;m.forEach(M=>{s&&M.removeEventListener("scroll",n),a&&M.removeEventListener("resize",n)}),y==null||y(),(k=T)==null||k.disconnect(),T=null,h&&cancelAnimationFrame(C)}}const N5=n5,D5=r5,V5=Z6,M5=s5,O5=e5,mT=J6,L5=i5,j5=(t,e,n)=>{const r=new Map,s={platform:k5,...n},a={...s.platform,_c:r};return X6(t,e,{...s,platform:a})};var F5=typeof document<"u",U5=function(){},ch=F5?b.useLayoutEffect:U5;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Bh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function O1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gT(t,e){const n=O1(t);return Math.round(e*n)/n}function Dm(t){const e=b.useRef(t);return ch(()=>{e.current=t}),e}function z5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=b.useState(r);Bh(_,r)||T(r);const[C,S]=b.useState(null),[R,k]=b.useState(null),M=b.useCallback($=>{$!==Z.current&&(Z.current=$,S($))},[]),F=b.useCallback($=>{$!==P.current&&(P.current=$,k($))},[]),W=a||C,H=l||R,Z=b.useRef(null),P=b.useRef(null),I=b.useRef(m),V=h!=null,j=Dm(h),D=Dm(s),U=Dm(p),O=b.useCallback(()=>{if(!Z.current||!P.current)return;const $={placement:e,strategy:n,middleware:_};D.current&&($.platform=D.current),j5(Z.current,P.current,$).then(le=>{const ae={...le,isPositioned:U.current!==!1};ge.current&&!Bh(I.current,ae)&&(I.current=ae,du.flushSync(()=>{y(ae)}))})},[_,e,n,D,U]);ch(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[p]);const ge=b.useRef(!1);ch(()=>(ge.current=!0,()=>{ge.current=!1}),[]),ch(()=>{if(W&&(Z.current=W),H&&(P.current=H),W&&H){if(j.current)return j.current(W,H,O);O()}},[W,H,O,j,V]);const be=b.useMemo(()=>({reference:Z,floating:P,setReference:M,setFloating:F}),[M,F]),fe=b.useMemo(()=>({reference:W,floating:H}),[W,H]),de=b.useMemo(()=>{const $={position:n,left:0,top:0};if(!fe.floating)return $;const le=gT(fe.floating,m.x),ae=gT(fe.floating,m.y);return u?{...$,transform:"translate("+le+"px, "+ae+"px)",...O1(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:ae}},[n,u,fe.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:O,refs:be,elements:fe,floatingStyles:de}),[m,O,be,fe,de])}const B5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mT({element:r.current,padding:s}).fn(n):{}:r?mT({element:r,padding:s}).fn(n):{}}}},$5=(t,e)=>({...N5(t),options:[t,e]}),W5=(t,e)=>({...D5(t),options:[t,e]}),q5=(t,e)=>({...L5(t),options:[t,e]}),H5=(t,e)=>({...V5(t),options:[t,e]}),K5=(t,e)=>({...M5(t),options:[t,e]}),G5=(t,e)=>({...O5(t),options:[t,e]}),Q5=(t,e)=>({...B5(t),options:[t,e]});var Y5="Arrow",L1=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return E.jsx(nt.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});L1.displayName=Y5;var X5=L1,Pv="Popper",[j1,F1]=Mo(Pv),[J5,U1]=j1(Pv),z1=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return E.jsx(J5,{scope:e,anchor:r,onAnchorChange:s,children:n})};z1.displayName=Pv;var B1="PopperAnchor",$1=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=U1(B1,n),l=b.useRef(null),u=xt(e,l);return b.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:E.jsx(nt.div,{...s,ref:u})});$1.displayName=B1;var Rv="PopperContent",[Z5,ez]=j1(Rv),W1=b.forwardRef((t,e)=>{var se,Ee,Y,ce,Ve,Fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:C,...S}=t,R=U1(Rv,n),[k,M]=b.useState(null),F=xt(e,ht=>M(ht)),[W,H]=b.useState(null),Z=vv(W),P=(Z==null?void 0:Z.width)??0,I=(Z==null?void 0:Z.height)??0,V=r+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(p)?p:[p],U=D.length>0,O={padding:j,boundary:D.filter(nz),altBoundary:U},{refs:ge,floatingStyles:be,placement:fe,isPositioned:de,middlewareData:$}=z5({strategy:"fixed",placement:V,whileElementsMounted:(...ht)=>R5(...ht,{animationFrame:T==="always"}),elements:{reference:R.anchor},middleware:[$5({mainAxis:s+I,alignmentAxis:l}),h&&W5({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?q5():void 0,...O}),h&&H5({...O}),K5({...O,apply:({elements:ht,rects:Nt,availableWidth:gn,availableHeight:yn})=>{const{width:un,height:er}=Nt.reference,je=ht.floating.style;je.setProperty("--radix-popper-available-width",`${gn}px`),je.setProperty("--radix-popper-available-height",`${yn}px`),je.setProperty("--radix-popper-anchor-width",`${un}px`),je.setProperty("--radix-popper-anchor-height",`${er}px`)}}),W&&Q5({element:W,padding:u}),rz({arrowWidth:P,arrowHeight:I}),_&&G5({strategy:"referenceHidden",...O})]}),[le,ae]=K1(fe),q=Xr(C);mn(()=>{de&&(q==null||q())},[de,q]);const ee=(se=$.arrow)==null?void 0:se.x,we=(Ee=$.arrow)==null?void 0:Ee.y,ye=((Y=$.arrow)==null?void 0:Y.centerOffset)!==0,[Pe,De]=b.useState();return mn(()=>{k&&De(window.getComputedStyle(k).zIndex)},[k]),E.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:de?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(ce=$.transformOrigin)==null?void 0:ce.x,(Ve=$.transformOrigin)==null?void 0:Ve.y].join(" "),...((Fe=$.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(Z5,{scope:n,placedSide:le,onArrowChange:H,arrowX:ee,arrowY:we,shouldHideArrow:ye,children:E.jsx(nt.div,{"data-side":le,"data-align":ae,...S,ref:F,style:{...S.style,animation:de?void 0:"none"}})})})});W1.displayName=Rv;var q1="PopperArrow",tz={top:"bottom",right:"left",bottom:"top",left:"right"},H1=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=ez(q1,r),l=tz[a.placedSide];return E.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:E.jsx(X5,{...s,ref:n,style:{...s.style,display:"block"}})})});H1.displayName=q1;function nz(t){return t!==null}var rz=t=>({name:"transformOrigin",options:t,fn(e){var R,k,M;const{placement:n,rects:r,middlewareData:s}=e,l=((R=s.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,m]=K1(n),y={start:"0%",center:"50%",end:"100%"}[m],_=(((k=s.arrow)==null?void 0:k.x)??0)+u/2,T=(((M=s.arrow)==null?void 0:M.y)??0)+h/2;let C="",S="";return p==="bottom"?(C=l?y:`${_}px`,S=`${-h}px`):p==="top"?(C=l?y:`${_}px`,S=`${r.floating.height+h}px`):p==="right"?(C=`${-h}px`,S=l?y:`${T}px`):p==="left"&&(C=`${r.floating.width+h}px`,S=l?y:`${T}px`),{data:{x:C,y:S}}}});function K1(t){const[e,n="center"]=t.split("-");return[e,n]}var iz=z1,sz=$1,oz=W1,az=H1,lz="Portal",G1=b.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[s,a]=b.useState(!1);mn(()=>a(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?NU.createPortal(E.jsx(nt.div,{...r,ref:e}),l):null});G1.displayName=lz;var cz="VisuallyHidden",Q1=b.forwardRef((t,e)=>E.jsx(nt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Q1.displayName=cz;var uz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xa=new WeakMap,Wd=new WeakMap,qd={},Vm=0,Y1=function(t){return t&&(t.host||Y1(t.parentNode))},dz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Y1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hz=function(t,e,n,r){var s=dz(e,Array.isArray(t)?t:[t]);qd[n]||(qd[n]=new WeakMap);var a=qd[n],l=[],u=new Set,h=new Set(s),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};s.forEach(p);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(_){if(u.has(_))m(_);else try{var T=_.getAttribute(r),C=T!==null&&T!=="false",S=(xa.get(_)||0)+1,R=(a.get(_)||0)+1;xa.set(_,S),a.set(_,R),l.push(_),S===1&&C&&Wd.set(_,!0),R===1&&_.setAttribute(n,"true"),C||_.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",_,k)}})};return m(e),u.clear(),Vm++,function(){l.forEach(function(y){var _=xa.get(y)-1,T=a.get(y)-1;xa.set(y,_),a.set(y,T),_||(Wd.has(y)||y.removeAttribute(r),Wd.delete(y)),T||y.removeAttribute(n)}),Vm--,Vm||(xa=new WeakMap,xa=new WeakMap,Wd=new WeakMap,qd={})}},fz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=uz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),hz(r,s,n,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ur.apply(this,arguments)};function X1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var uh="right-scroll-bar-position",dh="width-before-scroll-bar",mz="with-scroll-bars-hidden",gz="--removed-body-scroll-bar-size";function Mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yz(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var vz=typeof window<"u"?b.useLayoutEffect:b.useEffect,yT=new WeakMap;function wz(t,e){var n=yz(null,function(r){return t.forEach(function(s){return Mm(s,r)})});return vz(function(){var r=yT.get(n);if(r){var s=new Set(r),a=new Set(t),l=n.current;s.forEach(function(u){a.has(u)||Mm(u,null)}),a.forEach(function(u){s.has(u)||Mm(u,l)})}yT.set(n,t)},[t]),n}function _z(t){return t}function Ez(t,e){e===void 0&&(e=_z);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var h=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),n}}}};return s}function xz(t){t===void 0&&(t={});var e=Ez(null);return e.options=Ur({async:!0,ssr:!1},t),e}var J1=function(t){var e=t.sideCar,n=X1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ur({},n))};J1.isSideCarExport=!0;function Tz(t,e){return t.useMedium(e),J1}var Z1=xz(),Om=function(){},wf=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Om,onWheelCapture:Om,onTouchMoveCapture:Om}),s=r[0],a=r[1],l=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,_=t.sideCar,T=t.noRelative,C=t.noIsolation,S=t.inert,R=t.allowPinchZoom,k=t.as,M=k===void 0?"div":k,F=t.gapMode,W=X1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=_,Z=wz([n,e]),P=Ur(Ur({},W),s);return b.createElement(b.Fragment,null,m&&b.createElement(H,{sideCar:Z1,removeScrollBar:p,shards:y,noRelative:T,noIsolation:C,inert:S,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:F}),l?b.cloneElement(b.Children.only(u),Ur(Ur({},P),{ref:Z})):b.createElement(M,Ur({},P,{className:h,ref:Z}),u))});wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wf.classNames={fullWidth:dh,zeroRight:uh};var Sz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Iz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Sz();return e&&t.setAttribute("nonce",e),t}function Az(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Iz())&&(Az(e,n),Cz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kz=function(){var t=bz();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},eb=function(){var t=kz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Pz={left:0,top:0,right:0,gap:0},Lm=function(t){return parseInt(t||"",10)||0},Rz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Lm(n),Lm(r),Lm(s)]},Nz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Pz;var e=Rz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Dz=eb(),$a="data-scroll-locked",Vz=function(t,e,n,r){var s=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uh,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(dh,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(gz,": ").concat(u,`px;
  }
`)},vT=function(){var t=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(t)?t:0},Mz=function(){b.useEffect(function(){return document.body.setAttribute($a,(vT()+1).toString()),function(){var t=vT()-1;t<=0?document.body.removeAttribute($a):document.body.setAttribute($a,t.toString())}},[])},Oz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Mz();var a=b.useMemo(function(){return Nz(s)},[s]);return b.createElement(Dz,{styles:Vz(a,!e,s,n?"":"!important")})},Bg=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return Bg=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{Bg=!1}var Ta=Bg?{passive:!1}:!1,Lz=function(t){return t.tagName==="TEXTAREA"},tb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lz(t)&&n[e]==="visible")},jz=function(t){return tb(t,"overflowY")},Fz=function(t){return tb(t,"overflowX")},wT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nb(t,r);if(s){var a=rb(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Uz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nb=function(t,e){return t==="v"?jz(e):Fz(e)},rb=function(t,e){return t==="v"?Uz(e):zz(e)},Bz=function(t,e){return t==="h"&&e==="rtl"?-1:1},$z=function(t,e,n,r,s){var a=Bz(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,h=e.contains(u),p=!1,m=l>0,y=0,_=0;do{if(!u)break;var T=rb(t,u),C=T[0],S=T[1],R=T[2],k=S-R-a*C;(C||k)&&nb(t,u)&&(y+=k,_+=C);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(_)<1)&&(p=!0),p},Kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_T=function(t){return[t.deltaX,t.deltaY]},ET=function(t){return t&&"current"in t?t.current:t},Wz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hz=0,Sa=[];function Kz(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(Hz++)[0],a=b.useState(eb)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var S=pz([t.lockRef.current],(t.shards||[]).map(ET),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var k=Kd(S),M=n.current,F="deltaX"in S?S.deltaX:M[0]-k[0],W="deltaY"in S?S.deltaY:M[1]-k[1],H,Z=S.target,P=Math.abs(F)>Math.abs(W)?"h":"v";if("touches"in S&&P==="h"&&Z.type==="range")return!1;var I=window.getSelection(),V=I&&I.anchorNode,j=V?V===Z||V.contains(Z):!1;if(j)return!1;var D=wT(P,Z);if(!D)return!0;if(D?H=P:(H=P==="v"?"h":"v",D=wT(P,Z)),!D)return!1;if(!r.current&&"changedTouches"in S&&(F||W)&&(r.current=H),!H)return!0;var U=r.current||H;return $z(U,R,S,U==="h"?F:W)},[]),h=b.useCallback(function(S){var R=S;if(!(!Sa.length||Sa[Sa.length-1]!==a)){var k="deltaY"in R?_T(R):Kd(R),M=e.current.filter(function(H){return H.name===R.type&&(H.target===R.target||R.target===H.shadowParent)&&Wz(H.delta,k)})[0];if(M&&M.should){R.cancelable&&R.preventDefault();return}if(!M){var F=(l.current.shards||[]).map(ET).filter(Boolean).filter(function(H){return H.contains(R.target)}),W=F.length>0?u(R,F[0]):!l.current.noIsolation;W&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(S,R,k,M){var F={name:S,delta:R,target:k,should:M,shadowParent:Gz(k)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(W){return W!==F})},1)},[]),m=b.useCallback(function(S){n.current=Kd(S),r.current=void 0},[]),y=b.useCallback(function(S){p(S.type,_T(S),S.target,u(S,t.lockRef.current))},[]),_=b.useCallback(function(S){p(S.type,Kd(S),S.target,u(S,t.lockRef.current))},[]);b.useEffect(function(){return Sa.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Ta),document.addEventListener("touchmove",h,Ta),document.addEventListener("touchstart",m,Ta),function(){Sa=Sa.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,Ta),document.removeEventListener("touchmove",h,Ta),document.removeEventListener("touchstart",m,Ta)}},[]);var T=t.removeScrollBar,C=t.inert;return b.createElement(b.Fragment,null,C?b.createElement(a,{styles:qz(s)}):null,T?b.createElement(Oz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Gz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qz=Tz(Z1,Kz);var ib=b.forwardRef(function(t,e){return b.createElement(wf,Ur({},t,{ref:e,sideCar:Qz}))});ib.classNames=wf.classNames;var Yz=[" ","Enter","ArrowUp","ArrowDown"],Xz=[" ","Enter"],fu="Select",[_f,Ef,Jz]=ZC(fu),[ml]=Mo(fu,[Jz,F1]),xf=F1(),[Zz,Fs]=ml(fu),[eB,tB]=ml(fu),sb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:h,dir:p,name:m,autoComplete:y,disabled:_,required:T,form:C}=t,S=xf(e),[R,k]=b.useState(null),[M,F]=b.useState(null),[W,H]=b.useState(!1),Z=yv(p),[P=!1,I]=Kc({prop:r,defaultProp:s,onChange:a}),[V,j]=Kc({prop:l,defaultProp:u,onChange:h}),D=b.useRef(null),U=R?C||!!R.closest("form"):!0,[O,ge]=b.useState(new Set),be=Array.from(O).map(fe=>fe.props.value).join(";");return E.jsx(iz,{...S,children:E.jsxs(Zz,{required:T,scope:e,trigger:R,onTriggerChange:k,valueNode:M,onValueNodeChange:F,valueNodeHasChildren:W,onValueNodeHasChildrenChange:H,contentId:ff(),value:V,onValueChange:j,open:P,onOpenChange:I,dir:Z,triggerPointerDownPosRef:D,disabled:_,children:[E.jsx(_f.Provider,{scope:e,children:E.jsx(eB,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(fe=>{ge(de=>new Set(de).add(fe))},[]),onNativeOptionRemove:b.useCallback(fe=>{ge(de=>{const $=new Set(de);return $.delete(fe),$})},[]),children:n})}),U?E.jsxs(kb,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:y,value:V,onChange:fe=>j(fe.target.value),disabled:_,form:C,children:[V===void 0?E.jsx("option",{value:""}):null,Array.from(O)]},be):null]})})};sb.displayName=fu;var ob="SelectTrigger",ab=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,a=xf(n),l=Fs(ob,n),u=l.disabled||r,h=xt(e,l.onTriggerChange),p=Ef(n),m=b.useRef("touch"),[y,_,T]=Pb(S=>{const R=p().filter(F=>!F.disabled),k=R.find(F=>F.value===l.value),M=Rb(R,S,k);M!==void 0&&l.onValueChange(M.value)}),C=S=>{u||(l.onOpenChange(!0),T()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return E.jsx(sz,{asChild:!0,...a,children:E.jsx(nt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":bb(l.value)?"":void 0,...s,ref:h,onClick:Ze(s.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&C(S)}),onPointerDown:Ze(s.onPointerDown,S=>{m.current=S.pointerType;const R=S.target;R.hasPointerCapture(S.pointerId)&&R.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:Ze(s.onKeyDown,S=>{const R=y.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&_(S.key),!(R&&S.key===" ")&&Yz.includes(S.key)&&(C(),S.preventDefault())})})})});ab.displayName=ob;var lb="SelectValue",cb=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:l="",...u}=t,h=Fs(lb,n),{onValueNodeHasChildrenChange:p}=h,m=a!==void 0,y=xt(e,h.onValueNodeChange);return mn(()=>{p(m)},[p,m]),E.jsx(nt.span,{...u,ref:y,style:{pointerEvents:"none"},children:bb(h.value)?E.jsx(E.Fragment,{children:l}):a})});cb.displayName=lb;var nB="SelectIcon",ub=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return E.jsx(nt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ub.displayName=nB;var rB="SelectPortal",db=t=>E.jsx(G1,{asChild:!0,...t});db.displayName=rB;var bo="SelectContent",hb=b.forwardRef((t,e)=>{const n=Fs(bo,t.__scopeSelect),[r,s]=b.useState();if(mn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?du.createPortal(E.jsx(fb,{scope:t.__scopeSelect,children:E.jsx(_f.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),a):null}return E.jsx(pb,{...t,ref:e})});hb.displayName=bo;var hr=10,[fb,Us]=ml(bo),iB="SelectContentImpl",pb=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:R,...k}=t,M=Fs(bo,n),[F,W]=b.useState(null),[H,Z]=b.useState(null),P=xt(e,se=>W(se)),[I,V]=b.useState(null),[j,D]=b.useState(null),U=Ef(n),[O,ge]=b.useState(!1),be=b.useRef(!1);b.useEffect(()=>{if(F)return fz(F)},[F]),N6();const fe=b.useCallback(se=>{const[Ee,...Y]=U().map(Fe=>Fe.ref.current),[ce]=Y.slice(-1),Ve=document.activeElement;for(const Fe of se)if(Fe===Ve||(Fe==null||Fe.scrollIntoView({block:"nearest"}),Fe===Ee&&H&&(H.scrollTop=0),Fe===ce&&H&&(H.scrollTop=H.scrollHeight),Fe==null||Fe.focus(),document.activeElement!==Ve))return},[U,H]),de=b.useCallback(()=>fe([I,F]),[fe,I,F]);b.useEffect(()=>{O&&de()},[O,de]);const{onOpenChange:$,triggerPointerDownPosRef:le}=M;b.useEffect(()=>{if(F){let se={x:0,y:0};const Ee=ce=>{var Ve,Fe;se={x:Math.abs(Math.round(ce.pageX)-(((Ve=le.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Fe=le.current)==null?void 0:Fe.y)??0))}},Y=ce=>{se.x<=10&&se.y<=10?ce.preventDefault():F.contains(ce.target)||$(!1),document.removeEventListener("pointermove",Ee),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Y,{capture:!0})}}},[F,$,le]),b.useEffect(()=>{const se=()=>$(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[$]);const[ae,q]=Pb(se=>{const Ee=U().filter(Ve=>!Ve.disabled),Y=Ee.find(Ve=>Ve.ref.current===document.activeElement),ce=Rb(Ee,se,Y);ce&&setTimeout(()=>ce.ref.current.focus())}),ee=b.useCallback((se,Ee,Y)=>{const ce=!be.current&&!Y;(M.value!==void 0&&M.value===Ee||ce)&&(V(se),ce&&(be.current=!0))},[M.value]),we=b.useCallback(()=>F==null?void 0:F.focus(),[F]),ye=b.useCallback((se,Ee,Y)=>{const ce=!be.current&&!Y;(M.value!==void 0&&M.value===Ee||ce)&&D(se)},[M.value]),Pe=r==="popper"?$g:mb,De=Pe===$g?{side:u,sideOffset:h,align:p,alignOffset:m,arrowPadding:y,collisionBoundary:_,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:R}:{};return E.jsx(fb,{scope:n,content:F,viewport:H,onViewportChange:Z,itemRefCallback:ee,selectedItem:I,onItemLeave:we,itemTextRefCallback:ye,focusSelectedItem:de,selectedItemText:j,position:r,isPositioned:O,searchRef:ae,children:E.jsx(ib,{as:Ja,allowPinchZoom:!0,children:E.jsx(S1,{asChild:!0,trapped:M.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ze(s,se=>{var Ee;(Ee=M.trigger)==null||Ee.focus({preventScroll:!0}),se.preventDefault()}),children:E.jsx(x1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:E.jsx(Pe,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:se=>se.preventDefault(),...k,...De,onPlaced:()=>ge(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ze(k.onKeyDown,se=>{const Ee=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ee&&se.key.length===1&&q(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ce=U().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ve=se.target,Fe=ce.indexOf(Ve);ce=ce.slice(Fe+1)}setTimeout(()=>fe(ce)),se.preventDefault()}})})})})})})});pb.displayName=iB;var sB="SelectItemAlignedPosition",mb=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,a=Fs(bo,n),l=Us(bo,n),[u,h]=b.useState(null),[p,m]=b.useState(null),y=xt(e,P=>m(P)),_=Ef(n),T=b.useRef(!1),C=b.useRef(!0),{viewport:S,selectedItem:R,selectedItemText:k,focusSelectedItem:M}=l,F=b.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&p&&S&&R&&k){const P=a.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),j=k.getBoundingClientRect();if(a.dir!=="rtl"){const Ve=j.left-I.left,Fe=V.left-Ve,ht=P.left-Fe,Nt=P.width+ht,gn=Math.max(Nt,I.width),yn=window.innerWidth-hr,un=Jx(Fe,[hr,Math.max(hr,yn-gn)]);u.style.minWidth=Nt+"px",u.style.left=un+"px"}else{const Ve=I.right-j.right,Fe=window.innerWidth-V.right-Ve,ht=window.innerWidth-P.right-Fe,Nt=P.width+ht,gn=Math.max(Nt,I.width),yn=window.innerWidth-hr,un=Jx(Fe,[hr,Math.max(hr,yn-gn)]);u.style.minWidth=Nt+"px",u.style.right=un+"px"}const D=_(),U=window.innerHeight-hr*2,O=S.scrollHeight,ge=window.getComputedStyle(p),be=parseInt(ge.borderTopWidth,10),fe=parseInt(ge.paddingTop,10),de=parseInt(ge.borderBottomWidth,10),$=parseInt(ge.paddingBottom,10),le=be+fe+O+$+de,ae=Math.min(R.offsetHeight*5,le),q=window.getComputedStyle(S),ee=parseInt(q.paddingTop,10),we=parseInt(q.paddingBottom,10),ye=P.top+P.height/2-hr,Pe=U-ye,De=R.offsetHeight/2,se=R.offsetTop+De,Ee=be+fe+se,Y=le-Ee;if(Ee<=ye){const Ve=D.length>0&&R===D[D.length-1].ref.current;u.style.bottom="0px";const Fe=p.clientHeight-S.offsetTop-S.offsetHeight,ht=Math.max(Pe,De+(Ve?we:0)+Fe+de),Nt=Ee+ht;u.style.height=Nt+"px"}else{const Ve=D.length>0&&R===D[0].ref.current;u.style.top="0px";const ht=Math.max(ye,be+S.offsetTop+(Ve?ee:0)+De)+Y;u.style.height=ht+"px",S.scrollTop=Ee-ye+S.offsetTop}u.style.margin=`${hr}px 0`,u.style.minHeight=ae+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[_,a.trigger,a.valueNode,u,p,S,R,k,a.dir,r]);mn(()=>F(),[F]);const[W,H]=b.useState();mn(()=>{p&&H(window.getComputedStyle(p).zIndex)},[p]);const Z=b.useCallback(P=>{P&&C.current===!0&&(F(),M==null||M(),C.current=!1)},[F,M]);return E.jsx(aB,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:Z,children:E.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:E.jsx(nt.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mb.displayName=sB;var oB="SelectPopperPosition",$g=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=hr,...a}=t,l=xf(n);return E.jsx(oz,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$g.displayName=oB;var[aB,Nv]=ml(bo,{}),Wg="SelectViewport",gb=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,a=Us(Wg,n),l=Nv(Wg,n),u=xt(e,a.onViewportChange),h=b.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(_f.Slot,{scope:n,children:E.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ze(s.onScroll,p=>{const m=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:_}=l;if(_!=null&&_.current&&y){const T=Math.abs(h.current-m.scrollTop);if(T>0){const C=window.innerHeight-hr*2,S=parseFloat(y.style.minHeight),R=parseFloat(y.style.height),k=Math.max(S,R);if(k<C){const M=k+T,F=Math.min(C,M),W=M-F;y.style.height=F+"px",y.style.bottom==="0px"&&(m.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});gb.displayName=Wg;var yb="SelectGroup",[lB,cB]=ml(yb),uB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ff();return E.jsx(lB,{scope:n,id:s,children:E.jsx(nt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});uB.displayName=yb;var vb="SelectLabel",dB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=cB(vb,n);return E.jsx(nt.div,{id:s.id,...r,ref:e})});dB.displayName=vb;var $h="SelectItem",[hB,wb]=ml($h),_b=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...l}=t,u=Fs($h,n),h=Us($h,n),p=u.value===r,[m,y]=b.useState(a??""),[_,T]=b.useState(!1),C=xt(e,M=>{var F;return(F=h.itemRefCallback)==null?void 0:F.call(h,M,r,s)}),S=ff(),R=b.useRef("touch"),k=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(hB,{scope:n,value:r,disabled:s,textId:S,isSelected:p,onItemTextChange:b.useCallback(M=>{y(F=>F||((M==null?void 0:M.textContent)??"").trim())},[]),children:E.jsx(_f.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:E.jsx(nt.div,{role:"option","aria-labelledby":S,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Ze(l.onFocus,()=>T(!0)),onBlur:Ze(l.onBlur,()=>T(!1)),onClick:Ze(l.onClick,()=>{R.current!=="mouse"&&k()}),onPointerUp:Ze(l.onPointerUp,()=>{R.current==="mouse"&&k()}),onPointerDown:Ze(l.onPointerDown,M=>{R.current=M.pointerType}),onPointerMove:Ze(l.onPointerMove,M=>{var F;R.current=M.pointerType,s?(F=h.onItemLeave)==null||F.call(h):R.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(l.onPointerLeave,M=>{var F;M.currentTarget===document.activeElement&&((F=h.onItemLeave)==null||F.call(h))}),onKeyDown:Ze(l.onKeyDown,M=>{var W;((W=h.searchRef)==null?void 0:W.current)!==""&&M.key===" "||(Xz.includes(M.key)&&k(),M.key===" "&&M.preventDefault())})})})})});_b.displayName=$h;var wc="SelectItemText",Eb=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...a}=t,l=Fs(wc,n),u=Us(wc,n),h=wb(wc,n),p=tB(wc,n),[m,y]=b.useState(null),_=xt(e,k=>y(k),h.onItemTextChange,k=>{var M;return(M=u.itemTextRefCallback)==null?void 0:M.call(u,k,h.value,h.disabled)}),T=m==null?void 0:m.textContent,C=b.useMemo(()=>E.jsx("option",{value:h.value,disabled:h.disabled,children:T},h.value),[h.disabled,h.value,T]),{onNativeOptionAdd:S,onNativeOptionRemove:R}=p;return mn(()=>(S(C),()=>R(C)),[S,R,C]),E.jsxs(E.Fragment,{children:[E.jsx(nt.span,{id:h.textId,...a,ref:_}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?du.createPortal(a.children,l.valueNode):null]})});Eb.displayName=wc;var xb="SelectItemIndicator",Tb=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wb(xb,n).isSelected?E.jsx(nt.span,{"aria-hidden":!0,...r,ref:e}):null});Tb.displayName=xb;var qg="SelectScrollUpButton",Sb=b.forwardRef((t,e)=>{const n=Us(qg,t.__scopeSelect),r=Nv(qg,t.__scopeSelect),[s,a]=b.useState(!1),l=xt(e,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?E.jsx(Ab,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});Sb.displayName=qg;var Hg="SelectScrollDownButton",Ib=b.forwardRef((t,e)=>{const n=Us(Hg,t.__scopeSelect),r=Nv(Hg,t.__scopeSelect),[s,a]=b.useState(!1),l=xt(e,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<p;a(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?E.jsx(Ab,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});Ib.displayName=Hg;var Ab=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,a=Us("SelectScrollButton",n),l=b.useRef(null),u=Ef(n),h=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),mn(()=>{var m;const p=u().find(y=>y.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),E.jsx(nt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ze(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ze(s.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ze(s.onPointerLeave,()=>{h()})})}),fB="SelectSeparator",Cb=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E.jsx(nt.div,{"aria-hidden":!0,...r,ref:e})});Cb.displayName=fB;var Kg="SelectArrow",pB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xf(n),a=Fs(Kg,n),l=Us(Kg,n);return a.open&&l.position==="popper"?E.jsx(az,{...s,...r,ref:e}):null});pB.displayName=Kg;function bb(t){return t===""||t===void 0}var kb=b.forwardRef((t,e)=>{const{value:n,...r}=t,s=b.useRef(null),a=xt(e,s),l=wv(n);return b.useEffect(()=>{const u=s.current,h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==n&&m){const y=new Event("change",{bubbles:!0});m.call(u,n),u.dispatchEvent(y)}},[l,n]),E.jsx(Q1,{asChild:!0,children:E.jsx("select",{...r,ref:a,defaultValue:n})})});kb.displayName="BubbleSelect";function Pb(t){const e=Xr(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(l=>{const u=n.current+l;e(u),(function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function Rb(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=mB(t,Math.max(a,0));s.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function mB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gB=sb,yB=ab,vB=cb,wB=ub,_B=db,EB=hb,xB=gb,TB=_b,SB=Eb,IB=Tb,AB=Sb,CB=Ib,bB=Cb;function Nb({...t}){return E.jsx(gB,{"data-slot":"select",...t})}function Db({...t}){return E.jsx(vB,{"data-slot":"select-value",...t})}function Vb({className:t,size:e="default",children:n,...r}){return E.jsxs(yB,{"data-slot":"select-trigger","data-size":e,className:Cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,E.jsx(wB,{asChild:!0,children:E.jsx(Cy,{className:"size-4 opacity-50"})})]})}function Mb({className:t,children:e,position:n="popper",...r}){return E.jsx(_B,{children:E.jsxs(EB,{"data-slot":"select-content",className:Cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[E.jsx(PB,{}),E.jsx(xB,{className:Cn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),E.jsx(RB,{})]})})}function Rc({className:t,children:e,...n}){return E.jsxs(TB,{"data-slot":"select-item",className:Cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[E.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:E.jsx(IB,{children:E.jsx(cI,{className:"size-4"})})}),E.jsx(SB,{children:e})]})}function kB({className:t,...e}){return E.jsx(bB,{"data-slot":"select-separator",className:Cn("bg-border pointer-events-none -mx-1 my-1 h-px",t),...e})}function PB({className:t,...e}){return E.jsx(AB,{"data-slot":"select-scroll-up-button",className:Cn("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(uI,{className:"size-4"})})}function RB({className:t,...e}){return E.jsx(CB,{"data-slot":"select-scroll-down-button",className:Cn("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(Cy,{className:"size-4"})})}const xT=["Hong Kong","Singapore","Bangkok, Thailand","Bali, Indonesia","Shanghai, China","Tokyo, Japan","London, UK","Paris, France","New York, USA","Los Angeles, USA","Mexico City, Mexico","Berlin, Germany"],TT=["Abidjan, Ivory Coast","Accra, Ghana","Addis Ababa, Ethiopia","Adelaide, Australia","Ahmedabad, India","Albuquerque, USA","Alexandria, Egypt","Algiers, Algeria","Almaty, Kazakhstan","Amman, Jordan","Amsterdam, Netherlands","Ankara, Turkey","Athens, Greece","Atlanta, USA","Auckland, New Zealand","Austin, USA","Baghdad, Iraq","Baku, Azerbaijan","Baltimore, USA","Bandung, Indonesia","Bangalore, India","Barcelona, Spain","Barranquilla, Colombia","Beijing, China","Beirut, Lebanon","Belfast, UK","Belgrade, Serbia","Belo Horizonte, Brazil","Birmingham, UK","Bogot, Colombia","Boston, USA","Bratislava, Slovakia","Braslia, Brazil","Brisbane, Australia","Brussels, Belgium","Bucharest, Romania","Budapest, Hungary","Buenos Aires, Argentina","Busan, South Korea","Cairo, Egypt","Calgary, Canada","Cali, Colombia","Canberra, Australia","Cape Town, South Africa","Caracas, Venezuela","Casablanca, Morocco","Charlotte, USA","Chennai, India","Chengdu, China","Chicago, USA","Chongqing, China","Christchurch, New Zealand","Cincinnati, USA","Cleveland, USA","Colombo, Sri Lanka","Columbus, USA","Copenhagen, Denmark","Crdoba, Argentina","Curitiba, Brazil","Dakar, Senegal","Dallas, USA","Damascus, Syria","Dar es Salaam, Tanzania","Delhi, India","Denver, USA","Detroit, USA","Dhaka, Bangladesh","Dubai, UAE","Dublin, Ireland","Durban, South Africa","Edinburgh, UK","Edmonton, Canada","El Paso, USA","Fortaleza, Brazil","Fort Worth, USA","Frankfurt, Germany","Fresno, USA","Geneva, Switzerland","Glasgow, UK","Gold Coast, Australia","Guadalajara, Mexico","Guangzhou, China","Guayaquil, Ecuador","Guatemala City, Guatemala","Hamburg, Germany","Hanoi, Vietnam","Havana, Cuba","Helsinki, Finland","Ho Chi Minh City, Vietnam","Houston, USA","Hyderabad, India","Indianapolis, USA","Isfahan, Iran","Istanbul, Turkey","Jacksonville, USA","Jakarta, Indonesia","Jeddah, Saudi Arabia","Jerusalem, Israel","Johannesburg, South Africa","Kabul, Afghanistan","Kampala, Uganda","Kansas City, USA","Karachi, Pakistan","Kathmandu, Nepal","Khartoum, Sudan","Kinshasa, DR Congo","Kolkata, India","Kuala Lumpur, Malaysia","Kuwait City, Kuwait","Kyiv, Ukraine","Kyoto, Japan","Lagos, Nigeria","Lahore, Pakistan","La Paz, Bolivia","Las Vegas, USA","Lima, Peru","Lisbon, Portugal","Liverpool, UK","Luanda, Angola","Lyon, France","Madrid, Spain","Manchester, UK","Marseille, France","Mecca, Saudi Arabia","Medelln, Colombia","Medina, Saudi Arabia","Melbourne, Australia","Memphis, USA","Mesa, USA","Miami, USA","Milan, Italy","Milwaukee, USA","Minneapolis, USA","Minsk, Belarus","Monterrey, Mexico","Montreal, Canada","Montevideo, Uruguay","Moscow, Russia","Mumbai, India","Munich, Germany","Nagoya, Japan","Nairobi, Kenya","Naples, Italy","Nashville, USA","New Delhi, India","New Orleans, USA","Oakland, USA","Oklahoma City, USA","Omaha, USA","Osaka, Japan","Oslo, Norway","Ottawa, Canada","Panama City, Panama","Perth, Australia","Philadelphia, USA","Phnom Penh, Cambodia","Phoenix, USA","Pittsburgh, USA","Portland, USA","Porto Alegre, Brazil","Prague, Czech Republic","Pretoria, South Africa","Pune, India","Pyongyang, North Korea","Quito, Ecuador","Raleigh, USA","Recife, Brazil","Riga, Latvia","Rio de Janeiro, Brazil","Riyadh, Saudi Arabia","Rome, Italy","Rotterdam, Netherlands","Sacramento, USA","Saint Petersburg, Russia","Salvador, Brazil","San Antonio, USA","San Diego, USA","San Francisco, USA","San Jose, USA","San Juan, Puerto Rico","San Salvador, El Salvador","Santiago, Chile","Santo Domingo, Dominican Republic","So Paulo, Brazil","Seattle, USA","Seoul, South Korea","Shenzhen, China","Sofia, Bulgaria","Stockholm, Sweden","Surabaya, Indonesia","Surat, India","Sydney, Australia","Taipei, Taiwan","Tallinn, Estonia","Tampa, USA","Tashkent, Uzbekistan","Tegucigalpa, Honduras","Tehran, Iran","Tel Aviv, Israel","Tianjin, China","Toronto, Canada","Tucson, USA","Turin, Italy","Valencia, Spain","Vancouver, Canada","Vienna, Austria","Vilnius, Lithuania","Virginia Beach, USA","Warsaw, Poland","Washington DC, USA","Wellington, New Zealand","Winnipeg, Canada","Wuhan, China","Xi'an, China","Yangon, Myanmar","Yerevan, Armenia","Zagreb, Croatia","Zurich, Switzerland"],jm=6;function NB({onSubmit:t}){const[e,n]=b.useState(1),[r,s]=b.useState(!1),[a,l]=b.useState(0),[u,h]=b.useState({}),[p,m]=b.useState(!0),[y,_]=b.useState(""),[T,C]=b.useState(""),[S,R]=b.useState(""),[k,M]=b.useState(""),[F,W]=b.useState(!1),[H,Z]=b.useState(""),[P,I]=b.useState(null),[V,j]=b.useState(!0),[D,U]=b.useState({firstName:"",lastName:"",email:"",phone:"",location:"",roleTypes:[],creativeWork:"",betaTesting:"",resonanceLevel:"",resonanceReasons:[],communitySelections:[]});b.useEffect(()=>{(async()=>{try{if(Pc.currentUser)I(Pc.currentUser.uid),console.log("User already authenticated:",Pc.currentUser.uid);else{const ce=await $3();I(ce.uid),console.log("User authenticated:",ce.uid)}}catch(ce){console.error("Failed to authenticate:",ce)}finally{j(!1)}})()},[]);const O=(Y,ce)=>{U(Ve=>({...Ve,[Y]:ce})),u[Y]&&h(Ve=>({...Ve,[Y]:""}))},ge=Y=>{const ce=D.roleTypes,Ve=ce.includes(Y)?ce.filter(Fe=>Fe!==Y):[...ce,Y];O("roleTypes",Ve)},be=["Alex","Jordan","Taylor","Morgan","Casey","Riley","Avery","Quinn","Dakota","Skyler"],fe=["Chen","Martinez","Anderson","Williams","Johnson","Garcia","Brown","Davis","Rodriguez","Wilson"],de=["I'm a digital artist creating surreal landscapes and abstract compositions","I'm a musician and producer working on experimental electronic music","I'm a visual designer specializing in brand identity and motion graphics","I'm a photographer focusing on urban documentary and street photography","I'm a writer crafting short fiction and creative essays about technology and culture","I'm a performance artist exploring themes of identity and connection","I'm a graphic designer and illustrator working on editorial and publishing projects"],$=()=>{const Y=ce=>ce[Math.floor(Math.random()*ce.length)];switch(e){case 1:U(je=>({...je,firstName:Y(be),lastName:Y(fe),email:`${Y(be).toLowerCase()}${Math.floor(Math.random()*1e3)}@example.com`}));break;case 2:U(je=>({...je,phone:`+1 (${Math.floor(Math.random()*900)+100}) ${Math.floor(Math.random()*900)+100}-${Math.floor(Math.random()*9e3)+1e3}`,location:Y([...xT,...TT])}));break;case 3:const ce=["artist-musician-performer","creative-professional","curator-cultural-institution","community-builder","explorer","catalyst"],Ve=Math.floor(Math.random()*2)+1,Fe=[];for(let je=0;je<Ve;je++){const rt=Y(ce.filter($t=>!Fe.includes($t)));Fe.push(rt)}U(je=>({...je,roleTypes:Fe,creativeWork:Y(de)}));break;case 4:U(je=>({...je,betaTesting:Y(["yes","no"])}));break;case 5:const ht=["control","connection","expression","privacy","community","freedom"],Nt=Math.floor(Math.random()*3)+2,gn=[];for(let je=0;je<Nt;je++){const rt=Y(ht.filter($t=>!gn.includes($t)));gn.push(rt)}U(je=>({...je,resonanceLevel:String(Math.floor(Math.random()*5)+1),resonanceReasons:gn}));break;case 6:const yn=["asia","willer"],un=Math.random()>.3?Math.floor(Math.random()*2)+1:0,er=[];for(let je=0;je<un;je++){const rt=Y(yn.filter($t=>!er.includes($t)));er.push(rt)}U(je=>({...je,communitySelections:er}));break}h({})},le=Y=>{const ce={};switch(Y){case 1:D.firstName.trim()||(ce.firstName="Please enter your given name"),D.lastName.trim()||(ce.lastName="Please enter your last name"),D.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.email)||(ce.email="Please enter a valid email"):ce.email="Please enter your email";break;case 2:D.phone.trim()||(ce.phone="Please enter your phone number"),D.location||(ce.location="Please select your location");break;case 3:D.creativeWork.trim()||(ce.creativeWork="Please describe your creative work");break;case 4:D.betaTesting||(ce.betaTesting="Please select an option");break;case 5:D.resonanceLevel||(ce.resonanceLevel="Please rate your resonance with Kyozo"),D.resonanceLevel&&D.resonanceReasons.length===0&&(ce.resonanceReasons="Please select at least one reason for your rating");break}return h(ce),Object.keys(ce).length===0},ae=()=>{le(e)&&(e<jm?n(e+1):ee())},q=()=>{e>1&&n(e-1)},ee=async()=>{if(!P){console.error("User not authenticated"),alert("Please wait for authentication to complete");return}try{const Y={userId:P,firstName:D.firstName,lastName:D.lastName,email:D.email,phone:D.phone,location:D.location,roleTypes:D.roleTypes,creativeWork:D.creativeWork,segments:[],artistQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},communityQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},productFeedbackSurvey:D.betaTesting,resonanceLevel:D.resonanceLevel,resonanceReasons:D.resonanceReasons,communitySelections:D.communitySelections};console.log("Saving to Firestore...");const ce=await W3(Y);console.log("Submission saved with ID:",ce),t({id:ce,timestamp:new Date().toISOString(),...D}),s(!0)}catch(Y){console.error("Error submitting form:",Y),alert("Failed to submit form. Please try again.")}},we=()=>{y.trim().toUpperCase()==="KYOZO2026"?(m(!1),C("")):C("Invalid passcode. Please check and try again.")},ye=()=>{!k.trim()||!S.trim()||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S)&&(console.log("Waitlist request submitted:",{name:k,email:S,creativeWork:H}),W(!0))},Pe=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),ae())},De=()=>{l(1),ae()},se=()=>{l(-1),q()},Ee={enter:Y=>({x:Y>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:Y=>({x:Y<0?1e3:-1e3,opacity:0})};return r?E.jsx(T6,{}):p?E.jsxs("div",{className:"w-full max-w-3xl mx-auto px-4",children:[E.jsx(pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12 text-center",children:E.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl text-foreground font-normal leading-tight handwritten colored-pencil",children:"Kyozo... a game changer for Creatives"})}),E.jsx(pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12 bg-gradient-to-br from-purple-50 to-pink-50 rounded-3xl p-8 md:p-10 text-foreground shadow-sm border border-purple-100/50",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-4",children:E.jsx(Jd,{className:"w-12 h-12 text-[var(--kyozo-secondary)]"})}),E.jsx("h2",{className:"text-2xl md:text-3xl text-[var(--kyozo-secondary)] mb-4 font-normal",children:"Private Beta Access"}),E.jsx("p",{className:"text-base leading-relaxed text-muted-foreground",children:"Kyozo operates a private invitation system for access to the platform in beta version. Please enter the passcode you were given to access the sign-up form."})]})}),E.jsxs(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-16 p-8 bg-white rounded-2xl shadow-lg border-2 border-border",children:[E.jsx("h3",{className:"text-xl md:text-2xl mb-6 text-center font-semibold",children:"Enter Your Passcode"}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(Fr,{type:"text",placeholder:"Enter passcode",value:y,onChange:Y=>{_(Y.target.value),C("")},onKeyPress:Y=>{Y.key==="Enter"&&we()},className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors text-center uppercase tracking-wider"}),T&&E.jsx("p",{className:"text-destructive text-sm text-center",children:T}),E.jsx(In,{onClick:we,className:"w-full h-14 text-lg bg-gradient-to-r from-[var(--kyozo-primary)] to-[var(--kyozo-secondary)] hover:opacity-90 transition-opacity",children:"Access Sign-Up Form"})]})]}),E.jsxs(pt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"relative mb-16",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t-2"})}),E.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:E.jsx("span",{className:"bg-background px-4 text-muted-foreground font-semibold",children:"Or"})})]}),E.jsx(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"p-8 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-2xl border-2 border-cyan-100",children:F?E.jsxs("div",{className:"text-center py-8",children:[E.jsx("div",{className:"w-16 h-16 bg-[var(--kyozo-teal)] rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{d:"M5 13l4 4L19 7"})})}),E.jsx("h3",{className:"text-2xl font-semibold text-[var(--kyozo-teal)] mb-2",children:"Request Submitted!"}),E.jsx("p",{className:"text-muted-foreground",children:"Thank you for your interest. We'll review your request and be in touch soon."})]}):E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-xl md:text-2xl mb-4 text-center font-semibold text-[var(--kyozo-teal)]",children:"Request Waitlist Consideration"}),E.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"If you'd like to leave us your name and email to request consideration as part of our waitlist, input it here."}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"request-name",children:"Full Name *"}),E.jsx(Fr,{id:"request-name",placeholder:"Enter your full name",value:k,onChange:Y=>M(Y.target.value),className:"text-lg h-12 border-2 focus:border-[var(--kyozo-teal)] transition-colors"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"request-email",children:"Email Address *"}),E.jsx(Fr,{id:"request-email",type:"email",placeholder:"your@email.com",value:S,onChange:Y=>R(Y.target.value),onKeyPress:Y=>{Y.key==="Enter"&&ye()},className:"text-lg h-12 border-2 focus:border-[var(--kyozo-teal)] transition-colors"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"request-creative-work",children:"Creative work"}),E.jsx(Yx,{id:"request-creative-work",placeholder:"Tell us a bit more about your creative work to help support your application.",value:H,onChange:Y=>Z(Y.target.value),className:"text-lg min-h-[150px] border-2 focus:border-[var(--kyozo-teal)] transition-colors resize-none"})]}),E.jsx(In,{onClick:ye,disabled:!k.trim()||!S.trim(),className:"w-full h-12 text-base bg-[var(--kyozo-teal)] hover:opacity-90 transition-opacity",children:"Submit Request"})]})]})}),E.jsxs(pt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"flex items-center justify-center gap-2 mt-12 text-sm text-muted-foreground",children:[E.jsx(Jd,{className:"w-4 h-4"}),E.jsx("span",{children:"Private invitation-only access"})]})]}):E.jsxs("div",{className:"w-full max-w-3xl mx-auto px-4",children:[E.jsx(pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12 text-center",children:E.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl text-foreground font-normal leading-tight handwritten colored-pencil",children:"Kyozo... a game changer for Creatives"})}),E.jsx(pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12 bg-gradient-to-br from-cyan-50 to-blue-50 rounded-3xl p-8 md:p-10 text-foreground shadow-sm border border-cyan-100/50",children:E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl md:text-3xl text-[var(--kyozo-teal)] mb-4 font-normal",children:"You're Invited"}),E.jsx("p",{className:"text-base leading-relaxed text-muted-foreground mb-6",children:"We're excited to invite you to be among the first to experience the reimagined Kyozo, and if you are willing to help us beta test, we will give you six months of premium access."})]})}),E.jsx(x6,{currentStep:e,totalSteps:jm}),E.jsx("div",{className:"min-h-[450px] relative pb-8",children:E.jsx(CD,{mode:"wait",custom:a,children:E.jsxs(pt.div,{custom:a,variants:Ee,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"w-full",children:[e===1&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Welcome to Kyozo"}),E.jsx("p",{className:"text-muted-foreground",children:"Let's start with your basic information"})]}),E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10",children:"Fill Info"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"firstName",children:"Given Name *"}),E.jsx(Fr,{id:"firstName",placeholder:"Enter your given name",value:D.firstName,onChange:Y=>O("firstName",Y.target.value),onKeyPress:Pe,className:"text-base h-12"}),u.firstName&&E.jsx("p",{className:"text-destructive text-sm",children:u.firstName})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"lastName",children:"Last Name *"}),E.jsx(Fr,{id:"lastName",placeholder:"Enter your last name",value:D.lastName,onChange:Y=>O("lastName",Y.target.value),onKeyPress:Pe,className:"text-base h-12"}),u.lastName&&E.jsx("p",{className:"text-destructive text-sm",children:u.lastName})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"email",children:"Email Address *"}),E.jsx(Fr,{id:"email",type:"email",placeholder:"your@email.com",value:D.email,onChange:Y=>O("email",Y.target.value),onKeyPress:Pe,className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors"}),u.email&&E.jsx("p",{className:"text-destructive text-sm",children:u.email})]})]}),e===2&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Additional Information"}),E.jsx("p",{className:"text-muted-foreground",children:"We need a few more details to personalize your experience"})]}),E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10",children:"Fill Info"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"phone",children:"Phone Number *"}),E.jsx(Fr,{id:"phone",type:"tel",placeholder:"+1 (555) 000-0000",value:D.phone,onChange:Y=>O("phone",Y.target.value),onKeyPress:Pe,className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors"}),u.phone&&E.jsx("p",{className:"text-destructive text-sm",children:u.phone})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"location",children:"Location *"}),E.jsxs(Nb,{value:D.location,onValueChange:Y=>O("location",Y),children:[E.jsx(Vb,{className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors",children:E.jsx(Db,{placeholder:"Select your location"})}),E.jsxs(Mb,{className:"max-h-60",children:[xT.map(Y=>E.jsx(Rc,{value:Y,children:Y},Y)),E.jsx(kB,{}),TT.map(Y=>E.jsx(Rc,{value:Y,children:Y},Y))]})]}),u.location&&E.jsx("p",{className:"text-destructive text-sm",children:u.location})]})]}),e===3&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Tell us about your creative work"}),E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10",children:"Fill Info"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"p-6 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl border-2 border-teal-200",children:[E.jsx("h3",{className:"text-2xl font-semibold mb-2 text-[var(--kyozo-teal)]",children:"Which of these best describes you?"}),E.jsx("p",{className:"text-base text-gray-700",children:"We encourage you to select multiple items if more than one of these categories fits you."})]}),E.jsx("div",{className:"space-y-2",children:[{value:"artist-musician-performer",label:"Artist / Musician / Performer",description:"I make original workwhether visual art, music, performance, writing, or other creative expression"},{value:"creative-professional",label:"Creative Professional",description:"I bring ideas to life through design, storytelling, creative direction, or creative problem-solving"},{value:"curator-cultural-institution",label:"Curator/Cultural Institution",description:"I curate experiences, exhibitions, or programs that showcase and contextualize creative work"},{value:"community-builder",label:"Community Builder",description:"I gather and guide others, organize spaces, or curate experiences where people connect around creativity"},{value:"explorer",label:"Explorer",description:"I'm discovering my creative path and seeking my community"},{value:"catalyst",label:"Catalyst",description:"I operate at scale, building cultural institutions, organizing major events, or creating enterprises that amplify creative voices"}].map(Y=>E.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ge(Y.value),children:[E.jsx(bm,{id:`role-${Y.value}`,checked:D.roleTypes.includes(Y.value),onCheckedChange:()=>ge(Y.value),className:"mt-0.5"}),E.jsxs("div",{className:"flex-1 cursor-pointer grid grid-cols-[280px_1fr] gap-4 items-start",children:[E.jsxs(Sn,{htmlFor:`role-${Y.value}`,className:"font-semibold cursor-pointer",children:[Y.label,":"]}),E.jsx("div",{className:"text-sm text-muted-foreground font-normal",children:Y.description})]})]},Y.value))})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"creativeWork",children:"Please give us a short description of your creative work"}),E.jsx(Yx,{id:"creativeWork",placeholder:"I'm a graphic designer specializing in brand identity...",value:D.creativeWork,onChange:Y=>O("creativeWork",Y.target.value),className:"text-lg min-h-[150px] border-2 focus:border-[var(--kyozo-primary)] transition-colors resize-none"}),u.creativeWork&&E.jsx("p",{className:"text-destructive text-sm",children:u.creativeWork})]})]}),e===4&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Are you willing to help us beta test Kyozo?"}),E.jsx("p",{className:"text-muted-foreground text-base",children:"We are offering six months of premium access for free to those who help us test the platform."})]}),E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10 flex-shrink-0",children:"Fill Info"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs(m6,{value:D.betaTesting,onValueChange:Y=>O("betaTesting",Y),children:[E.jsxs("div",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg hover:border-[var(--kyozo-primary)] transition-colors cursor-pointer",children:[E.jsx(Xx,{value:"yes",id:"beta-yes"}),E.jsx(Sn,{htmlFor:"beta-yes",className:"flex-1 cursor-pointer text-lg",children:"Yes, count me in"})]}),E.jsxs("div",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg hover:border-[var(--kyozo-primary)] transition-colors cursor-pointer",children:[E.jsx(Xx,{value:"no",id:"beta-no"}),E.jsx(Sn,{htmlFor:"beta-no",className:"flex-1 cursor-pointer text-lg",children:"No, thank you"})]})]}),u.betaTesting&&E.jsx("p",{className:"text-destructive text-sm",children:u.betaTesting})]})]}),e===5&&E.jsxs("div",{className:"space-y-8",children:[E.jsx("div",{className:"flex items-center justify-end",children:E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10",children:"Fill Info"})}),E.jsxs("div",{className:"space-y-4 p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-100",children:[E.jsx("h2",{className:"text-2xl md:text-3xl text-[var(--kyozo-secondary)] font-semibold",children:"About Kyozo"}),E.jsxs("div",{className:"space-y-3 text-muted-foreground leading-relaxed",children:[E.jsx("p",{children:"Kyozo gives creatives control."}),E.jsx("p",{children:"Sharing work, building relationships, and engaging audiences on your terms."}),E.jsx("p",{children:"Express yourself across multiple formats, distribute on your own terms, connect with trusted witnesses who truly value what you create and whose feedback you seek."}),E.jsx("p",{children:"Built by creative professionals for creative professionals: Kyozo places creative work at the centre of our universe, challenging the extraction economy many social media platforms of today rely on."}),E.jsx("p",{children:"No need to leave your existing platforms, Kyozo integrates, making your life easier, not forcing replacement. Kyozo makes community management seamless, helping you understand your audience, connect authentically, and transform how you approach creative collaboration."}),E.jsx("p",{children:"Kyozo support the building of communities rooted in shared creative interests, free from algorithms and social pressures. Whether you're an individual artist, community leader, or large-scale organizer, Kyozo provides the foundation for authentic creative flourishing."})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl md:text-3xl mb-2",children:"How does Kyozo's vision resonate with you?"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Rate your excitement level from 1 (Low) to 5 (High)"})]}),E.jsx("div",{className:"space-y-3",children:[{value:"1",label:"1 - Not sure",description:"Not sure this fits with what I am working on"},{value:"2",label:"2 - Curious",description:"This is an interesting concept; want to learn more. Keep me posted."},{value:"3",label:"3 - Excited",description:"This addresses some challenges I've experienced, and I want to be kept up to date"},{value:"4",label:"4 - Essential",description:"I've been waiting for something exactly like this. Sign me up."},{value:"5",label:"5 - Urgent",description:"This is critical to my creative practiceI need this to exist"}].map(Y=>E.jsxs("div",{onClick:()=>O("resonanceLevel",Y.value),className:`
                          p-5 rounded-lg border-2 cursor-pointer transition-all
                          ${D.resonanceLevel===Y.value?"bg-gradient-to-br from-[var(--kyozo-primary)]/20 to-[var(--kyozo-secondary)]/20 border-[var(--kyozo-primary)] shadow-md":"border-border hover:border-[var(--kyozo-primary)]/50 hover:bg-muted/30"}
                        `,children:[E.jsx("div",{className:"font-semibold text-lg mb-1",children:Y.label}),E.jsx("div",{className:"text-sm text-muted-foreground",children:Y.description})]},Y.value))}),u.resonanceLevel&&E.jsx("p",{className:"text-destructive text-sm",children:u.resonanceLevel})]}),D.resonanceLevel&&E.jsxs(pt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl md:text-2xl mb-2",children:"Which aspects of Kyozo resonate most with you?"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"(select all that apply)"})]}),E.jsx("div",{className:"space-y-2",children:[{value:"gives-control",label:"Kyozo gives creatives control"},{value:"sharing-on-terms",label:"Sharing work, building relationships, and engaging audiences on your terms"},{value:"express-distribute",label:"Express yourself across multiple formats, distribute on your own terms"},{value:"trusted-witnesses",label:"Connect with trusted witnesses who truly value what you create and whose feedback you seek"},{value:"creative-centre",label:"Kyozo places creative work at the centre of our universe, challenging the extraction economy many social media platforms of today rely on"},{value:"integrates",label:"Kyozo integrates, making your life easier, not forcing replacement"},{value:"communities",label:"Support the building of communities rooted in shared creative interests, free from algorithms and social pressures"},{value:"all",label:"All of the abovethis entire vision speaks to me"}].map(Y=>E.jsx("div",{onClick:()=>{const ce=D.resonanceReasons.includes(Y.value)?D.resonanceReasons.filter(Ve=>Ve!==Y.value):[...D.resonanceReasons,Y.value];O("resonanceReasons",ce)},className:`
                            p-4 rounded-lg border-2 cursor-pointer transition-all
                            ${D.resonanceReasons.includes(Y.value)?"bg-gradient-to-br from-teal-50 to-cyan-100 border-[var(--kyozo-teal)] shadow-sm":"border-border hover:border-[var(--kyozo-teal)]/50 hover:bg-muted/30"}
                          `,children:E.jsx("div",{className:"text-base font-normal",children:Y.label})},Y.value))}),u.resonanceReasons&&E.jsx("p",{className:"text-destructive text-sm",children:u.resonanceReasons})]})]}),e===6&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-3xl md:text-4xl mb-3",children:"Kyozo is an eco-system of creative communities. Would you like to join any of these beta-communities?"}),E.jsx(In,{type:"button",variant:"outline",size:"sm",onClick:$,className:"text-[var(--kyozo-teal)] border-[var(--kyozo-teal)] hover:bg-[var(--kyozo-teal)]/10 flex-shrink-0",children:"Fill Info"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:`
                      p-6 rounded-xl border-2 cursor-pointer transition-all
                      ${D.communitySelections.includes("asia")?"border-[var(--kyozo-teal)] bg-[var(--kyozo-teal)]/5 shadow-md":"border-border hover:border-[var(--kyozo-teal)]/50"}
                    `,onClick:()=>{const Y=D.communitySelections.includes("asia")?D.communitySelections.filter(ce=>ce!=="asia"):[...D.communitySelections,"asia"];O("communitySelections",Y)},children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx(bm,{id:"community-asia",checked:D.communitySelections.includes("asia"),onCheckedChange:()=>{const Y=D.communitySelections.includes("asia")?D.communitySelections.filter(ce=>ce!=="asia"):[...D.communitySelections,"asia"];O("communitySelections",Y)},className:"mt-1"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("h3",{className:"text-xl font-semibold",children:"Creative-Entrepreneurs : Asia"}),E.jsx("span",{className:"px-3 py-1 bg-[var(--kyozo-teal)] text-white text-xs rounded-full font-medium",children:"Community"})]}),E.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We will share relevant opportunities, connections, and resources tailored to creative entrepreneurs in Asia."})]})]})}),E.jsx("div",{className:`
                      p-6 rounded-xl border-2 cursor-pointer transition-all
                      ${D.communitySelections.includes("willer")?"border-[var(--kyozo-secondary)] bg-[var(--kyozo-secondary)]/5 shadow-md":"border-border hover:border-[var(--kyozo-secondary)]/50"}
                    `,onClick:()=>{const Y=D.communitySelections.includes("willer")?D.communitySelections.filter(ce=>ce!=="willer"):[...D.communitySelections,"willer"];O("communitySelections",Y)},children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx(bm,{id:"community-willer",checked:D.communitySelections.includes("willer"),onCheckedChange:()=>{const Y=D.communitySelections.includes("willer")?D.communitySelections.filter(ce=>ce!=="willer"):[...D.communitySelections,"willer"];O("communitySelections",Y)},className:"mt-1"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("h3",{className:"text-xl font-semibold",children:"Willer"}),E.jsx("span",{className:"px-3 py-1 bg-[var(--kyozo-secondary)] text-white text-xs rounded-full font-medium",children:"Artist/Creative"})]}),E.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Kyozo founder Willer will share his research into creativity, artistic expression, music, and the history of human experience."})]})]})})]}),E.jsx("div",{className:"p-4 bg-muted/50 rounded-lg border border-border",children:E.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Kyozo communities contain no group chats, full privacy settings which are defaulted to invisible, so no one will be able to reach you without your consent"})})]})]},e)})}),E.jsxs(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex justify-between items-center mt-12 pt-6 border-t",children:[E.jsxs(In,{variant:"ghost",onClick:se,disabled:e===1,className:"group",children:[E.jsx(F2,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back"]}),E.jsxs(In,{onClick:De,className:"bg-gradient-to-r from-[var(--kyozo-primary)] to-[var(--kyozo-secondary)] hover:opacity-90 transition-opacity group px-8",children:[e===jm?"Submit":"Next",E.jsx(z2,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),E.jsxs(pt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center justify-center gap-2 mt-8 text-sm text-muted-foreground",children:[E.jsx(Jd,{className:"w-4 h-4"}),E.jsx("span",{children:"Private invitation-only access"})]})]})}function DB({onAuthenticate:t,onCancel:e}){const[n,r]=b.useState(""),[s,a]=b.useState(""),[l,u]=b.useState(""),[h,p]=b.useState(!1),[m,y]=b.useState(!1),_=async T=>{T.preventDefault(),y(!0),u("");try{await XO(Pc,n,s),console.log("Admin authenticated successfully"),t()}catch(C){console.error("Admin login error:",C),C.code==="auth/invalid-credential"||C.code==="auth/wrong-password"?u("Invalid email or password. Please try again."):C.code==="auth/user-not-found"?u("No admin account found with this email."):C.code==="auth/too-many-requests"?u("Too many failed attempts. Please try again later."):u("Authentication failed. Please try again."),a("")}finally{y(!1)}};return E.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs(pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[var(--kyozo-primary)] to-[var(--kyozo-secondary)] rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Jd,{className:"w-8 h-8 text-white"})}),E.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Admin Access"}),E.jsx("p",{className:"text-muted-foreground",children:"Sign in with your admin credentials"})]}),E.jsxs("form",{onSubmit:_,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"admin-email",children:"Email"}),E.jsx(Fr,{id:"admin-email",type:"email",placeholder:"admin@kyozo.com",value:n,onChange:T=>{r(T.target.value),u("")},className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors",autoFocus:!0,required:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Sn,{htmlFor:"admin-password",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(Fr,{id:"admin-password",type:h?"text":"password",placeholder:"Enter admin password",value:s,onChange:T=>{a(T.target.value),u("")},className:"text-lg h-14 border-2 focus:border-[var(--kyozo-primary)] transition-colors pr-12",required:!0}),E.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?E.jsx(J2,{className:"w-5 h-5"}):E.jsx(eV,{className:"w-5 h-5"})})]}),l&&E.jsx(pt.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-destructive text-sm",children:l})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx(In,{type:"button",variant:"outline",onClick:e,className:"flex-1 h-12 text-base",children:"Cancel"}),E.jsx(In,{type:"submit",disabled:m,className:"flex-1 h-12 text-base bg-gradient-to-r from-[var(--kyozo-primary)] to-[var(--kyozo-secondary)] hover:opacity-90 transition-opacity disabled:opacity-50",children:m?"Signing in...":"Access Dashboard"})]})]}),E.jsx("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:E.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" This area is password protected for authorized personnel only"})})]})})}function VB({onClose:t}){const[e,n]=b.useState([]),[r,s]=b.useState(!0),[a,l]=b.useState(""),[u,h]=b.useState("all"),[p,m]=b.useState(new Set);b.useEffect(()=>{(async()=>{try{console.log("Fetching submissions from Firestore...");const M=await q3();console.log("Fetched submissions:",M),n(M)}catch(M){console.error("Error fetching submissions:",M),alert("Failed to load submissions. Please refresh the page.")}finally{s(!1)}})()},[]);const y=k=>{const M=new Set(p);M.has(k)?M.delete(k):M.add(k),m(M)},_=e.filter(k=>{const M=a===""||k.firstName.toLowerCase().includes(a.toLowerCase())||k.lastName.toLowerCase().includes(a.toLowerCase())||k.email.toLowerCase().includes(a.toLowerCase())||k.location.toLowerCase().includes(a.toLowerCase()),F=u==="all"||k.segments.includes(u);return M&&F}),T=()=>{const k=["Timestamp","First Name","Last Name","Email","Phone","Location","Role Types","Creative Work","Segments","Artist Q1","Artist Q2","Artist Q3","Artist Q4","Artist Q5","Community Q1","Community Q2","Community Q3","Community Q4","Community Q5","Product Feedback Survey","Resonance Level","Resonance Reasons","Beta Communities"],M=e.map(P=>[P.timestamp,P.firstName,P.lastName,P.email,P.phone,P.location,P.roleTypes.join("; "),`"${P.creativeWork.replace(/"/g,'""')}"`,P.segments.join("; "),P.artistQuestions.q1,P.artistQuestions.q2,P.artistQuestions.q3,P.artistQuestions.q4,P.artistQuestions.q5,P.communityQuestions.q1,P.communityQuestions.q2,P.communityQuestions.q3,P.communityQuestions.q4,P.communityQuestions.q5,P.productFeedbackSurvey,P.resonanceLevel,P.resonanceReasons.join("; "),P.communitySelections.join("; ")]),F=[k.join(","),...M.map(P=>P.join(","))].join(`
`),W=new Blob([F],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),Z=URL.createObjectURL(W);H.setAttribute("href",Z),H.setAttribute("download",`kyozo-waitlist-${new Date().toISOString().split("T")[0]}.csv`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H)},C=k=>({"strongly-disagree":"Strongly Disagree",disagree:"Disagree",neutral:"Neutral",agree:"Agree","strongly-agree":"Strongly Agree"})[k]||k,S=k=>({1:"1 - Curious",2:"2 - Intrigued",3:"3 - Excited",4:"4 - Eager",5:"5 - Essential"})[k]||k,R=k=>({control:"Control over creative work",relationships:"Authentic relationships","safe-space":"Safe creative space","community-tools":"Community tools",freedom:"Freedom from platform pressures","long-term":"Long-term creative flourishing",all:"All of the above"})[k]||k;return r?E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600",children:"Loading submissions..."})]})}):E.jsx("div",{className:"min-h-screen bg-gray-50",children:E.jsxs(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:[E.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-[var(--kyozo-primary)] to-[var(--kyozo-secondary)] text-white p-6 z-10 shadow-lg",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(hE,{className:"w-8 h-8"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),E.jsx("p",{className:"text-white/80 text-sm",children:"Kyozo Waitlist Submissions"})]})]}),E.jsx(In,{onClick:t,variant:"ghost",className:"text-white hover:bg-white/20",children:E.jsx(hV,{className:"w-6 h-6"})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[E.jsx("p",{className:"text-white/70 text-sm",children:"Total Submissions"}),E.jsx("p",{className:"text-3xl font-bold",children:e.length})]}),E.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[E.jsx("p",{className:"text-white/70 text-sm",children:"Artists / Creatives"}),E.jsx("p",{className:"text-3xl font-bold",children:e.filter(k=>{var M,F;return((M=k.segments)==null?void 0:M.includes("artist"))||((F=k.roleTypes)==null?void 0:F.some(W=>W.includes("artist")))}).length})]}),E.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[E.jsx("p",{className:"text-white/70 text-sm",children:"Community Leaders"}),E.jsx("p",{className:"text-3xl font-bold",children:e.filter(k=>{var M,F;return((M=k.segments)==null?void 0:M.includes("community"))||((F=k.roleTypes)==null?void 0:F.some(W=>W.includes("community")))}).length})]})]})]})}),E.jsx("div",{className:"p-6 border-b bg-white shadow-sm",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[E.jsxs("div",{className:"flex-1 relative",children:[E.jsx(sV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx(Fr,{placeholder:"Search by name, email, or location...",value:a,onChange:k=>l(k.target.value),className:"pl-10 h-12"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Nb,{value:u,onValueChange:h,children:[E.jsxs(Vb,{className:"w-[200px] h-12",children:[E.jsx(nV,{className:"w-4 h-4 mr-2"}),E.jsx(Db,{placeholder:"Filter by segment"})]}),E.jsxs(Mb,{children:[E.jsx(Rc,{value:"all",children:"All Segments"}),E.jsx(Rc,{value:"artist",children:"Artists / Creatives"}),E.jsx(Rc,{value:"community",children:"Community Leaders"})]})]}),E.jsxs(In,{onClick:T,className:"bg-[var(--kyozo-teal)] hover:opacity-90 h-12",children:[E.jsx(Y2,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),E.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Showing ",_.length," of ",e.length," submissions"]})]})}),E.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:_.length===0?E.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[E.jsx(hE,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),E.jsx("p",{className:"text-xl text-muted-foreground",children:"No submissions found"}),E.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.length===0?"Submissions will appear here once users complete the waitlist form":"Try adjusting your search or filter criteria"})]}):E.jsx("div",{className:"space-y-4",children:_.map(k=>E.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"p-4 bg-white cursor-pointer hover:bg-gray-50",onClick:()=>y(k.id),children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Name"}),E.jsxs("p",{className:"font-semibold",children:[k.firstName," ",k.lastName]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),E.jsx("p",{className:"text-sm",children:k.email})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Location"}),E.jsx("p",{className:"text-sm",children:k.location})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Segments"}),E.jsx("div",{className:"flex gap-1 flex-wrap",children:k.segments.map(M=>E.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M==="artist"?"bg-purple-100 text-purple-700":"bg-cyan-100 text-cyan-700"}`,children:M==="artist"?"Artist":"Community"},M))})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Submitted"}),E.jsx("p",{className:"text-sm",children:new Date(k.timestamp).toLocaleDateString()})]})]}),E.jsx("div",{className:"ml-4",children:p.has(k.id)?E.jsx(uI,{className:"w-5 h-5 text-gray-400"}):E.jsx(Cy,{className:"w-5 h-5 text-gray-400"})})]})}),p.has(k.id)&&E.jsx(pt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t bg-gray-50",children:E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Contact Information"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:E.jsxs("div",{children:[E.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",E.jsx("span",{className:"font-medium",children:k.phone||"Not provided"})]})})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Role Types"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:k.roleTypes.map(M=>E.jsx("span",{className:"px-3 py-1 bg-white border rounded-full text-sm",children:M},M))})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Creative Work Description"}),E.jsx("p",{className:"text-sm bg-white p-4 rounded-lg border leading-relaxed",children:k.creativeWork})]}),k.segments.includes("artist")&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-secondary)]",children:"Artist / Creative Questions"}),E.jsxs("div",{className:"space-y-3 bg-white p-4 rounded-lg border",children:[E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I want to grow my audience and monetise more authentically."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-secondary)]",children:C(k.artistQuestions.q1)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"Platforms force me to chase algorithms instead of focusing on my creative work."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-secondary)]",children:C(k.artistQuestions.q2)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"Social media is the only viable way to promote my work."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-secondary)]",children:C(k.artistQuestions.q3)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I feel anxiety about posting on social media."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-secondary)]",children:C(k.artistQuestions.q4)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I would pay for a platform offering safer sharing, deeper connections, and monetisation control."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-secondary)]",children:C(k.artistQuestions.q5)})]})]})]}),k.segments.includes("community")&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-teal)]",children:"Community Leader Questions"}),E.jsxs("div",{className:"space-y-3 bg-white p-4 rounded-lg border",children:[E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"Managing my community across disconnected tools feels unmanageable."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-teal)]",children:C(k.communityQuestions.q1)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"Community management contributes directly to my stress and burnout."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-teal)]",children:C(k.communityQuestions.q2)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I lack a clear view of who my members are and their engagement levels."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-teal)]",children:C(k.communityQuestions.q3)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I would adopt a unified platform with integrated tools within 12 months."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-teal)]",children:C(k.communityQuestions.q4)})]}),E.jsxs("div",{className:"grid grid-cols-[1fr,auto] gap-4 items-start text-sm border-t pt-3",children:[E.jsx("p",{className:"text-muted-foreground font-medium",children:"I would pay for a platform that reduces tools, improves insights, and frees my time."}),E.jsx("span",{className:"font-semibold text-[var(--kyozo-teal)]",children:C(k.communityQuestions.q5)})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Product Feedback Survey"}),E.jsxs("p",{className:"text-sm",children:[E.jsx("span",{className:"text-muted-foreground",children:"Response:"})," ",E.jsx("span",{className:`font-semibold ${k.productFeedbackSurvey==="yes"?"text-green-600":"text-gray-600"}`,children:k.productFeedbackSurvey==="yes"?"Yes, interested":"No, thank you"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Resonance Level"}),E.jsxs("p",{className:"text-sm",children:[E.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",E.jsx("span",{className:`font-semibold ${k.resonanceLevel==="high"?"text-green-600":"text-gray-600"}`,children:S(k.resonanceLevel)})]})]}),k.resonanceReasons.length>0&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Resonance Reasons"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:k.resonanceReasons.map(M=>E.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${M==="community"?"bg-[var(--kyozo-teal)] text-white":"bg-[var(--kyozo-secondary)] text-white"}`,children:R(M)},M))})]}),k.communitySelections.length>0&&E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-lg mb-3 text-[var(--kyozo-primary)]",children:"Beta Community Selections"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:k.communitySelections.map(M=>E.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${M==="asia"?"bg-[var(--kyozo-teal)] text-white":"bg-[var(--kyozo-secondary)] text-white"}`,children:M==="asia"?"Creative-Entrepreneurs : Asia":"Willer"},M))})]})]})})]},k.id))})})]})})}const MB="/logo.png";function OB(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,a]=b.useState([{id:"1",timestamp:"2026-01-18T14:32:00.000Z",firstName:"Sarah",lastName:"Chen",email:"sarah.chen@example.com",phone:"+1 415 555 0123",location:"San Francisco, USA",roleTypes:["Artist / Musician / Performer"],creativeWork:"I'm a visual artist and photographer focusing on urban landscapes and street photography. I've been building my portfolio over the past 5 years and now have a growing Instagram following of around 15K. I'm looking for better ways to connect with my audience and monetize my work beyond just sponsored posts.",segments:["artist"],artistQuestions:{q1:"strongly-agree",q2:"agree",q3:"strongly-agree",q4:"agree",q5:"strongly-agree"},communityQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},productFeedbackSurvey:"yes",resonanceLevel:"5",resonanceReasons:["control","relationships","freedom"],communitySelections:["asia"]},{id:"2",timestamp:"2026-01-17T09:15:00.000Z",firstName:"Marcus",lastName:"Johnson",email:"marcus@creativecollective.org",phone:"+44 20 7946 0958",location:"London, UK",roleTypes:["Community Builder"],creativeWork:"I run a creative collective of over 500 designers, artists, and makers in London. We organize monthly meetups, workshops, and collaborative projects. Managing everything across Discord, Eventbrite, Mailchimp, and Stripe has become overwhelming.",segments:["community"],artistQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},communityQuestions:{q1:"strongly-agree",q2:"strongly-agree",q3:"agree",q4:"strongly-agree",q5:"agree"},productFeedbackSurvey:"yes",resonanceLevel:"4",resonanceReasons:["community-tools","long-term"],communitySelections:["willer"]},{id:"3",timestamp:"2026-01-16T16:45:00.000Z",firstName:"Aisha",lastName:"Patel",email:"aisha.patel@designstudio.com",phone:"+65 9123 4567",location:"Singapore",roleTypes:["Creative Professional","Community Builder"],creativeWork:"I'm a freelance illustrator specializing in children's book illustrations, and I also run a small online community for Asian illustrators. We have about 200 active members who share work, give feedback, and collaborate on projects.",segments:["artist","community"],artistQuestions:{q1:"agree",q2:"strongly-agree",q3:"agree",q4:"strongly-agree",q5:"agree"},communityQuestions:{q1:"agree",q2:"agree",q3:"strongly-agree",q4:"agree",q5:"strongly-agree"},productFeedbackSurvey:"yes",resonanceLevel:"5",resonanceReasons:["all"],communitySelections:["asia","willer"]},{id:"4",timestamp:"2026-01-15T11:20:00.000Z",firstName:"Diego",lastName:"Rodriguez",email:"diego.r@musiclabel.com",phone:"+34 91 123 4567",location:"Madrid, Spain",roleTypes:["Artist / Musician / Performer","Catalyst"],creativeWork:"Independent electronic music producer and DJ. I release my own tracks and run a small record label supporting emerging artists. Looking for new ways to engage with fans beyond streaming platforms and build a sustainable income from my music.",segments:["artist"],artistQuestions:{q1:"strongly-agree",q2:"strongly-agree",q3:"neutral",q4:"disagree",q5:"agree"},communityQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},productFeedbackSurvey:"no",resonanceLevel:"2",resonanceReasons:["control"],communitySelections:[]},{id:"5",timestamp:"2026-01-14T08:30:00.000Z",firstName:"Emma",lastName:"Williams",email:"emma@craftcommunity.co",phone:"+61 2 9876 5432",location:"Sydney, Australia",roleTypes:["Community Builder","Explorer"],creativeWork:"I manage a craft and maker community with over 1,000 members across Australia. We offer online courses, host maker markets, and run a membership program. The technical overhead of managing multiple platforms is eating into my creative time.",segments:["community"],artistQuestions:{q1:"",q2:"",q3:"",q4:"",q5:""},communityQuestions:{q1:"strongly-agree",q2:"strongly-agree",q3:"strongly-agree",q4:"strongly-agree",q5:"strongly-agree"},productFeedbackSurvey:"yes",resonanceLevel:"4",resonanceReasons:["community-tools","safe-space","freedom"],communitySelections:["willer"]}]),l=m=>{a(y=>[...y,m])},u=()=>{e(!0)},h=()=>{r(!0),e(!1)},p=()=>{r(!1)};return E.jsx("div",{className:"min-h-screen bg-background relative overflow-hidden",children:n?E.jsx(VB,{onClose:p}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[E.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-gradient-to-br from-cyan-200/40 to-blue-300/30 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute -bottom-32 -left-32 w-[500px] h-[500px] bg-gradient-to-tr from-pink-200/40 to-purple-300/30 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute top-1/2 -right-40 w-80 h-80 bg-gradient-to-bl from-purple-200/30 to-pink-200/20 rounded-full blur-3xl"})]}),E.jsx(pt.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"py-6 px-6 relative z-10",children:E.jsx("div",{className:"max-w-6xl mx-auto",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center gap-2",children:E.jsx("img",{src:MB,alt:"Kyozo",className:"h-32"})}),E.jsxs("button",{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",onClick:u,children:[E.jsx(aV,{className:"w-4 h-4"}),"Admin"]})]})})}),E.jsx("main",{className:"py-8 px-4 relative z-10",children:E.jsx(NB,{onSubmit:l})}),t&&E.jsx(DB,{onAuthenticate:h,onCancel:()=>e(!1)}),E.jsx(pt.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},className:"py-12 text-center text-sm text-muted-foreground relative z-10",children:E.jsx("p",{children:" 2026 Kyozo. Built for creatives, by creatives."})})]})})}Yk.createRoot(document.getElementById("root")).render(E.jsx(OB,{}));
